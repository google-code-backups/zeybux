function TemplateData(){this.infobulle='<!-- BEGIN membres --><div class="ui-helper-hidden com-infobulle com-widget-window ui-widget ui-widget-content ui-corner-all" id="ifb-{membres.nom}"><div class="com-widget-header ui-widget ui-widget-header ui-corner-all">Erreurs : </div><!-- BEGIN erreurs --><div class="com-widget-content"><ul><li>N°{membres.erreurs.code} : {membres.erreurs.message}</li></ul></div><!-- END erreurs --></div><!-- END membres -->';this.infobulleLog="<!-- BEGIN erreurs --><ul><li>N°{erreurs.code} : {erreurs.message}</li></ul><!-- END erreurs -->"}function ActionInfobulles(){this.affect=function(a,b){switch(b){case 116:var c=this;a.find("#action-ifb-116").click(function(){var f=new IdentificationTemplate();var d=f.connexion;var e=$(d).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:370,buttons:{Connexion:function(){c.identifier($(this))}},close:function(g,h){$(this).remove()}});e.find("input").keyup(function(g){if(g.keyCode=="13"){c.identifier(e)}})});break}return a};this.identifier=function(c){var a=new IdentificationVO();a={fonction:"reconnecter",idConnexion:gIdConnexion,login:c.find(":input[name=login]").val(),pass:c.find(":input[name=pass]").val()};var b=new IdentificationValid();var d=b.validAjout(a);Infobulle.init();if(d.valid){$.post("./index.php?m=Identification&v=Identification","pParam="+$.toJSON(a),function(f){Infobulle.init();if(f.valid){var g=new TemplateVR();g.valid=false;g.log.valid=false;var e=new VRerreur();e.code=ERR_305_CODE;e.message=ERR_305_MSG;g.log.erreurs.push(e);Infobulle.generer(g,"");$(c).dialog("close")}else{Infobulle.generer(f,"")}},"json")}else{Infobulle.generer(d)}}}String.prototype.checkLength=function(b,a){return !(this.toString().length>a||this.toString().length<b)};Number.prototype.checkLength=function(b,a){return !(this.toString().length>a||this.toString().length<b)};String.prototype.isEmpty=function(){return !(this.toString().length>0)};Number.prototype.isEmpty=function(){return !(this.toString().length>0)};String.prototype.isInt=function(){return !isNaN(parseInt(this.toString()))};Number.prototype.isInt=function(){return !isNaN(parseInt(this.toString()))};String.prototype.isFloat=function(){return !isNaN(parseFloat(this.toString()))};Number.prototype.isFloat=function(){return !isNaN(parseFloat(this.toString()))};function isArray(a){if(a){return a.constructor==Array}return false}String.prototype.checkRegexp=function(b){var a=new RegExp(b);return a.test(this.toString())};String.prototype.checkCourriel=function(){var a=/^[\w.-]+@[\w.-]+\.[a-zA-Z]{2,6}$/g;return this.toString().checkRegexp(a)};String.prototype.checkTime=function(){var a=/^[0-9]{2}[:]{1}[0-9]{2}[:]{1}[0-9]{2}$/g;return this.toString().checkRegexp(a)};String.prototype.checkTimeExist=function(){var a=this.toString().split(":");if(a.length==3){return parseInt(a[0])>=0&&parseInt(a[0])<24&&parseInt(a[1])>=0&&parseInt(a[1])<60&&parseInt(a[2])>=0&&parseInt(a[2])<60}return false};String.prototype.checkDate=function(a){if(a===""){a="db"}var b="";if(a=="db"){b=/^\d{4}[\-](0?[1-9]|1[012])[\-](0?[1-9]|[12][0-9]|3[01])$/}else{if(a=="fr"){b=/^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])[\/]\d{4}$/}else{return false}}return this.toString().checkRegexp(b)};String.prototype.checkDateExist=function(type){if(type===""){type="db"}var lSplit="",lIndexAnnee=0,lIndexDate=0;if(type=="db"){lSplit="-";lIndexAnnee=0;lIndexDate=2}else{if(type=="fr"){lSplit="/";lIndexAnnee=2;lIndexDate=0}else{return false}}var ladate=this.toString().split(lSplit);if((ladate.length!=3)||isNaN(parseInt(ladate[0]))||isNaN(parseInt(ladate[1]))||isNaN(parseInt(ladate[2]))){return false}var unedate=new Date(eval(ladate[lIndexAnnee]),eval(ladate[1])-1,eval(ladate[lIndexDate]));var annee=unedate.getYear();if((Math.abs(annee)+"").length<4){annee=annee+1900}return((unedate.getDate()==eval(ladate[lIndexDate]))&&(unedate.getMonth()==eval(ladate[1])-1)&&(annee==eval(ladate[lIndexAnnee])))};String.prototype.checkDateTime=function(){var a=this.toString().split(" ");if(a.length==2){return(a[0].checkDate("db")&&a[1].checkTime())}return false};String.prototype.checkDateTimeExist=function(){var a=this.toString().split(" ");if(a.length==2){return(a[0].checkDateExist("db")&&a[1].checkTimeExist())}return false};function dateTimeEstPLusGrandeEgale(k,c,e){if(e===""){e="db"}var h="",l=0,g=0;if(e=="db"){h="-";l=0;g=2}else{if(e=="fr"){h="/";l=2;g=0}else{return false}}if(k.checkDateTime(e)&&c.checkDateTime(e)&&k.checkDateTimeExist(e)&&c.checkDateTimeExist(e)){var d=k.split(" ");var j=d[0].split(h);var b=d[1].replace(":","");j=j[l]+j[1]+j[g]+b;var f=c.split(" ");var a=f[0].split(h);var b=f[1].replace(":","");a=a[l]+a[1]+a[g]+b;return j>=a}return false}function dateEstPLusGrandeEgale(a,g,c){if(c===""){c="db"}var b="",e=0,f=0;if(c=="db"){b="-";e=0;f=2}else{if(c=="fr"){b="/";e=2;f=0}else{return false}}if(a.checkDate(c)&&g.checkDate(c)&&a.checkDateExist(c)&&g.checkDateExist(c)){var h=a.split(b);h=h[e]+h[1]+h[f];var d=g.split(b);d=d[e]+d[1]+d[f];return h>=d}return false}function timeEstPLusGrandeEgale(a,c){if(a.checkTime()&&c.checkTime()&&a.checkTimeExist()&&c.checkTimeExist()){var d=a.replace(":","");var b=c.replace(":","");return d>=b}return false}(function(a){a.fn.checkLength=function(c,b){this.removeClass("ui-state-error");if(this.val().length>b||this.val().length<c){this.addClass("ui-state-error");return false}else{return true}};a.fn.checkRegexp=function(b){this.removeClass("ui-state-error");if(!(b.test(this.val()))){this.addClass("ui-state-error");return false}else{return true}}})(jQuery);function clone(a){if(typeof(a)!="object"||a==null){return a}var c={};if(a.constructor()!=undefined){c=a.constructor()}for(var b in a){c[b]=clone(a[b])}return c}Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};function getDateAujourdhuiDb(){lDate=new Date();lAnnee=lDate.getFullYear();lMois=lDate.getMonth()+1;if(lMois<10){lMois="0"+lMois}lJour=lDate.getDate();if(lJour<10){lJour="0"+lJour}return lAnnee+"-"+lMois+"-"+lJour}function getTimeAujourdhuiDb(){lDate=new Date();lHeure=lDate.getHours();if(lHeure<10){lHeure="0"+lHeure}lMinute=lDate.getMinutes();if(lMinute<10){lMinute="0"+lMinute}lSeconde=lDate.getSeconds();if(lSeconde<10){lSeconde="0"+lSeconde}return lHeure+":"+lMinute+":"+lSeconde}function getDateTimeAujourdhuiDb(){return getDateAujourdhuiDb()+" "+getTimeAujourdhuiDb()}String.prototype.nombreFormate=function(a,b,c){return parseFloat(this).nombreFormate(a,b,c)};function getPremierJourDuMois(){var a=new Date();lMois=a.getMonth()+1;if(lMois<10){lMois="0"+lMois}return a.getFullYear()+"-"+lMois+"-01"}function getDernierJourDuMois(){var b=new Date();var a=new Date(b.getFullYear(),b.getMonth()+1,0);lMois=b.getMonth()+1;if(lMois<10){lMois="0"+lMois}lJour=a.getDate();if(lJour<10){lJour="0"+lJour}return b.getFullYear()+"-"+lMois+"-"+lJour}function differenceDateTime(c,a){var o=c.split(" ");var l=o[0].split("-");var k=o[1].split(":");var m=a.split(" ");var j=m[0].split("-");var h=m[1].split(":");var p=false;var e=l[0]-j[0];if(e<0){p=true;e=e*-1}if(e<10&&e>-10){e="0"+e.toString()}else{e=e.toString()}var d=l[1]-j[1];if(d<0){p=true;d=d*-1}if(d<10&&d>-10){d="0"+d.toString()}else{d=d.toString()}var f=l[2]-j[2];if(f<0){p=true;f=f*-1}if(f<10&&f>-10){f="0"+f.toString()}else{f=f.toString()}var n=k[0]-h[0];if(n<0){p=true;n=n*-1}if(n<10&&n>-10){n="0"+n.toString()}else{n=n.toString()}var q=k[1]-h[1];if(q<0){p=true;q=q*-1}if(q<10&&q>-10){q="0"+q.toString()}else{q=q.toString()}var g=k[2]-h[2];if(g<0){p=true;g=g*-1}if(g<10&&g>-10){g="0"+g.toString()}else{g=g.toString()}var b=e+d+f+n+q+g;if(p){b="-"+b}return parseFloat(b)}function htmlEncode(a){return $("<div/>").text(a).html()}function htmlDecode(a){return $("<div/>").html(a).text()}function jourSem(a){var b=new Date(a);return gJourSemaine[b.getDay()]}Number.prototype.nombreFormate=function(o,d,a){var c=String(this),g,p="",b="";if(o==undefined){o=2}if(d==undefined){d="."}if(a==undefined){a=" "}function n(q){var j="";while(q.length%3!=0){q="0"+q}for(g=0;g<q.length;g+=3){if(g==q.length-1){a=""}j+=q.substr(g,3)+a}while(j.substr(0,1)=="0"){j=j.substr(1)}if(j==a){j="0"+a}return j.substr(0,j.lastIndexOf(a))}if(c.indexOf(".")==-1){for(g=0;g<o;g++){b+="0"}p=n(c)+String(d)+b}else{var m=(c.substr(c.indexOf(".")+1));if(m.length>o){var k=m.length-o;var f=1;for(g=0;g<k;g++){f*=10}var e="";for(g=0;g<m.length;g++){if(m[g]=="0"){e+="0"}else{g=m.length}}b=e+Math.round(Number(m)/f)}else{if(m.length<o){var k=o-m.length;var h="";for(g=0;g<k;g++){h+="0"}b=m+h}else{b=m}}var l="";if(parseFloat(c)<1&&parseFloat(c)>0){l="0"}else{l=n(c.substr(0,c.indexOf(".")))}p=l+String(d)+b}return p};String.prototype.template=function(k,e){var c=this.toString();var j=[];function d(l){regexp=new RegExp("<!-- BEGIN (.*?) -->(.*)","g");splits=regexp.exec(l);if(splits!=null){j.push(splits[1]);d(splits[2])}}d(c);for(var b in j){c=c.replace("<!-- BEGIN "+j[b]+" -->","{"+j[b].split(".")[j[b].split(".").length-1]+"{");c=c.replace("<!-- END "+j[b]+" -->","}"+j[b].split(".")[j[b].split(".").length-1]+"}")}regexp=new RegExp("{(\\w*){(.*)}\\1}","g");splits=regexp.exec(c);if(splits){var a=splits[0];var h=splits[1];var f=splits[2];var g="";for(tag in k){if(typeof(tag)=="string"){if(e!=null){lTag=e+"."+tag}else{lTag=tag}regexp=new RegExp("{"+lTag+"}","g");f=f.replace(regexp,k[tag])}}for(tag in k[h]){if(e!=null){lBnameOut=e+"."+h}else{lBnameOut=h}g+=f.template(k[h][tag],lBnameOut)}c=c.replace(a,g);c=c.template(k)}for(tag in k){if(typeof(tag)=="string"){if(e!=null){lTag=e+"."+tag}else{lTag=tag}regexp=new RegExp("{"+lTag+"}","g");c=c.replace(regexp,k[tag])}}return c.replace(/{\w+}/g,"")};sortABC=function(d,c){return d[0]>c[0]?1:-1};function Infobulles(){this.init=function(){$(".com-infobulle").remove();$(".ui-state-error").removeClass("ui-state-error");$("#contenu_message_information").text("");$("#widget_message_information").hide()};this.generation=function(h,b){var c=false;var f=new Array();f.membres=new Array();if(!h.valid){for(i in h){if(i!="valid"){if(h[i]&&h[i].valid===false&&h[i].erreurs){var g=new Array();g.nom=b+i;g.erreurs=new Array();for(err in h[i].erreurs){var j=new Array();j.code=h[i].erreurs[err].code;if(String(j.code)[0]==3){c=true}j.message=h[i].erreurs[err].message;g.erreurs.push(j)}if(i=="log"||$("#"+b+i).length==0){var a=$("#contenu_message_information").html()+TemplateData.infobulleLog.template(g);a=$(a);if(a.find(".action-ifb").size()>0){var d=new ActionInfobulles();$(g.erreurs).each(function(){a=d.affect(a,this.code)})}$("#contenu_message_information").html(a);if(c){$("#widget_message_information").delay(gTempsTransition).fadeIn(gTempsTransitionUnique).delay(gTempsTransitionMsgInfo).fadeOut(gTempsTransitionUnique)}else{$("#widget_message_information").delay(gTempsTransition).fadeIn(gTempsTransitionUnique)}}else{f.membres.push(g);$("#"+b+i).addClass("ui-state-error");Infobulle.afficher($("#"+b+i))}}else{if(h[i]&&(!(h[i].valid===true)||(h[i].valid===false&&!h[i].erreurs))){this.generation(h[i],b+i)}}}}}$("body").append(TemplateData.infobulle.template(f))};this.generer=function(b,a){this.init();if(!a){lNomObj=""}else{lNomObj=a}this.generation(b,lNomObj)};this.afficher=function(d){var b={};function c(){var l="#ifb-"+d.attr("id");b=$(l);b.hide();var j=d.height()+8;var e=d.width()/2;var k=d.offset();var h=k;h.top=k.top+j;h.left=k.left+e;var g=$("#site").offset();var f=g;if((h.left+b.width())>(f.left+$("#site").width())){h.left-=b.width()}if((h.top+b.height())>(f.top+$("#site").height())){h.top-=(b.height()+2*d.height()+8)}b.css("position","absolute").css("z-index","11000");b.css(h).fadeIn(gTempsTransitionUnique)}function a(){b.stop().fadeTo(0,1).fadeOut(gTempsTransitionUnique)}d.hover(function(){c()},function(){a()})}}String.prototype.dateFrToDb=function(){var a=this.toString();if(a!==""){if(a.checkDateExist("fr")&&a.checkDate("fr")){return a[6]+a[7]+a[8]+a[9]+"-"+a[3]+a[4]+"-"+a[0]+a[1]}}return""};String.prototype.dateDbToFr=function(){var a=this.toString();if(a!==""){if(a.checkDateExist("db")&&a.checkDate("db")){return a[8]+a[9]+"/"+a[5]+a[6]+"/"+a[0]+a[1]+a[2]+a[3]}}return""};String.prototype.dateDbToTri=function(){var a=this.toString();if(a!==""){if(a.checkDateExist("db")&&a.checkDate("db")){return a[0]+a[1]+a[2]+a[3]+a[5]+a[6]+a[8]+a[9]}}return""};String.prototype.numberFrToDb=function(){var a=this.toString();if(a!==""){return a.replace(",",".").replace(" ","")}return""};String.prototype.extractDbDate=function(){var a=this.toString();if(a!==""){return a[0]+a[1]+a[2]+a[3]+a[4]+a[5]+a[6]+a[7]+a[8]+a[9]}return""};String.prototype.extractDbHeure=function(){var a=this.toString();if(a!==""){return a[11]+a[12]}return""};String.prototype.extractDbMinute=function(){var a=this.toString();if(a!==""){return a[14]+a[15]}return""};function MarcheVO(){this.id="";this.numero="";this.nom="";this.description="";this.dateMarcheDebut="";this.timeMarcheDebut="";this.dateMarcheFin="";this.timeMarcheFin="";this.dateDebutReservation="";this.timeDebutReservation="";this.dateFinReservation="";this.timeFinReservation="";this.archive="";this.produits=new Array();this.produitsAbonnement=new Array()}function RechercheListeOperationVO(){this.idMarche="";this.dateDebut="";this.dateFin=""}function ProduitBonDeCommandeVO(){this.id="";this.dcomId="";this.quantite="";this.prix=""}function IdentificationVO(){this.id="";this.login="";this.pass=""}function ExportFactureVO(){this.id="";this.format=""}function RechercheListeFactureVO(){this.idMarche="";this.dateDebut="";this.dateFin=""}function ProduitAbonnementVO(){this.id="";this.idNomProduit="";this.unite="";this.stockInitial="";this.max="";this.frequence="";this.lots=[];this.lotRemplacement=[];this.quantiteReservation=-1;this.tailleLotResaMax=-1}function CaracteristiqueVO(){this.id="";this.nom="";this.description=""}function NomProduitVO(){this.id="";this.nom="";this.description="";this.idCategorie=""}function FermeVO(){this.id="";this.numero="";this.compte="";this.nom="";this.siren="";this.adresse="";this.codePostal="";this.ville="";this.dateAdhesion="";this.description=""}function NomProduitCatalogueVO(){this.id="";this.numero="";this.idNomProduit="";this.idCategorie="";this.nom="";this.description="";this.producteurs=[];this.caracteristiques=[];this.modelesLot=[]}function RechercheListeAchatVO(){this.idMarche="";this.dateDebut="";this.dateFin=""}function CompteSolidaireModifierVirementVO(){this.id="";this.montantActuel="";this.montant="";this.solde=""}function CommandeCompleteVO(){this.id="";this.numero="";this.nom="";this.description="";this.dateMarcheDebut="";this.timeMarcheDebut="";this.dateMarcheFin="";this.timeMarcheFin="";this.dateDebutReservation="";this.timeDebutReservation="";this.dateFinReservation="";this.timeFinReservation="";this.archive="";this.produits=new Array()}function xxxRechargementCompteVO(){this.id="";this.montant="";this.typePaiement="";this.champComplementaire=[]}function ProduitDetailFactureVO(){this.idNomProduit="";this.idStock="";this.idDetailOperation="";this.idStockSolidaire="";this.quantite="";this.unite="";this.quantiteSolidaire="";this.uniteSolidaire="";this.montant=""}function AchatVO(){this.operationAchat="";this.operationAchatSolidaire="";this.produits=[];this.rechargement=""}function ProduitCommandeVO(){this.id="";this.idNom="";this.nom="";this.description="";this.idCategorie="";this.categorie="";this.descriptionCategorie="";this.unite="";this.qteMaxCommande="";this.qteRestante="";this.stockInitial="";this.idProducteur="";this.lots=new Array()}function ModeleLotVO(){this.id="";this.idNomProduit="";this.quantite="";this.unite="";this.prix=""}function ProduitAjoutAchatVO(){this.id="";this.idCompte="";this.idMarche="";this.idOperation="";this.idNomProduit="";this.quantite="";this.prix="";this.solidaire=""}function ProduitsBonDeCommandeVO(){this.id="";this.id_commande="";this.id_producteur="";this.export_type="";this.produits=new Array()}function ProduitBonDeLivraisonVO(){this.id="";this.quantite="";this.quantiteSolidaire="";this.prix=""}function ProduitsBonDeLivraisonVO(){this.id="";this.id_commande="";this.id_compte_producteur="";this.produits=new Array();this.typePaiement="";this.total="";this.typePaiementChampComplementaireObligatoire="";this.typePaiementChampComplementaire=""}function CompteZeybuSupprimerVirementVO(){this.id=""}function CompteSolidaireAjoutVirementVO(){this.id="";this.montant="";this.solde=""}function ExportListeReservationVO(){this.id="";this.pParam="";this.export_type="";this.id_commande="";this.id_produits="";this.format=""}function CategorieProduitVO(){this.id="";this.nom="";this.description=""}function ChampComplementaireVO(){this.id="";this.opeId="";this.obligatoire="";this.valeur=""}function ListeReservationCommandeVO(){this.detailReservation=new Array()}function BanqueVO(){this.id="";this.nomCourt="";this.nom="";this.description="";this.etat=""}function CompteZeybuAjoutVirementVO(){this.idCptDebit="";this.idCptCredit="";this.montant="";this.type=""}function CompteSpecialVO(){this.id="";this.login="";this.motPasse="";this.motPasseConfirm="";this.type=""}function ReservationCommandeVO(){this.id="";this.stoQuantite="";this.stoIdDetailCommande=""}function ProduitDetailAchatVO(){this.idNomProduit="";this.idStock="";this.idDetailOperation="";this.idStockSolidaire="";this.idDetailOperationSolidaire="";this.idDetailCommande="";this.idModeleLot="";this.idDetailCommandeSolidaire="";this.idModeleLotSolidaire="";this.quantite="";this.unite="";this.montant="";this.quantiteSolidaire="";this.uniteSolidaire="";this.montantSolidaire=""}function InfoAdherentVO(){this.id="";this.motPasse="";this.motPasseNouveau="";this.motPasseConfirm=""}function CompteZeybuModifierVirementVO(){this.id="";this.montant="";this.solde=""}function StockQuantiteVO(){this.id="";this.quantite="";this.quantiteSolidaire=""}function DetailCommandeVO(){this.id="";this.idProduit="";this.taille="";this.prix=""}function AchatCommandeVO(){this.id="";this.idCompte="";this.produits=new Array();this.produitsSolidaire=new Array();this.rechargement=""}function ProducteurVO(){this.id="";this.idFerme="";this.nom="";this.prenom="";this.dateNaissance="";this.commentaire="";this.courrielPrincipal="";this.courrielSecondaire="";this.telephonePrincipal="";this.telephoneSecondaire="";this.adresse="";this.codePostal="";this.ville=""}function ProduitMarcheVO(){this.id="";this.idNom="";this.nom="";this.description="";this.idCategorie="";this.categorie="";this.descriptionCategorie="";this.unite="";this.qteMaxCommande="";this.qteRestante="";this.stockInitial="";this.type="";this.lots=[];this.lotRemplacement=[];this.tailleLotResaMax=-1;this.quantiteReservation=-1}function FactureVO(){this.id="";this.operationProducteur="";this.operationZeybu="";this.produits=[]}function CompteSolidaireSupprimerVirementVO(){this.id=""}function AdherentVO(){this.id="";this.idAdherentPrincipal="";this.idAncienAdherentPrincipal="";this.numero="";this.compte="";this.idCompte="";this.nom="";this.prenom="";this.courrielPrincipal="";this.courrielSecondaire="";this.telephonePrincipal="";this.telephoneSecondaire="";this.adresse="";this.codePostal="";this.ville="";this.dateNaissance="";this.dateAdhesion="";this.commentaire="";this.modules=new Array()}function CompteAbonnementVO(){this.id="";this.idCompte="";this.idProduitAbonnement="";this.idLotAbonnement="";this.quantite="";this.dateDebutSuspension="";this.dateFinSuspension=""}function ExportBonReservationVO(){this.id="";this.id_commande="";this.format="";this.idCompteFerme=""}function OperationDetailVO(){this.id="";this.idCompte="";this.montant="";this.libelle="";this.date="";this.typePaiement="";this.type="";this.tppId="";this.tppType="";this.tppChampComplementaire="";this.tppVisible="";this.champComplementaire=[]}function ProduitAchatVO(){this.id="";this.nproId="";this.dcomId="";this.lotId="";this.quantite="";this.prix=""}function OperationDetailVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idCompte=new VRelement();this.montant=new VRelement();this.libelle=new VRelement();this.date=new VRelement();this.typePaiement=new VRelement();this.type=new VRelement();this.tppId=new VRelement();this.tppType=new VRelement();this.tppChampComplementaire=new VRelement();this.tppVisible=new VRelement();this.champComplementaire=[]}function FactureVR(){this.valid=true;this.log=new VRelement();this.operation=new VRelement();this.operationProducteur=new VRelement();this.operationZeybu=new VRelement();this.montant=new VRelement();this.typePaiement=new VRelement();this.champComplementaire=[];this.produits=[]}function ProduitsBonDeCommandeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.id_commande=new VRelement();this.id_compte_ferme=new VRelement();this.export_type=new VRelement();this.produits=new Array()}function NomProduitCatalogueVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.numero=new VRelement();this.idNomProduit=new VRelement();this.idCategorie=new VRelement();this.nom=new VRelement();this.description=new VRelement();this.producteurs=new VRelement();this.caracteristiques=new VRelement();this.modelesLot=[]}function DetailCommandeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idProduit=new VRelement();this.taille=new VRelement();this.prix=new VRelement()}function CompteAbonnementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idCompte=new VRelement();this.idProduitAbonnement=new VRelement();this.idLotAbonnement=new VRelement();this.quantite=new VRelement();this.dateDebutSuspension=new VRelement();this.dateFinSuspension=new VRelement()}function ChampComplementaireVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.obligatoire=new VRelement();this.valeur=new VRelement()}function IdentificationVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.login=new VRelement();this.pass=new VRelement()}function ListeReservationCommandeVR(){this.valid=true;this.log=new VRelement();this.detailReservation=new Array()}function InfoAdherentVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.motPasse=new VRelement();this.motPasseNouveau=new VRelement();this.motPasseConfirm=new VRelement()}function MarcheVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.numero=new VRelement();this.nom=new VRelement();this.description=new VRelement();this.dateMarcheDebut=new VRelement();this.timeMarcheDebut=new VRelement();this.dateMarcheFin=new VRelement();this.timeMarcheFin=new VRelement();this.dateDebutReservation=new VRelement();this.timeDebutReservation=new VRelement();this.dateFinReservation=new VRelement();this.timeFinReservation=new VRelement();this.archive=new VRelement();this.produits=new Array();this.produitsAbonnement=new Array()}function CompteZeybuSupprimerVirementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement()}function CompteSolidaireSupprimerVirementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement()}function RechercheListeOperationVR(){this.valid=true;this.log=new VRelement();this.idMarche=new VRelement();this.dateDebut=new VRelement();this.dateFin=new VRelement()}function ExportBonReservationVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.id_commande=new VRelement();this.format=new VRelement();this.idCompteFerme=new VRelement()}function NomProduitVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.nom=new VRelement();this.description=new VRelement();this.idCategorie=new VRelement()}function ProduitBonDeLivraisonVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.quantite=new VRelement();this.quantiteSolidaire=new VRelement();this.prix=new VRelement()}function ProduitCommandeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idNom=new VRelement();this.nom=new VRelement();this.description=new VRelement();this.idCategorie=new VRelement();this.categorie=new VRelement();this.descriptionCategorie=new VRelement();this.unite=new VRelement();this.qteMaxCommande=new VRelement();this.qteRestante=new VRelement();this.stockInitial=new VRelement();this.idProducteur=new VRelement();this.lots=new Array()}function ReservationCommandeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.stoQuantite=new VRelement();this.stoIdDetailCommande=new VRelement()}function CompteSpecialVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.login=new VRelement();this.motPasse=new VRelement();this.motPasseConfirm=new VRelement();this.type=new VRelement()}function AdherentVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idAdherentPrincipal=new VRelement();this.idAncienAdherentPrincipal=new VRelement();this.numero=new VRelement();this.idCompte=new VRelement();this.compte=new VRelement();this.nom=new VRelement();this.prenom=new VRelement();this.courrielPrincipal=new VRelement();this.courrielSecondaire=new VRelement();this.telephonePrincipal=new VRelement();this.telephoneSecondaire=new VRelement();this.adresse=new VRelement();this.codePostal=new VRelement();this.ville=new VRelement();this.dateNaissance=new VRelement();this.dateAdhesion=new VRelement();this.commentaire=new VRelement();this.modules=new Array()}function CompteZeybuAjoutVirementVR(){this.valid=true;this.log=new VRelement();this.idCptDebit=new VRelement();this.idCptCredit=new VRelement();this.montant=new VRelement();this.type=new VRelement()}function xxxRechargementCompteVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.montant=new VRelement();this.typePaiement=new VRelement();this.champComplementaire=[]}function CompteSolidaireAjoutVirementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.montant=new VRelement()}function ExportFactureVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.format=new VRelement()}function ExportListeReservationVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.pParam=new VRelement();this.export_type=new VRelement();this.id_commande=new VRelement();this.id_produits=new VRelement();this.format=new VRelement()}function CategorieProduitVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.nom=new VRelement();this.description=new VRelement()}function ProduitDetailAchatVR(){this.valid=true;this.log=new VRelement();this.idNomProduit=new VRelement();this.idStock=new VRelement();this.idDetailOperation=new VRelement();this.idStockSolidaire=new VRelement();this.idDetailOperationSolidaire=new VRelement();this.idDetailCommande=new VRelement();this.idModeleLot=new VRelement();this.idDetailCommandeSolidaire=new VRelement();this.idModeleLotSolidaire=new VRelement();this.quantite=new VRelement();this.unite=new VRelement();this.montant=new VRelement();this.quantiteSolidaire=new VRelement();this.uniteSolidaire=new VRelement();this.montantSolidaire=new VRelement()}function VRelement(a,b){if(a!=undefined){this.valid=a}else{this.valid=true}if(b!=undefined){this.erreurs=b}else{this.erreurs=[]}}function CompteZeybuModifierVirementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.montant=new VRelement()}function ProduitDetailFactureVR(){this.valid=true;this.log=new VRelement();this.idNomProduit=new VRelement();this.idStock=new VRelement();this.idDetailOperation=new VRelement();this.idStockSolidaire=new VRelement();this.quantite=new VRelement();this.unite=new VRelement();this.quantiteSolidaire=new VRelement();this.uniteSolidaire=new VRelement();this.montant=new VRelement()}function FermeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.numero=new VRelement();this.compte=new VRelement();this.siren=new VRelement();this.nom=new VRelement();this.adresse=new VRelement();this.codePostal=new VRelement();this.ville=new VRelement();this.dateAdhesion=new VRelement();this.description=new VRelement()}function VRerreur(a,b){if(a!=undefined){this.code=a}else{this.code=""}if(b!=undefined){this.message=b}else{this.message=""}}function ProduitMarcheVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idNom=new VRelement();this.description=new VRelement();this.unite=new VRelement();this.qteMaxCommande=new VRelement();this.qteRestante=new VRelement();this.stockInitial=new VRelement();this.type=new VRelement();this.lots=new Array()}function CompteSolidaireModifierVirementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.montant=new VRelement()}function RechercheListeAchatVR(){this.valid=true;this.log=new VRelement();this.idMarche=new VRelement();this.dateDebut=new VRelement();this.dateFin=new VRelement()}function ProduitAbonnementVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idNomProduit=new VRelement();this.unite=new VRelement();this.stockInitial=new VRelement();this.max=new VRelement();this.frequence=new VRelement();this.lots=[];this.lotRemplacement=[]}function TemplateVR(a,b){if(a!=undefined){this.valid=a}else{this.valid=true}if(b!=undefined){this.log=b}else{this.log=new VRelement()}}function ProduitAchatAdherentVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.quantite=new VRelement();this.prix=new VRelement()}function CommandeCompleteVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.numero=new VRelement();this.nom=new VRelement();this.description=new VRelement();this.dateMarcheDebut=new VRelement();this.timeMarcheDebut=new VRelement();this.dateMarcheFin=new VRelement();this.timeMarcheFin=new VRelement();this.dateDebutReservation=new VRelement();this.timeDebutReservation=new VRelement();this.dateFinReservation=new VRelement();this.timeFinReservation=new VRelement();this.archive=new VRelement();this.produits=new Array()}function BanqueVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.nomCourt=new VRelement();this.nom=new VRelement();this.description=new VRelement();this.etat=new VRelement()}function ModeleLotVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idNomProduit=new VRelement();this.quantite=new VRelement();this.unite=new VRelement();this.prix=new VRelement()}function ProduitsBonDeLivraisonVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.id_commande=new VRelement();this.id_compte_ferme=new VRelement();this.produits=new Array();this.typePaiement=new VRelement();this.total=new VRelement();this.typePaiementChampComplementaireObligatoire=new VRelement();this.typePaiementChampComplementaire=new VRelement()}function ProduitAchatVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.dcomId=new VRelement();this.lotId=new VRelement();this.nproId=new VRelement();this.quantite=new VRelement();this.prix=new VRelement()}function ProduitAjoutAchatVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idCompte=new VRelement();this.idMarche=new VRelement();this.idOperation=new VRelement();this.idNomProduit=new VRelement();this.quantite=new VRelement();this.prix=new VRelement();this.solidaire=new VRelement()}function ProduitBonDeCommandeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.dcomId=new VRelement();this.quantite=new VRelement();this.prix=new VRelement()}function CaracteristiqueVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.nom=new VRelement();this.description=new VRelement()}function RechercheListeFactureVR(){this.valid=true;this.log=new VRelement();this.idMarche=new VRelement();this.dateDebut=new VRelement();this.dateFin=new VRelement()}function AchatCommandeVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idCompte=new VRelement();this.produits=new Array();this.produitsSolidaire=new Array();this.rechargement=new VRelement()}function ProducteurVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.idFerme=new VRelement();this.nom=new VRelement();this.prenom=new VRelement();this.dateNaissance=new VRelement();this.compte=new VRelement();this.commentaire=new VRelement();this.courrielPrincipal=new VRelement();this.courrielSecondaire=new VRelement();this.telephonePrincipal=new VRelement();this.telephoneSecondaire=new VRelement();this.adresse=new VRelement();this.codePostal=new VRelement();this.ville=new VRelement()}function StockQuantiteVR(){this.valid=true;this.log=new VRelement();this.id=new VRelement();this.quantite=new VRelement();this.quantiteSolidaire=new VRelement()}function AchatVR(){this.valid=true;this.log=new VRelement();this.operationAchat=new VRelement();this.operationAchatSolidaire=new VRelement();this.produits=[];this.rechargement=new VRelement()}function AchatAdherentVR(){this.valid=true;this.log=new VRelement();this.idAchat=new VRelement();this.total=new VRelement();this.produits=new Array()}function CategorieProduitValid(){this.validAjout=function(b){var c=new NomProduitVR();if(!b.nom.checkLength(0,50)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.description.checkLength(0,500)){c.valid=false;c.description.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.description.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}return c};this.validUpdate=function(b){var c=new NomProduitVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.nom.checkLength(0,50)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.description.checkLength(0,500)){c.valid=false;c.description.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.description.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}return c}}function CaracteristiqueValid(){this.validAjout=function(b){var c=new CaracteristiqueVR();if(!b.nom.checkLength(0,50)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.description.checkLength(0,500)){c.valid=false;c.description.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.description.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}return c};this.validUpdate=function(b){var c=new CaracteristiqueVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(c.valid){return this.validAjout(b)}return c}}function ListeReservationCommandeValid(){this.validAjout=function(b){var c=new ListeReservationCommandeVR();if(isArray(b.detailReservation)){if(b.detailReservation.length>0){$(b.detailReservation).each(function(){var e=new ReservationCommandeValid();var d=e.validAjout(this);if(!d.valid){c.valid=false}c.detailReservation.push(d)})}else{c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_207_CODE;a.message=ERR_207_MSG;c.log.erreurs.push(a)}}else{c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_115_CODE;a.message=ERR_115_MSG;c.log.erreurs.push(a)}return c};this.validDelete=function(b){var c=new ListeReservationCommandeVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new ListeReservationCommandeVR();if(isArray(b.detailReservation)){if(b.detailReservation.length>0){$(b.detailReservation).each(function(){var f=new ReservationCommandeValid();var e=f.validAjout(this);if(!e.valid){c.valid=false}c.detailReservation.push(e)})}else{c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_207_CODE;a.message=ERR_207_MSG;c.log.erreurs.push(a)}}else{c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_115_CODE;a.message=ERR_115_MSG;c.log.erreurs.push(a)}return c}return d}}function ProduitAchatValid(){this.validAjout=function(b){var c=new ProduitAchatVR();if(isNaN(parseInt(b.id))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(isNaN(parseInt(b.nproId))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(b.prix!=""&&!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.dcomId!=""&&!b.dcomId.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.dcomId!=""&&!b.dcomId.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.lotId!=""&&!b.lotId.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.lotId!=""&&!b.lotId.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if((isNaN(b.quantite)||b.quantite==0||b.prix=="")&&(!isNaN(b.prix)&&b.prix!=0)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_214_CODE;a.message=ERR_214_MSG;c.quantite.erreurs.push(a)}if(b.quantite>=0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if((isNaN(b.prix)||b.prix==0||b.prix=="")&&(!isNaN(b.quantite)&&b.quantite!=0)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_213_CODE;a.message=ERR_213_MSG;c.prix.erreurs.push(a)}if(b.prix>=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}if(b.dcomId.isEmpty()&&b.lotId.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}return c};this.validDelete=function(b){var c=new ProduitAchatVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new ProduitAchatVR();if(isNaN(parseInt(b.id))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(isNaN(parseInt(b.nproId))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(b.prix!=""&&!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.dcomId!=""&&!b.dcomId.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.dcomId!=""&&!b.dcomId.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.lotId!=""&&!b.lotId.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.lotId!=""&&!b.lotId.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if((isNaN(b.quantite)||b.quantite==0)&&(!isNaN(b.prix)&&b.prix!=0)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_214_CODE;a.message=ERR_214_MSG;c.quantite.erreurs.push(a)}if(b.quantite<0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if((isNaN(b.prix)||b.prix==0)&&(!isNaN(b.quantite)&&b.quantite!=0)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_213_CODE;a.message=ERR_213_MSG;c.prix.erreurs.push(a)}if(b.prix<0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}if(b.dcomId.isEmpty()&&b.lotId.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}return c}return d}}function ProduitMarcheValid(){this.validAjout=function(d){var f=new ProduitMarcheVR();if(!d.idNom.checkLength(0,11)){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idNom.erreurs.push(b)}if(!d.idNom.isInt()){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idNom.erreurs.push(b)}if(!d.type.checkLength(0,11)){f.valid=false;f.type.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.type.erreurs.push(b)}if(!d.type.isInt()){f.valid=false;f.type.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.type.erreurs.push(b)}if(!d.unite.checkLength(0,20)){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.unite.erreurs.push(b)}if(d.qteMaxCommande!=""&&!d.qteMaxCommande.checkLength(0,12)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteMaxCommande!=""&&!d.qteMaxCommande.isFloat()){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=""&&!d.qteRestante.checkLength(0,12)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteRestante.erreurs.push(b)}if(d.qteRestante!=""&&!d.qteRestante.isFloat()){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.qteRestante.erreurs.push(b)}if(d.idNom.isEmpty()){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idNom.erreurs.push(b)}if(d.unite.isEmpty()){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.unite.erreurs.push(b)}if(d.type.isEmpty()){f.valid=false;f.type.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.type.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)>9999999999.99){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)>9999999999.99){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteRestante.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)<=0&&parseFloat(d.qteMaxCommande)!=-1){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)<=0&&parseFloat(d.qteRestante)!=-1){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.qteRestante.erreurs.push(b)}if(d.qteRestante!=-1&&d.qteMaxCommande!=-1&&parseFloat(d.qteMaxCommande)>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_205_CODE;b.message=ERR_205_MSG;f.qteRestante.erreurs.push(b);f.qteMaxCommande.erreurs.push(b)}if(isArray(d.lots)){if(d.lots.length>0){var e=new DetailCommandeValid();var c=0,g=d.lots[0].taille;while(d.lots[c]){var a=e.validAjout(d.lots[c]);if(!a.valid){f.valid=false}if(parseFloat(d.lots[c].taille)<g){g=parseFloat(d.lots[c].taille)}f.lots.push(a);c++}if(d.qteMaxCommande!=-1&&g>parseFloat(d.qteMaxCommande)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=-1&&g>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteRestante.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_243_CODE;b.message=ERR_243_MSG;f.log.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}return f};this.validUpdate=function(d){var f=new ProduitMarcheVR();if(!d.id.checkLength(0,11)){f.valid=false;f.id.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.id.erreurs.push(b)}if(!d.id.isInt()){f.valid=false;f.id.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.id.erreurs.push(b)}if(!d.type.checkLength(0,11)){f.valid=false;f.type.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.type.erreurs.push(b)}if(!d.type.isInt()){f.valid=false;f.type.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.type.erreurs.push(b)}if(!d.unite.checkLength(0,20)){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.unite.erreurs.push(b)}if(d.qteMaxCommande!=""&&!d.qteMaxCommande.checkLength(0,12)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteMaxCommande!=""&&!d.qteMaxCommande.isFloat()){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=""&&!d.qteRestante.checkLength(0,12)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteRestante.erreurs.push(b)}if(d.qteRestante!=""&&!d.qteRestante.isFloat()){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.qteRestante.erreurs.push(b)}if(d.id.isEmpty()){f.valid=false;f.id.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.id.erreurs.push(b)}if(d.unite.isEmpty()){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.unite.erreurs.push(b)}if(d.type.isEmpty()){f.valid=false;f.type.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.type.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)>9999999999.99){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)>9999999999.99){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteRestante.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)<=0&&parseFloat(d.qteMaxCommande)!=-1){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)<=0&&parseFloat(d.qteRestante)!=-1){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.qteRestante.erreurs.push(b)}if(d.qteRestante!=-1&&d.qteMaxCommande!=-1&&parseFloat(d.qteMaxCommande)>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_205_CODE;b.message=ERR_205_MSG;f.qteRestante.erreurs.push(b);f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=-1&&d.quantiteReservation!=-1&&parseFloat(d.qteRestante)<d.quantiteReservation){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_259_CODE;b.message=ERR_259_MSG;f.qteRestante.erreurs.push(b)}if(d.qteMaxCommande!=-1&&d.tailleLotResaMax!=-1&&parseFloat(d.qteMaxCommande)<d.tailleLotResaMax){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_260_CODE;b.message=ERR_260_MSG;f.qteMaxCommande.erreurs.push(b)}if(isArray(d.lots)){if(d.lots.length>0){var e=new DetailCommandeValid();var c=0,g=d.lots[0].taille;while(d.lots[c]){var a=e.validAjout(d.lots[c]);if(!a.valid){f.valid=false}if(parseFloat(d.lots[c].taille)<g){g=parseFloat(d.lots[c].taille)}f.lots.push(a);c++}if(d.qteMaxCommande!=-1&&g>parseFloat(d.qteMaxCommande)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=-1&&g>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteRestante.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_243_CODE;b.message=ERR_243_MSG;f.log.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}if(!isArray(d.lotRemplacement)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}return f}}function AchatCommandeValid(){this.validAjout=function(a){var j=new AchatCommandeVR();if(isNaN(parseInt(a.id))){j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_104_CODE;e.message=ERR_104_MSG;j.log.erreurs.push(e)}if(!a.idCompte.checkLength(0,11)){j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_101_CODE;e.message=ERR_101_MSG;j.log.erreurs.push(e)}if(!a.idCompte.isInt()){j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_108_CODE;e.message=ERR_108_MSG;j.log.erreurs.push(e)}if(a.idCompte.isEmpty()){j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_201_CODE;e.message=ERR_201_MSG;j.log.erreurs.push(e)}var b=false;if(isArray(a.produits)){if(a.produits.length>0&&a.produits[0]!=""){b=true;var g=new ProduitAchatValid();var c=0;var k=0;while(a.produits[c]){var d=g.validAjout(a.produits[c]);if(!d.valid){j.valid=false}if(!a.produits[c].id.isEmpty()){j.produits[a.produits[c].id]=d}else{j.produits.push(d)}if(!isNaN(a.produits[c].quantite)&&a.produits[c].quantite!=0){k++}c++}}}else{j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_111_CODE;e.message=ERR_111_MSG;j.log.erreurs.push(e)}if(isArray(a.produitsSolidaire)){if(a.produitsSolidaire.length>0&&a.produitsSolidaire[0]!=""){b=true;var g=new ProduitAchatValid();var c=0;var h=0;while(a.produitsSolidaire[c]){var d=g.validAjout(a.produitsSolidaire[c]);if(!d.valid){j.valid=false}if(!a.produitsSolidaire[c].id.isEmpty()){j.produitsSolidaire[a.produitsSolidaire[c].id]=d}else{j.produitsSolidaire.push(d)}if(!isNaN(a.produitsSolidaire[c].quantite)&&a.produitsSolidaire[c].quantite!=0){h++}c++}}}else{j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_115_CODE;e.message=ERR_115_MSG;j.log.erreurs.push(e)}if((!a.rechargement.montant.isEmpty()&&a.rechargement.montant!=0)||(!a.rechargement.typePaiement.isEmpty()&&a.rechargement.typePaiement!=0)){var f=new OperationDetailValid();j.rechargement=f.validAjout(a.rechargement);if(!j.rechargement.valid){j.valid=false;j.rechargement.montant.valid=false}}else{if(!b){j.valid=false;j.log.valid=false;var e=new VRerreur();e.code=ERR_207_CODE;e.message=ERR_207_MSG;j.log.erreurs.push(e)}}return j};this.validAjoutInvite=function(a){var k=new AchatCommandeVR();if(isNaN(parseInt(a.id))){k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_104_CODE;f.message=ERR_104_MSG;k.log.erreurs.push(f)}if(!a.idCompte.checkLength(0,11)){k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_101_CODE;f.message=ERR_101_MSG;k.log.erreurs.push(f)}if(!a.idCompte.isInt()){k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_108_CODE;f.message=ERR_108_MSG;k.log.erreurs.push(f)}if(a.idCompte.isEmpty()){k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_201_CODE;f.message=ERR_201_MSG;k.log.erreurs.push(f)}var b=false;var e=0;if(isArray(a.produits)){if(a.produits.length>0&&a.produits[0]!=""){b=true;var h=new ProduitAchatValid();var c=0;var l=0;while(a.produits[c]){var d=h.validAjout(a.produits[c]);if(!d.valid){k.valid=false}if(!a.produits[c].id.isEmpty()){k.produits[a.produits[c].id]=d}else{k.produits.push(d)}if(!isNaN(a.produits[c].quantite)&&a.produits[c].quantite!=0){l++}e=(parseFloat(e)+parseFloat(a.produits[c].prix)).toFixed(2);c++}}}else{k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_111_CODE;f.message=ERR_111_MSG;k.log.erreurs.push(f)}if(isArray(a.produitsSolidaire)){if(a.produitsSolidaire.length>0&&a.produitsSolidaire[0]!=""){b=true;var h=new ProduitAchatValid();var c=0;var j=0;while(a.produitsSolidaire[c]){var d=h.validAjout(a.produitsSolidaire[c]);if(!d.valid){k.valid=false}if(!a.produitsSolidaire[c].id.isEmpty()){k.produitsSolidaire[a.produitsSolidaire[c].id]=d}else{k.produitsSolidaire.push(d)}if(!isNaN(a.produitsSolidaire[c].quantite)&&a.produitsSolidaire[c].quantite!=0){j++}e=(parseFloat(e)+parseFloat(a.produitsSolidaire[c].prix)).toFixed(2);c++}}}else{k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_115_CODE;f.message=ERR_115_MSG;k.log.erreurs.push(f)}if(!b){k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_207_CODE;f.message=ERR_207_MSG;k.log.erreurs.push(f)}if((!a.rechargement.montant.isEmpty()&&a.rechargement.montant!=0)||(!a.rechargement.typePaiement.isEmpty()&&a.rechargement.typePaiement!=0)){var g=new OperationDetailValid();k.rechargement=g.validAjout(a.rechargement);if(!k.rechargement.valid){k.valid=false;k.rechargement.montant.valid=false}e=(parseFloat(e)+parseFloat(a.rechargement.montant)).toFixed(2)}if(e!=0){k.valid=false;k.log.valid=false;var f=new VRerreur();f.code=ERR_244_CODE;f.message=ERR_244_MSG;k.log.erreurs.push(f)}return k};this.validDelete=function(b){var c=new AchatCommandeVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(f){var h=this.validDelete(f);if(h.valid){var g=new AchatCommandeVR();if(isNaN(parseInt(f.id))){g.valid=false;g.log.valid=false;var c=new VRerreur();c.code=ERR_104_CODE;c.message=ERR_104_MSG;g.log.erreurs.push(c)}if(!f.idCompte.checkLength(0,11)){g.valid=false;g.idCompte.valid=false;var c=new VRerreur();c.code=ERR_101_CODE;c.message=ERR_101_MSG;g.idCompte.erreurs.push(c)}if(!f.idCompte.isInt()){g.valid=false;g.idCompte.valid=false;var c=new VRerreur();c.code=ERR_108_CODE;c.message=ERR_108_MSG;g.idCompte.erreurs.push(c)}if(f.idCompte.isEmpty()){g.valid=false;g.idCompte.valid=false;var c=new VRerreur();c.code=ERR_201_CODE;c.message=ERR_201_MSG;g.idCompte.erreurs.push(c)}if(isArray(f.produits)){if(f.produits.length>0){var b=new ProduitAchatValid();var e=0;while(f.produits[e]){var d=b.validAjout(f.produits[e]);if(!d.valid){g.valid=false}if(!f.produits[e].id.isEmpty()){g.produits[f.produits[e].id]=d}else{g.produits.push(d)}e++}}else{g.valid=false;g.log.valid=false;var c=new VRerreur();c.code=ERR_207_CODE;c.message=ERR_207_MSG;g.log.erreurs.push(c)}}else{g.valid=false;g.log.valid=false;var c=new VRerreur();c.code=ERR_111_CODE;c.message=ERR_111_MSG;g.log.erreurs.push(c)}if(!isNaN(f.rechargement.montant)&&f.rechargement.montant!=0){var a=new OperationDetailValid();g.rechargement=a.validAjout(f.rechargement);if(!g.rechargement.valid){g.valid=false}}return g}return h}}function DetailCommandeValid(){this.validAjout=function(b){var c=new DetailCommandeVR();if(!b.idProduit.checkLength(0,11)){c.valid=false;c.idProduit.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idProduit.erreurs.push(a)}if(b.idProduit!=""&&!b.idProduit.isInt()){c.valid=false;c.idProduit.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idProduit.erreurs.push(a)}if(!b.taille.checkLength(0,12)){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.taille.erreurs.push(a)}if(!b.taille.isInt()){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.taille.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.taille.isEmpty()){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.taille.erreurs.push(a)}if(b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.prix.erreurs.push(a)}if(parseFloat(b.taille)>9999999999.99){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.taille.erreurs.push(a)}if(parseFloat(b.prix)>9999999999.99){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(parseFloat(b.taille)<=0){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.taille.erreurs.push(a)}if(parseFloat(b.prix)<=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c};this.validDelete=function(b){var c=new DetailCommandeVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new DetailCommandeVR();if(!b.idProduit.checkLength(0,11)){c.valid=false;c.idProduit.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idProduit.erreurs.push(a)}if(!b.idProduit.isInt()){c.valid=false;c.idProduit.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idProduit.erreurs.push(a)}if(!b.taille.checkLength(0,12)){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.taille.erreurs.push(a)}if(!b.taille.isInt()){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.taille.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.idProduit.isEmpty()){c.valid=false;c.idProduit.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idProduit.erreurs.push(a)}if(b.taille.isEmpty()){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.taille.erreurs.push(a)}if(b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.prix.erreurs.push(a)}if(parseFloat(b.taille)<=0){c.valid=false;c.taille.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.taille.erreurs.push(a)}if(parseFloat(b.prix)<=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c}return d}}function ProduitDetailFactureValid(){this.validAjout=function(b){var c=new ProduitDetailFactureVR();if(isNaN(parseInt(b.idNomProduit))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idStock!=""&&isNaN(parseInt(b.idStock))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idDetailOperation!=""&&isNaN(parseInt(b.idDetailOperation))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idStockSolidaire!=""&&isNaN(parseInt(b.idStockSolidaire))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(b.unite!=""&&!b.unite.checkLength(0,20)){c.valid=false;c.unite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.unite.erreurs.push(a)}if(b.quantiteSolidaire!=""&&!b.quantiteSolidaire.checkLength(0,12)){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.quantiteSolidaire!=""&&!b.quantiteSolidaire.isFloat()){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.uniteSolidaire!=""&&!b.uniteSolidaire.checkLength(0,20)){c.valid=false;c.uniteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.uniteSolidaire.erreurs.push(a)}if(b.montant!=""&&!b.montant.checkLength(0,12)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montant.erreurs.push(a)}if(b.montant!=""&&!b.montant.isFloat()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montant.erreurs.push(a)}if(b.idNomProduit==""){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(b.montant!=""&&b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&b.montant.isEmpty()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montant.erreurs.push(a)}if(b.quantite!=""&&b.quantite<0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.quantiteSolidaire<0){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.montant!=""&&b.montant<0){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montant.erreurs.push(a)}return c}}function ProduitBonDeCommandeValid(){this.validAjout=function(b){var c=new ProduitBonDeCommandeVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.dcomId.checkLength(0,11)){c.valid=false;c.dcomId.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.dcomId.erreurs.push(a)}if(!b.dcomId.isInt()){c.valid=false;c.dcomId.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.dcomId.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(b.prix!=""&&!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(b.prix!=""&&!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.dcomId.isEmpty()){c.valid=false;c.dcomId.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dcomId.erreurs.push(a)}if(b.prix!=""&&b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.prix.erreurs.push(a)}if(b.quantite!=""&&b.quantite<0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(b.prix!=""&&b.prix<0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c}}function ProduitAbonnementValid(){this.validAjout=function(d){var f=new ProduitAbonnementVR();if(!d.idNomProduit.checkLength(0,11)){f.valid=false;f.idNomProduit.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idNomProduit.erreurs.push(b)}if(isNaN(parseInt(d.idNomProduit))){f.valid=false;f.idNomProduit.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.idNomProduit.erreurs.push(b)}if(!d.unite.checkLength(0,20)){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.unite.erreurs.push(b)}if(!d.stockInitial.checkLength(0,12)){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.stockInitial.erreurs.push(b)}if(!d.stockInitial.isFloat()){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.stockInitial.erreurs.push(b)}if(!d.max.checkLength(0,12)){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.max.erreurs.push(b)}if(!d.max.isFloat()){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.max.erreurs.push(b)}if(!d.frequence.checkLength(0,200)){f.valid=false;f.frequence.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.frequence.erreurs.push(b)}if(d.idNomProduit.isEmpty()){f.valid=false;f.idNomProduit.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idNomProduit.erreurs.push(b)}if(d.unite.isEmpty()){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.unite.erreurs.push(b)}if(d.stockInitial.isEmpty()){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.stockInitial.erreurs.push(b)}if(d.max.isEmpty()){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.max.erreurs.push(b)}if(d.frequence.isEmpty()){f.valid=false;f.frequence.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.frequence.erreurs.push(b)}if(d.stockInitial<=0){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.stockInitial.erreurs.push(b)}if(d.max<=0&&d.max!=-1){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.max.erreurs.push(b)}if(d.max!=-1&&parseFloat(d.max)>parseFloat(d.stockInitial)){f.valid=false;f.stockInitial.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_205_CODE;b.message=ERR_205_MSG;f.stockInitial.erreurs.push(b);f.max.erreurs.push(b)}if(isArray(d.lots)){if(d.lots.length>0){var e=new DetailCommandeValid();var c=0,g=d.lots[0].taille;while(d.lots[c]){var a=e.validAjout(d.lots[c]);if(!a.valid){f.valid=false}if(parseFloat(d.lots[c].taille)<g){g=parseFloat(d.lots[c].taille)}f.lots.push(a);c++}if(d.qteMaxCommande!=-1&&g>parseFloat(d.qteMaxCommande)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=-1&&g>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteRestante.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_243_CODE;b.message=ERR_243_MSG;f.log.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}return f};this.validDelete=function(b){var c=new ProduitAbonnementVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(d){var f=new ProduitAbonnementVR();if(!d.id.checkLength(0,11)){f.valid=false;f.id.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.id.erreurs.push(b)}if(isNaN(parseInt(d.id))){f.valid=false;f.id.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.id.erreurs.push(b)}if(!d.unite.checkLength(0,20)){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.unite.erreurs.push(b)}if(!d.stockInitial.checkLength(0,12)){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.stockInitial.erreurs.push(b)}if(!d.stockInitial.isFloat()){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.stockInitial.erreurs.push(b)}if(!d.max.checkLength(0,12)){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.max.erreurs.push(b)}if(!d.max.isFloat()){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.max.erreurs.push(b)}if(!d.frequence.checkLength(0,200)){f.valid=false;f.frequence.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.frequence.erreurs.push(b)}if(d.id.isEmpty()){f.valid=false;f.id.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.id.erreurs.push(b)}if(d.unite.isEmpty()){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.unite.erreurs.push(b)}if(d.stockInitial.isEmpty()){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.stockInitial.erreurs.push(b)}if(d.max.isEmpty()){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.max.erreurs.push(b)}if(d.frequence.isEmpty()){f.valid=false;f.frequence.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.frequence.erreurs.push(b)}if(d.stockInitial<=0){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.stockInitial.erreurs.push(b)}if(d.max<=0&&d.max!=-1){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.max.erreurs.push(b)}if(d.max!=-1&&parseFloat(d.max)>parseFloat(d.stockInitial)){f.valid=false;f.stockInitial.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_205_CODE;b.message=ERR_205_MSG;f.stockInitial.erreurs.push(b);f.max.erreurs.push(b)}if(d.quantiteReservation!=-1&&parseFloat(d.stockInitial)<d.quantiteReservation){f.valid=false;f.stockInitial.valid=false;var b=new VRerreur();b.code=ERR_259_CODE;b.message=ERR_259_MSG;f.stockInitial.erreurs.push(b)}if(d.max!=-1&&d.tailleLotResaMax!=-1&&parseFloat(d.max)<d.tailleLotResaMax){f.valid=false;f.max.valid=false;var b=new VRerreur();b.code=ERR_260_CODE;b.message=ERR_260_MSG;f.max.erreurs.push(b)}if(isArray(d.lots)){if(d.lots.length>0){var e=new DetailCommandeValid();var c=0,g=d.lots[0].taille;while(d.lots[c]){var a=e.validAjout(d.lots[c]);if(!a.valid){f.valid=false}if(parseFloat(d.lots[c].taille)<g){g=parseFloat(d.lots[c].taille)}f.lots.push(a);c++}if(d.qteMaxCommande!=-1&&g>parseFloat(d.qteMaxCommande)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante!=-1&&g>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;f.qteRestante.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_243_CODE;b.message=ERR_243_MSG;f.log.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}if(!isArray(d.lotRemplacement)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}return f}}function CompteAbonnementValid(){this.validAjout=function(c,b){var e=new CompteAbonnementVR();if(!c.idCompte.checkLength(0,11)){e.valid=false;e.idCompte.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;e.idCompte.erreurs.push(a)}if(isNaN(parseInt(c.idCompte))){e.valid=false;e.idCompte.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;e.idCompte.erreurs.push(a)}if(!c.idProduitAbonnement.checkLength(0,11)){e.valid=false;e.idProduitAbonnement.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;e.idProduitAbonnement.erreurs.push(a)}if(isNaN(parseInt(c.idProduitAbonnement))){e.valid=false;e.idProduitAbonnement.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;e.idProduitAbonnement.erreurs.push(a)}if(!c.idLotAbonnement.checkLength(0,11)){e.valid=false;e.idLotAbonnement.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;e.idLotAbonnement.erreurs.push(a)}if(isNaN(parseInt(c.idLotAbonnement))){e.valid=false;e.idLotAbonnement.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;e.idLotAbonnement.erreurs.push(a)}if(!c.quantite.checkLength(0,12)){e.valid=false;e.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;e.quantite.erreurs.push(a)}if(!c.quantite.isFloat()){e.valid=false;e.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;e.quantite.erreurs.push(a)}if(c.idCompte.isEmpty()){e.valid=false;e.idCompte.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;e.idCompte.erreurs.push(a)}if(c.idProduitAbonnement.isEmpty()){e.valid=false;e.idProduitAbonnement.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;e.idProduitAbonnement.erreurs.push(a)}if(c.idLotAbonnement.isEmpty()){e.valid=false;e.idLotAbonnement.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;e.idLotAbonnement.erreurs.push(a)}if(c.quantite.isEmpty()){e.valid=false;e.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;e.quantite.erreurs.push(a)}if(c.quantite<=0){e.valid=false;e.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;e.quantite.erreurs.push(a)}var d=parseFloat(b.proAboStockInitial)-parseFloat(b.proAboReservation);if(parseFloat(b.proAboMax)<d&&parseFloat(b.proAboMax)!=-1){d=b.proAboMax}if(parseFloat(c.quantite)>parseFloat(d)){e.valid=false;e.quantite.valid=false;var a=new VRerreur();a.code=ERR_205_CODE;a.message=ERR_205_MSG;e.quantite.erreurs.push(a)}return e};this.validUpdate=function(d,c,b){var f=new CompteAbonnementVR();if(!d.id.checkLength(0,11)){f.valid=false;f.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;f.id.erreurs.push(a)}if(isNaN(parseInt(d.id))){f.valid=false;f.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;f.id.erreurs.push(a)}if(!d.idCompte.checkLength(0,11)){f.valid=false;f.idCompte.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;f.idCompte.erreurs.push(a)}if(isNaN(parseInt(d.idCompte))){f.valid=false;f.idCompte.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;f.idCompte.erreurs.push(a)}if(!d.idProduitAbonnement.checkLength(0,11)){f.valid=false;f.idProduitAbonnement.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;f.idProduitAbonnement.erreurs.push(a)}if(isNaN(parseInt(d.idProduitAbonnement))){f.valid=false;f.idProduitAbonnement.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;f.idProduitAbonnement.erreurs.push(a)}if(!d.idLotAbonnement.checkLength(0,11)){f.valid=false;f.idLotAbonnement.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;f.idLotAbonnement.erreurs.push(a)}if(isNaN(parseInt(d.idLotAbonnement))){f.valid=false;f.idLotAbonnement.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;f.idLotAbonnement.erreurs.push(a)}if(!d.quantite.checkLength(0,12)){f.valid=false;f.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;f.quantite.erreurs.push(a)}if(!d.quantite.isFloat()){f.valid=false;f.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;f.quantite.erreurs.push(a)}if(d.id.isEmpty()){f.valid=false;f.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;f.id.erreurs.push(a)}if(d.idCompte.isEmpty()){f.valid=false;f.idCompte.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;f.idCompte.erreurs.push(a)}if(d.idProduitAbonnement.isEmpty()){f.valid=false;f.idProduitAbonnement.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;f.idProduitAbonnement.erreurs.push(a)}if(d.idLotAbonnement.isEmpty()){f.valid=false;f.idLotAbonnement.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;f.idLotAbonnement.erreurs.push(a)}if(d.quantite.isEmpty()){f.valid=false;f.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;f.quantite.erreurs.push(a)}if(d.quantite<=0){f.valid=false;f.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;f.quantite.erreurs.push(a)}var e=parseFloat(c.proAboStockInitial)-parseFloat(c.proAboReservation)+parseFloat(b.cptAboQuantite);if(parseFloat(c.proAboMax)<e&&parseFloat(c.proAboMax)!=-1){e=c.proAboMax}if(parseFloat(d.quantite)>parseFloat(e)){f.valid=false;f.quantite.valid=false;var a=new VRerreur();a.code=ERR_205_CODE;a.message=ERR_205_MSG;f.quantite.erreurs.push(a)}return f};this.validAjoutSuspension=function(c){var d=new CompteAbonnementVR();if(!c.idCompte.checkLength(0,11)){d.valid=false;d.idCompte.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.idCompte.erreurs.push(a)}if(isNaN(parseInt(c.idCompte))){d.valid=false;d.idCompte.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;d.idCompte.erreurs.push(a)}if(!c.dateDebutSuspension.checkDate("db")){d.valid=false;d.dateDebutSuspension.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateDebutSuspension.erreurs.push(a)}if(!c.dateDebutSuspension.checkDateExist("db")){d.valid=false;d.dateDebutSuspension.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateDebutSuspension.erreurs.push(a)}if(!c.dateFinSuspension.checkDate("db")){d.valid=false;d.dateFinSuspension.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateFinSuspension.erreurs.push(a)}if(!c.dateFinSuspension.checkDateExist("db")){d.valid=false;d.dateFinSuspension.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateFinSuspension.erreurs.push(a)}if(c.idCompte.isEmpty()){d.valid=false;d.idCompte.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.idCompte.erreurs.push(a)}if(c.dateDebutSuspension.isEmpty()){d.valid=false;d.dateDebutSuspension.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.dateDebutSuspension.erreurs.push(a)}if(c.dateFinSuspension.isEmpty()){d.valid=false;d.dateFinSuspension.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.dateFinSuspension.erreurs.push(a)}if(!dateEstPLusGrandeEgale(c.dateFinSuspension,c.dateDebutSuspension,"db")){d.valid=false;d.dateFinSuspension.valid=false;d.dateDebutSuspension.valid=false;var a=new VRerreur();a.code=ERR_252_CODE;a.message=ERR_252_MSG;d.dateFinSuspension.erreurs.push(a);d.dateDebutSuspension.erreurs.push(a)}var b=getDateAujourdhuiDb();if(!dateEstPLusGrandeEgale(c.dateFinSuspension,b,"db")){d.valid=false;d.dateFinSuspension.valid=false;var a=new VRerreur();a.code=ERR_209_CODE;a.message=ERR_209_MSG;d.dateFinSuspension.erreurs.push(a)}return d};this.validDeleteSuspension=function(b){var c=new CompteAbonnementVR();if(!b.idCompte.checkLength(0,11)){c.valid=false;c.idCompte.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCompte.erreurs.push(a)}if(isNaN(parseInt(b.idCompte))){c.valid=false;c.idCompte.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.idCompte.erreurs.push(a)}if(b.idCompte.isEmpty()){c.valid=false;c.idCompte.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCompte.erreurs.push(a)}return c}}function xxxRechargementCompteValid(){this.validAjout=function(c){var e=new RechargementCompteVR();if(isNaN(parseInt(c.id))){e.valid=false;e.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;e.log.erreurs.push(b)}if(!c.montant.checkLength(0,12)){e.valid=false;e.montant.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;e.montant.erreurs.push(b)}if(!c.montant.isFloat()){e.valid=false;e.montant.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;e.montant.erreurs.push(b)}if(!c.typePaiement.checkLength(0,11)){e.valid=false;e.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;e.typePaiement.erreurs.push(b)}if(!c.typePaiement.isInt()){e.valid=false;e.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;e.typePaiement.erreurs.push(b)}if(c.montant.isEmpty()){e.valid=false;e.montant.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;e.montant.erreurs.push(b)}if(c.montant<0){e.valid=false;e.montant.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;e.montant.erreurs.push(b)}if(c.typePaiement.isEmpty()||c.typePaiement==0){e.valid=false;e.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;e.typePaiement.erreurs.push(b)}if(isArray(c.champComplementaire)){if(c.champComplementaire.length>0){var d=new ChampComplementaireValid();for(i in c.champComplementaire){var a=d.validUpdate(c.champComplementaire[i]);if(!a.valid){e.valid=false}if(!c.champComplementaire[i].id.isEmpty()){e.champComplementaire[c.champComplementaire[i].id]=a}else{e.champComplementaire.push(a)}}}}else{e.valid=false;e.champComplementaire.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;e.champComplementaire.erreurs.push(b)}return e};this.validDelete=function(b){var c=new RechargementCompteVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(d){var g=this.validDelete(d);if(g.valid){var f=new RechargementCompteVR();if(isNaN(parseInt(d.id))){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.log.erreurs.push(b)}if(!d.montant.checkLength(0,12)){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.montant.erreurs.push(b)}if(!d.montant.isFloat()){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.montant.erreurs.push(b)}if(!d.typePaiement.checkLength(0,11)){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.typePaiement.erreurs.push(b)}if(!d.typePaiement.isInt()){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.typePaiement.erreurs.push(b)}if(d.montant.isEmpty()){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.montant.erreurs.push(b)}if(d.montant<0){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.montant.erreurs.push(b)}if(d.typePaiement.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(isArray(d.champComplementaire)){if(d.champComplementaire.length>0&&d.champComplementaire[0]!=""){var e=new ChampComplementaireValid();var c=0;while(d.champComplementaire[c]){var a=e.validUpdate(d.champComplementaire[c]);if(!a.valid){f.valid=false}if(!d.champComplementaire[c].id.isEmpty()){f.champComplementaire[d.champComplementaire[c].id]=a}else{f.champComplementaire.push(a)}c++}}}else{f.valid=false;f.champComplementaire.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;f.champComplementaire.erreurs.push(b)}return f}return g}}function NomProduitCatalogueValid(){this.validAjout=function(d){var f=new NomProduitCatalogueVR();if(!d.numero.checkLength(0,50)){f.valid=false;f.numero.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.numero.erreurs.push(b)}if(!d.idCategorie.checkLength(0,11)){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idCategorie.erreurs.push(b)}if(!d.idCategorie.isInt()){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idCategorie.erreurs.push(b)}if(!d.nom.checkLength(0,50)){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.nom.erreurs.push(b)}if(!d.description.checkLength(0,500)){f.valid=false;f.description.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.description.erreurs.push(b)}if(!isArray(d.producteurs)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(!isArray(d.caracteristiques)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(!isArray(d.modelesLot)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(f.valid){if(d.idCategorie.isEmpty()){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idCategorie.erreurs.push(b)}if(d.idCategorie==0){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idCategorie.erreurs.push(b)}if(d.nom.isEmpty()){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.nom.erreurs.push(b)}if(d.producteurs.length>0&&d.producteurs[0]!=""){var c=0;while(d.producteurs[c]){if(!d.producteurs[c].checkLength(0,11)){f.valid=false;f.producteurs.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.producteurs.erreurs.push(b)}if(!d.producteurs[c].isInt()){f.valid=false;f.producteurs.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.producteurs.erreurs.push(b)}c++}}if(d.caracteristiques.length>0&&d.caracteristiques[0]!=""){var c=0;while(d.caracteristiques[c]){if(!d.caracteristiques[c].checkLength(0,11)){f.valid=false;f.caracteristiques.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.caracteristiques.erreurs.push(b)}if(!d.caracteristiques[c].isInt()){f.valid=false;f.caracteristiques.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.caracteristiques.erreurs.push(b)}c++}}if(d.modelesLot.length>0&&d.modelesLot[0]!=""){var e=new ModeleLotValid();var c=0;while(d.modelesLot[c]){var a=e.validAjout(d.modelesLot[c]);if(!a.valid){a.valid=false}f.modelesLot.push(a);c++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_264_CODE;b.message=ERR_264_MSG;f.log.erreurs.push(b)}}return f};this.validUpdate=function(d){var f=new NomProduitCatalogueVR();if(!d.numero.checkLength(0,50)){f.valid=false;f.numero.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.numero.erreurs.push(b)}if(!d.idNomProduit.checkLength(0,11)){f.valid=false;f.idNomProduit.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idNomProduit.erreurs.push(b)}if(!d.idNomProduit.isInt()){f.valid=false;f.idNomProduit.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idNomProduit.erreurs.push(b)}if(!d.idCategorie.checkLength(0,11)){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idCategorie.erreurs.push(b)}if(!d.idCategorie.isInt()){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idCategorie.erreurs.push(b)}if(!d.nom.checkLength(0,50)){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.nom.erreurs.push(b)}if(!d.description.checkLength(0,500)){f.valid=false;f.description.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.description.erreurs.push(b)}if(!isArray(d.producteurs)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(!isArray(d.caracteristiques)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(!isArray(d.modelesLot)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(f.valid){if(d.numero.isEmpty()){f.valid=false;f.numero.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.numero.erreurs.push(b)}if(d.idNomProduit.isEmpty()){f.valid=false;f.idNomProduit.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idNomProduit.erreurs.push(b)}if(d.idCategorie.isEmpty()){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idCategorie.erreurs.push(b)}if(d.idCategorie==0){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idCategorie.erreurs.push(b)}if(d.nom.isEmpty()){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.nom.erreurs.push(b)}if(d.producteurs.length>0&&d.producteurs[0]!=""){var c=0;while(d.producteurs[c]){if(!d.producteurs[c].checkLength(0,11)){f.valid=false;f.producteurs.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.producteurs.erreurs.push(b)}if(!d.producteurs[c].isInt()){f.valid=false;f.producteurs.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.producteurs.erreurs.push(b)}c++}}if(d.caracteristiques.length>0&&d.caracteristiques[0]!=""){var c=0;while(d.caracteristiques[c]){if(!d.caracteristiques[c].checkLength(0,11)){f.valid=false;f.caracteristiques.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.caracteristiques.erreurs.push(b)}if(!d.caracteristiques[c].isInt()){f.valid=false;f.caracteristiques.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.caracteristiques.erreurs.push(b)}c++}}if(d.modelesLot.length>0&&d.modelesLot[0]!=""){var e=new ModeleLotValid();var c=0;while(d.modelesLot[c]){var a;if(d.modelesLot[c].id.isEmpty()){a=e.validAjout(d.modelesLot[c])}else{a=e.validUpdate(d.modelesLot[c])}if(!a.valid){a.valid=false}f.modelesLot.push(a);c++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_264_CODE;b.message=ERR_264_MSG;f.log.erreurs.push(b)}}return f}}function ExportFactureValid(){this.validAjout=function(b){var c=new ExportFactureVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id_commande.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id_commande.erreurs.push(a)}if(!b.format.checkLength(0,1)){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.format.erreurs.push(a)}if(!b.format.isInt()){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.format.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id_commande.erreurs.push(a)}if(b.format.isEmpty()){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.format.erreurs.push(a)}return c}}function FermeValid(){this.validAjout=function(g){var h=new FermeVR();if(!g.nom.checkLength(0,300)){h.valid=false;h.nom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;h.nom.erreurs.push(b)}if(!g.siren.checkLength(0,9)){h.valid=false;h.siren.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;h.siren.erreurs.push(b)}if(!g.adresse.checkLength(0,300)){h.valid=false;h.adresse.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;h.adresse.erreurs.push(b)}if(!g.codePostal.checkLength(0,10)){h.valid=false;h.codePostal.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;h.codePostal.erreurs.push(b)}if(!g.ville.checkLength(0,100)){h.valid=false;h.ville.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;h.ville.erreurs.push(b)}if(!g.dateAdhesion.checkDate("db")){h.valid=false;h.dateAdhesion.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;h.dateAdhesion.erreurs.push(b)}if(!g.dateAdhesion.checkDateExist("db")){h.valid=false;h.dateAdhesion.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;h.dateAdhesion.erreurs.push(b)}if(!g.description.checkLength(0,500)){h.valid=false;h.description.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;h.description.erreurs.push(b)}if(g.nom.isEmpty()){h.valid=false;h.nom.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;h.nom.erreurs.push(b)}if(g.dateAdhesion.isEmpty()){h.valid=false;h.dateAdhesion.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;h.dateAdhesion.erreurs.push(b)}if(g.siren!=""){var f=true;var c=0;var e=g.siren.length-1;while(e>=0){var a=0;if(f){a=g.siren[e]*1}else{a=g.siren[e]*2}if(a>9){a-=9}c+=a;f=!f;e--}if(c%10!=0||!g.siren.checkLength(0,9)){h.valid=false;h.siren.valid=false;var b=new VRerreur();b.code=ERR_242_CODE;b.message=ERR_242_MSG;h.siren.erreurs.push(b)}}var d=getDateAujourdhuiDb();if(!dateEstPLusGrandeEgale(d,g.dateAdhesion,"db")){h.valid=false;h.dateAdhesion.valid=false;var b=new VRerreur();b.code=ERR_230_CODE;b.message=ERR_230_MSG;h.dateAdhesion.erreurs.push(b)}return h};this.validUpdate=function(b){var c=new FermeVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(c.valid){return this.validAjout(b)}return c}}function ProduitsBonDeCommandeValid(){this.validAjout=function(e){var f=new ProduitsBonDeCommandeVR();if(!e.id_commande.checkLength(0,11)){f.valid=false;f.id_commande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.id_commande.erreurs.push(b)}if(!e.id_commande.isInt()){f.valid=false;f.id_commande.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.id_commande.erreurs.push(b)}if(!e.id_compte_ferme.checkLength(0,11)){f.valid=false;f.id_compte_ferme.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.id_compte_ferme.erreurs.push(b)}if(!e.id_compte_ferme.isInt()){f.valid=false;f.id_compte_ferme.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.id_compte_ferme.erreurs.push(b)}if(!e.export_type.checkLength(0,1)){f.valid=false;f.export_type.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.export_type.erreurs.push(b)}if(!e.export_type.isInt()){f.valid=false;f.export_type.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.export_type.erreurs.push(b)}if(!isArray(e.produits)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;f.log.erreurs.push(b)}if(e.id_commande.isEmpty()){f.valid=false;f.id_commande.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.id_commande.erreurs.push(b)}if(e.id_compte_ferme.isEmpty()){f.valid=false;f.id_compte_ferme.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.id_compte_ferme.erreurs.push(b)}if(e.export_type.isEmpty()){f.valid=false;f.export_type.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.export_type.erreurs.push(b)}if(e.produits.length>0){var a=new ProduitBonDeCommandeValid();var d=0;while(e.produits[d]){var c=a.validAjout(e.produits[d]);if(!c.valid){f.valid=false}if(e.produits[d].dcomId){f.produits[e.produits[d].dcomId]=c}d++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}return f}}function ReservationAdherentValid(){this.validUpdate=function(e){var f=new AchatAdherentVR();if(isNaN(parseInt(e.etat))){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.log.erreurs.push(b)}if(e.total!=""&&!e.total.checkLength(0,12)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.total.erreurs.push(b)}if(e.total!=""&&!e.total.isFloat()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.total.erreurs.push(b)}if(isArray(e.produits)){if(e.produits.length>0&&e.produits[0]!=""){lNbPdt=true;var a=new ProduitAchatAdherentValid();var d=0;while(e.produits[d]){var c=a.validUpdate(e.produits[d]);if(!c.valid){f.valid=false}if(!e.produits[d].id.isEmpty()){f.produits[e.produits[d].id]=c}else{f.produits.push(c)}d++}}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}return f}}function FactureValid(){this.validEnregistrer=function(f){var h=new FactureVR();if(!f.id){h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_104_CODE;c.message=ERR_104_MSG;h.log.erreurs.push(c)}else{if(f.id.id!=""&&isNaN(parseInt(f.id.id))){h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_104_CODE;c.message=ERR_104_MSG;h.log.erreurs.push(c)}if(f.id.id!=""&&!f.id.id.checkLength(0,11)){h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_101_CODE;c.message=ERR_101_MSG;h.log.erreurs.push(c)}}if(!f.operationProducteur||isNaN(parseInt(f.operationProducteur.idCompte))){h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_104_CODE;c.message=ERR_104_MSG;h.log.erreurs.push(c)}if(!f.operationProducteur.montant.checkLength(0,12)){h.valid=false;h.montant.valid=false;var c=new VRerreur();c.code=ERR_101_CODE;c.message=ERR_101_MSG;h.montant.erreurs.push(c)}if(!f.operationProducteur.montant.isFloat()){h.valid=false;h.montant.valid=false;var c=new VRerreur();c.code=ERR_109_CODE;c.message=ERR_109_MSG;h.montant.erreurs.push(c)}if(!f.operationProducteur.typePaiement.checkLength(0,11)){h.valid=false;h.typePaiement.valid=false;var c=new VRerreur();c.code=ERR_101_CODE;c.message=ERR_101_MSG;h.typePaiement.erreurs.push(c)}if(!f.operationProducteur.typePaiement.isInt()){h.valid=false;h.typePaiement.valid=false;var c=new VRerreur();c.code=ERR_108_CODE;c.message=ERR_108_MSG;h.typePaiement.erreurs.push(c)}if(!isArray(f.produits)){h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_115_CODE;c.message=ERR_115_MSG;h.log.erreurs.push(c)}if(f.operationProducteur.montant.isEmpty()){h.valid=false;h.montant.valid=false;var c=new VRerreur();c.code=ERR_201_CODE;c.message=ERR_201_MSG;h.montant.erreurs.push(c)}if(f.operationProducteur.montant<0){h.valid=false;h.montant.valid=false;var c=new VRerreur();c.code=ERR_215_CODE;c.message=ERR_215_MSG;h.montant.erreurs.push(c)}if(f.operationProducteur.typePaiement.isEmpty()||f.operationProducteur.typePaiement<0){h.valid=false;h.typePaiement.valid=false;var c=new VRerreur();c.code=ERR_201_CODE;c.message=ERR_201_MSG;h.typePaiement.erreurs.push(c)}if(isArray(f.operationProducteur.champComplementaire)){if(f.operationProducteur.champComplementaire.length>0){var g=new ChampComplementaireValid();for(e in f.operationProducteur.champComplementaire){var b=g.validUpdate(f.operationProducteur.champComplementaire[e]);if(!b.valid){h.valid=false}if(!f.operationProducteur.champComplementaire[e].id.isEmpty()){h.champComplementaire[f.operationProducteur.champComplementaire[e].id]=b}else{h.champComplementaire.push(b)}}}}else{h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_115_CODE;c.message=ERR_115_MSG;h.log.erreurs.push(c)}if(f.produits.length>0){var a=new ProduitDetailFactureValid();var e=0;while(f.produits[e]){var d=a.validAjout(f.produits[e]);if(!d.valid){h.valid=false}h.produits[e]=d;e++}}else{h.valid=false;h.log.valid=false;var c=new VRerreur();c.code=ERR_201_CODE;c.message=ERR_201_MSG;h.log.erreurs.push(c)}return h};this.validRechercheListeFacture=function(b){var c=new RechercheListeFactureVR();if(b.dateDebut!=""&&!b.dateDebut.checkDate("db")){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateDebut.erreurs.push(a)}if(b.dateDebut!=""&&!b.dateDebut.checkDateExist("db")){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateDebut.erreurs.push(a)}if(b.dateFin!=""&&!b.dateFin.checkDate("db")){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateFin.erreurs.push(a)}if(b.dateFin!=""&&!b.dateFin.checkDateExist("db")){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateFin.erreurs.push(a)}if(b.idMarche!=""&&isNaN(parseInt(b.idMarche))){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.idMarche.erreurs.push(a)}if(b.idMarche!=""&&!b.idMarche.checkLength(0,11)){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idMarche.erreurs.push(a)}if(b.dateDebut!=""&&b.dateFin!=""&&!dateEstPLusGrandeEgale(b.dateFin,b.dateDebut,"db")){c.valid=false;c.dateDebut.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;c.dateDebut.erreurs.push(a);c.dateFin.erreurs.push(a)}if(b.dateDebut!=""&&b.dateFin==""){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateFin.erreurs.push(a)}if(b.dateDebut==""&&b.dateFin!=""){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateDebut.erreurs.push(a)}return c}}function AchatValid(){this.validAjout=function(a){var m=new AchatVR();var k=null;var c=new OperationDetailValid();if(a.operationAchat!=""){m.operationAchat=c.validAjout(a.operationAchat,{negatif:true});if(!m.operationAchat.valid){m.valid=false;m.operationAchat.valid=false}else{k=a.operationAchat.idCompte}}if(a.operationAchatSolidaire!=""){m.operationAchatSolidaire=c.validAjout(a.operationAchatSolidaire,{negatif:true});if(!m.operationAchatSolidaire.valid){m.valid=false;m.operationAchatSolidaire.valid=false}else{k=a.operationAchatSolidaire.idCompte}}var d=false;var h=0;if(isArray(a.produits)){if(a.produits.length>0){d=true;var j=new ProduitDetailAchatValid();var e=0;while(a.produits[e]){var f=j.validAjout(a.produits[e]);if(!f.valid){m.valid=false}else{var b=parseFloat(a.produits[e].montant);if(isNaN(b)){b=0}var l=parseFloat(a.produits[e].montantSolidaire);if(isNaN(l)){l=0}h=(parseFloat(h)+b+l).toFixed(2)}if(!a.produits[e].id.isEmpty()){m.produits[a.produits[e].id]=f}else{m.produits.push(f)}e++}}}else{m.valid=false;m.log.valid=false;var g=new VRerreur();g.code=ERR_111_CODE;g.message=ERR_111_MSG;m.log.erreurs.push(g)}if(k==-3){if(!d){m.valid=false;m.log.valid=false;var g=new VRerreur();g.code=ERR_207_CODE;g.message=ERR_207_MSG;m.log.erreurs.push(g)}if(a.rechargement!=""&&((!a.rechargement.montant.isEmpty()&&a.rechargement.montant!=0)||(!a.rechargement.typePaiement.isEmpty()&&a.rechargement.typePaiement!=0))){m.rechargement=c.validAjout(a.rechargement);if(!m.rechargement.valid){m.valid=false;m.rechargement.montant.valid=false}h=(parseFloat(h)+parseFloat(a.rechargement.montant)).toFixed(2)}if(h!=0){m.valid=false;m.log.valid=false;var g=new VRerreur();g.code=ERR_244_CODE;g.message=ERR_244_MSG;m.log.erreurs.push(g)}}else{if(a.rechargement!=""&&((!a.rechargement.montant.isEmpty()&&a.rechargement.montant!=0)||(!a.rechargement.typePaiement.isEmpty()&&a.rechargement.typePaiement!=0))){m.rechargement=c.validAjout(a.rechargement,{zeroAutorise:true});if(!m.rechargement.valid){m.valid=false;m.rechargement.montant.valid=false}}else{if(!d){m.valid=false;m.log.valid=false;var g=new VRerreur();g.code=ERR_207_CODE;g.message=ERR_207_MSG;m.log.erreurs.push(g)}}}return m};this.validRechercheListeAchat=function(b){var c=new RechercheListeAchatVR();if(b.dateDebut!=""&&!b.dateDebut.checkDate("db")){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateDebut.erreurs.push(a)}if(b.dateDebut!=""&&!b.dateDebut.checkDateExist("db")){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateDebut.erreurs.push(a)}if(b.dateFin!=""&&!b.dateFin.checkDate("db")){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateFin.erreurs.push(a)}if(b.dateFin!=""&&!b.dateFin.checkDateExist("db")){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateFin.erreurs.push(a)}if(b.idMarche!=""&&isNaN(parseInt(b.idMarche))){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.idMarche.erreurs.push(a)}if(b.idMarche!=""&&!b.idMarche.checkLength(0,11)){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idMarche.erreurs.push(a)}if(b.dateDebut!=""&&b.dateFin!=""&&!dateEstPLusGrandeEgale(b.dateFin,b.dateDebut,"db")){c.valid=false;c.dateDebut.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;c.dateDebut.erreurs.push(a);c.dateFin.erreurs.push(a)}if(b.dateDebut!=""&&b.dateFin==""){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateFin.erreurs.push(a)}if(b.dateDebut==""&&b.dateFin!=""){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateDebut.erreurs.push(a)}return c}}function ProduitAjoutAchatValid(){this.validAjout=function(b){var c=new ProduitAjoutAchatVR();if(!b.idCompte.checkLength(0,11)){c.valid=false;c.idCompte.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCompte.erreurs.push(a)}if(!b.idCompte.isInt()){c.valid=false;c.idCompte.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idCompte.erreurs.push(a)}if(!b.idMarche.checkLength(0,11)){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idMarche.erreurs.push(a)}if(b.idMarche!=""&&!b.idMarche.isInt()){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idMarche.erreurs.push(a)}if(!b.idOperation.checkLength(0,11)){c.valid=false;c.idOperation.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idOperation.erreurs.push(a)}if(b.idOperation!=""&&!b.idOperation.isInt()){c.valid=false;c.idOperation.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idOperation.erreurs.push(a)}if(!b.idNomProduit.checkLength(0,11)){c.valid=false;c.idNomProduit.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idNomProduit.erreurs.push(a)}if(!b.idNomProduit.isInt()){c.valid=false;c.idNomProduit.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idNomProduit.erreurs.push(a)}if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(!b.solidaire.checkLength(0,1)){c.valid=false;c.solidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.solidaire.erreurs.push(a)}if(!b.solidaire.isInt()){c.valid=false;c.solidaire.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.solidaire.erreurs.push(a)}if(b.idCompte.isEmpty()){c.valid=false;c.idCompte.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCompte.erreurs.push(a)}if(b.idNomProduit.isEmpty()){c.valid=false;c.idNomProduit.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idNomProduit.erreurs.push(a)}if(b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_214_CODE;a.message=ERR_214_MSG;c.quantite.erreurs.push(a)}if(b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_213_CODE;a.message=ERR_213_MSG;c.prix.erreurs.push(a)}if(b.solidaire.isEmpty()){c.valid=false;c.solidaire.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.solidaire.erreurs.push(a)}if(b.quantite>=0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(b.prix>=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c}}function CompteSolidaireVirementValid(){this.validAjout=function(b){var c=new CompteSolidaireAjoutVirementVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.montant.checkLength(0,12)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montant.erreurs.push(a)}if(!b.montant.isFloat()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montant.erreurs.push(a)}if(!b.solde.checkLength(0,12)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(!b.solde.isFloat()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.log.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.montant.isEmpty()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montant.erreurs.push(a)}if(b.montant<=0){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montant.erreurs.push(a)}if(b.solde.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(parseFloat(b.montant)>parseFloat(b.solde)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_237_CODE;a.message=ERR_237_MSG;c.montant.erreurs.push(a)}return c};this.validUpdate=function(b){var c=new CompteSolidaireModifierVirementVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.montantActuel.checkLength(0,12)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(!b.montantActuel.isFloat()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.log.erreurs.push(a)}if(!b.montant.checkLength(0,12)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montant.erreurs.push(a)}if(!b.montant.isFloat()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montant.erreurs.push(a)}if(!b.solde.checkLength(0,12)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(!b.solde.isFloat()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.log.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.montantActuel.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(b.montant.isEmpty()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montant.erreurs.push(a)}if(b.solde.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(b.montant<=0){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montant.erreurs.push(a)}if(parseFloat(b.montant)>(parseFloat(b.solde)+parseFloat(b.montantActuel))){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_237_CODE;a.message=ERR_237_MSG;c.montant.erreurs.push(a)}return c};this.validDelete=function(b){var c=new CompteSolidaireSupprimerVirementVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}return c}}function BanqueValid(){this.validAjout=function(b){var c=new BanqueVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(b.id!=""&&!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.nomCourt.checkLength(0,50)){c.valid=false;c.nomCourt.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nomCourt.erreurs.push(a)}if(!b.nom.checkLength(0,200)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.etat.checkLength(0,4)){c.valid=false;c.etat.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.etat.erreurs.push(a)}if(b.etat!=""&&!b.etat.isInt()){c.valid=false;c.etat.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.etat.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}return c};this.validDelete=function(b){var c=new BanqueVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new BanqueVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.nomCourt.checkLength(0,50)){c.valid=false;c.nomCourt.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nomCourt.erreurs.push(a)}if(!b.nom.checkLength(0,200)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.etat.checkLength(0,4)){c.valid=false;c.etat.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.etat.erreurs.push(a)}if(b.etat!=""&&!b.etat.isInt()){c.valid=false;c.etat.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.etat.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}return c}return d}}function ProducteurValid(){this.validAjout=function(c){var d=new ProducteurVR();if(!c.idFerme.checkLength(0,11)){d.valid=false;d.idFerme.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.idFerme.erreurs.push(a)}if(isNaN(parseInt(c.idFerme))){d.valid=false;d.idFerme.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;d.idFerme.erreurs.push(a)}if(!c.nom.checkLength(0,50)){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.nom.erreurs.push(a)}if(!c.prenom.checkLength(0,50)){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.prenom.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDate("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDateExist("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateNaissance.erreurs.push(a)}if(!c.commentaire.checkLength(0,500)){d.valid=false;d.commentaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.commentaire.erreurs.push(a)}if(!c.courrielPrincipal.checkLength(0,100)){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielPrincipal.erreurs.push(a)}if(c.courrielPrincipal!=""&&!c.courrielPrincipal.checkCourriel()){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_102_CODE;a.message=ERR_102_MSG;d.courrielPrincipal.erreurs.push(a)}if(!c.courrielSecondaire.checkLength(0,100)){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielSecondaire.erreurs.push(a)}if(c.courrielSecondaire!=""&&!c.courrielSecondaire.checkCourriel()){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_102_CODE;a.message=ERR_102_MSG;d.courrielSecondaire.erreurs.push(a)}if(!c.telephonePrincipal.checkLength(0,20)){d.valid=false;d.telephonePrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephonePrincipal.erreurs.push(a)}if(!c.telephoneSecondaire.checkLength(0,20)){d.valid=false;d.telephoneSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephoneSecondaire.erreurs.push(a)}if(!c.adresse.checkLength(0,300)){d.valid=false;d.adresse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.adresse.erreurs.push(a)}if(!c.codePostal.checkLength(0,10)){d.valid=false;d.codePostal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.codePostal.erreurs.push(a)}if(!c.ville.checkLength(0,100)){d.valid=false;d.ville.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.ville.erreurs.push(a)}if(c.idFerme.isEmpty()){d.valid=false;d.idFerme.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.idFerme.erreurs.push(a)}if(c.nom.isEmpty()){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.nom.erreurs.push(a)}if(c.prenom.isEmpty()){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.prenom.erreurs.push(a)}var b=getDateAujourdhuiDb();if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(b,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateNaissance.erreurs.push(a)}return d};this.validUpdate=function(b){var c=new ProducteurVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(c.valid){return this.validAjout(b)}return c}}function ProduitsBonDeLivraisonValid(){this.validAjout=function(e){var f=new ProduitsBonDeLivraisonVR();if(!e.id_commande.checkLength(0,11)){f.valid=false;f.id_commande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.id_commande.erreurs.push(b)}if(!e.id_commande.isInt()){f.valid=false;f.id_commande.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.id_commande.erreurs.push(b)}if(!e.id_compte_ferme.checkLength(0,11)){f.valid=false;f.id_compte_ferme.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.id_compte_ferme.erreurs.push(b)}if(!e.id_compte_ferme.isInt()){f.valid=false;f.id_compte_ferme.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.id_compte_ferme.erreurs.push(b)}if(!isArray(e.produits)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;f.log.erreurs.push(b)}if(!e.typePaiement.checkLength(0,11)){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.typePaiement.erreurs.push(b)}if(!e.typePaiement.isInt()){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.typePaiement.erreurs.push(b)}if(!e.total.checkLength(0,12)){f.valid=false;f.total.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.total.erreurs.push(b)}if(!e.total.isFloat()){f.valid=false;f.total.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.total.erreurs.push(b)}if(!e.typePaiementChampComplementaireObligatoire.checkLength(0,1)){f.valid=false;f.typePaiementChampComplementaireObligatoire.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.typePaiementChampComplementaireObligatoire.erreurs.push(b)}if(!e.typePaiementChampComplementaireObligatoire.isInt()){f.valid=false;f.typePaiementChampComplementaireObligatoire.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.typePaiementChampComplementaireObligatoire.erreurs.push(b)}if(e.typePaiementChampComplementaire!=""&&!e.typePaiementChampComplementaire.checkLength(0,50)){f.valid=false;f.typePaiementChampComplementaire.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.typePaiementChampComplementaire.erreurs.push(b)}if(e.id_commande.isEmpty()){f.valid=false;f.id_commande.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.id_commande.erreurs.push(b)}if(e.id_compte_ferme.isEmpty()){f.valid=false;f.id_compte_ferme.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.id_compte_ferme.erreurs.push(b)}if(e.typePaiement.isEmpty()){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.typePaiement.erreurs.push(b)}if(e.total.isEmpty()){f.valid=false;f.total.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.total.erreurs.push(b)}if(e.typePaiement==0){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_236_CODE;b.message=ERR_236_MSG;f.typePaiement.erreurs.push(b)}if(e.total<0){f.valid=false;f.total.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.total.erreurs.push(b)}if(e.typePaiementChampComplementaireObligatoire.isEmpty()){f.valid=false;f.typePaiementChampComplementaireObligatoire.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.typePaiementChampComplementaireObligatoire.erreurs.push(b)}if(e.typePaiementChampComplementaireObligatoire==1&&e.typePaiementChampComplementaire.isEmpty()){f.valid=false;f.typePaiementChampComplementaire.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.typePaiementChampComplementaire.erreurs.push(b)}if(e.produits.length>0){var a=new ProduitBonDeLivraisonValid();var d=0;while(e.produits[d]){var c=a.validAjout(e.produits[d]);if(!c.valid){f.valid=false}f.produits[e.produits[d].id]=c;d++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}return f}}function InfoAdherentValid(){this.validAjout=function(b){var c=new InfoAdherentVR();if(!b.motPasse.checkLength(0,100)){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasse.erreurs.push(a)}if(!b.motPasseNouveau.checkLength(0,100)){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasseNouveau.erreurs.push(a)}if(!b.motPasseConfirm.checkLength(0,100)){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.motPasse.isEmpty()){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasse.erreurs.push(a)}if(b.motPasseNouveau.isEmpty()){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasseNouveau.erreurs.push(a)}if(b.motPasseConfirm.isEmpty()){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.motPasseNouveau!==b.motPasseConfirm){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_223_CODE;a.message=ERR_223_MSG;c.motPasseNouveau.erreurs.push(a)}if(b.motPasseNouveau.indexOf("&")!=-1){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_255_CODE;a.message=ERR_255_MSG;c.motPasseNouveau.erreurs.push(a)}return c};this.validDelete=function(b){var c=new InfoAdherentVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new InfoAdherentVR();if(!b.motPasse.checkLength(0,100)){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasse.erreurs.push(a)}if(!b.motPasseNouveau.checkLength(0,100)){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasseNouveau.erreurs.push(a)}if(!b.motPasseConfirm.checkLength(0,100)){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.motPasse.isEmpty()){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasse.erreurs.push(a)}if(b.motPasseNouveau.isEmpty()){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasseNouveau.erreurs.push(a)}if(b.motPasseConfirm.isEmpty()){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.motPasseNouveau!==b.motPasseConfirm){c.valid=false;c.motPasseNouveau.valid=false;var a=new VRerreur();a.code=ERR_223_CODE;a.message=ERR_223_MSG;c.motPasseNouveau.erreurs.push(a)}return c}return d}}function AchatAdherentValid(){this.validUpdate=function(e){var f=new AchatAdherentVR();if(isNaN(parseInt(e.idAchat))){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.log.erreurs.push(b)}if(e.idAchat<0){if(!e.idCompte.checkLength(0,11)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.log.erreurs.push(b)}if(!e.idCompte.isInt()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.log.erreurs.push(b)}if(e.idCompte.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(!e.idMarche.checkLength(0,11)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.log.erreurs.push(b)}if(!e.idMarche.isInt()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.log.erreurs.push(b)}if(e.idMarche.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}}if(isArray(e.produits)){if(e.produits.length>0&&e.produits[0]!=""){lNbPdt=true;var a=new ProduitAchatAdherentValid();var d=0;while(e.produits[d]){var c=a.validUpdate(e.produits[d]);if(!c.valid){f.valid=false}if(!e.produits[d].id.isEmpty()){f.produits[e.produits[d].id]=c}else{f.produits.push(c)}d++}}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}return f}}function ProduitBonDeLivraisonValid(){this.validAjout=function(b){var c=new ProduitBonDeLivraisonVR();if(b.quantite!=""&&!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(b.prix!=""&&!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(b.prix!=""&&!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.quantiteSolidaire!=""&&!b.quantiteSolidaire.checkLength(0,12)){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.quantiteSolidaire!=""&&!b.quantiteSolidaire.isFloat()){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.prix!=""&&b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.prix.erreurs.push(a)}if(b.quantite!=""&&b.quantite<0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.quantiteSolidaire<0){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.prix!=""&&b.prix<0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c}}function OperationDetailValid(){this.validAjout=function(d,c){var f={negatif:false,zeroAutorise:false};f=$.extend(true,f,c);var g=new OperationDetailVR();if(isNaN(parseInt(d.idCompte))){g.valid=false;g.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;g.log.erreurs.push(b)}if(!d.montant.checkLength(0,12)){g.valid=false;g.montant.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.montant.erreurs.push(b)}if(!d.montant.isFloat()){g.valid=false;g.montant.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;g.montant.erreurs.push(b)}if(!d.typePaiement.checkLength(0,11)){g.valid=false;g.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.typePaiement.erreurs.push(b)}if(!d.typePaiement.isInt()){g.valid=false;g.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;g.typePaiement.erreurs.push(b)}if(d.idCompte.isEmpty()){g.valid=false;g.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.log.erreurs.push(b)}if(!f.zeroAutorise&&d.montant.isEmpty()){g.valid=false;g.montant.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.montant.erreurs.push(b)}if(f.negatif&&d.montant>0){g.valid=false;g.montant.valid=false;var b=new VRerreur();b.code=ERR_267_CODE;b.message=ERR_267_MSG;g.montant.erreurs.push(b)}if(!f.negatif&&d.montant<0){g.valid=false;g.montant.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;g.montant.erreurs.push(b)}if(d.typePaiement.isEmpty()||d.typePaiement==0){g.valid=false;g.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.typePaiement.erreurs.push(b)}if(isArray(d.champComplementaire)){if(d.champComplementaire.length>0){var e=new ChampComplementaireValid();for(i in d.champComplementaire){var a=e.validUpdate(d.champComplementaire[i]);if(!a.valid){g.valid=false}if(!d.champComplementaire[i].id.isEmpty()){g.champComplementaire[d.champComplementaire[i].id]=a}else{g.champComplementaire.push(a)}}}}else{g.valid=false;g.champComplementaire.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;g.champComplementaire.erreurs.push(b)}return g};this.validDelete=function(b){var c=new OperationDetailVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(d){var g=this.validDelete(d);if(g.valid){var f=new OperationDetailVR();if(isNaN(parseInt(d.id))){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.log.erreurs.push(b)}if(isNaN(parseInt(d.idCompte))){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.log.erreurs.push(b)}if(!d.montant.checkLength(0,12)){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.montant.erreurs.push(b)}if(!d.montant.isFloat()){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.montant.erreurs.push(b)}if(!d.typePaiement.checkLength(0,11)){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.typePaiement.erreurs.push(b)}if(!d.typePaiement.isInt()){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.typePaiement.erreurs.push(b)}if(d.id.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(d.idCompte.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(d.montant.isEmpty()){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.montant.erreurs.push(b)}if(d.montant<0){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.montant.erreurs.push(b)}if(d.typePaiement.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(isArray(d.champComplementaire)){if(d.champComplementaire.length>0&&d.champComplementaire[0]!=""){var e=new ChampComplementaireValid();var c=0;while(d.champComplementaire[c]){var a=e.validUpdate(d.champComplementaire[c]);if(!a.valid){f.valid=false}if(!d.champComplementaire[c].id.isEmpty()){f.champComplementaire[d.champComplementaire[c].id]=a}else{f.champComplementaire.push(a)}c++}}}else{f.valid=false;f.champComplementaire.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;f.champComplementaire.erreurs.push(b)}return f}return g};this.validUpdateMontant=function(d){var g=this.validDelete(d);if(g.valid){var f=new OperationDetailVR();if(isNaN(parseInt(d.id))){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_104_CODE;b.message=ERR_104_MSG;f.log.erreurs.push(b)}if(!d.montant.checkLength(0,12)){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.montant.erreurs.push(b)}if(!d.montant.isFloat()){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.montant.erreurs.push(b)}if(!d.typePaiement.checkLength(0,11)){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.typePaiement.erreurs.push(b)}if(!d.typePaiement.isInt()){f.valid=false;f.typePaiement.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.typePaiement.erreurs.push(b)}if(d.id.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(d.montant.isEmpty()){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.montant.erreurs.push(b)}if(d.montant<0){f.valid=false;f.montant.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.montant.erreurs.push(b)}if(d.typePaiement.isEmpty()){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.log.erreurs.push(b)}if(isArray(d.champComplementaire)){if(d.champComplementaire.length>0&&d.champComplementaire[0]!=""){var e=new ChampComplementaireValid();var c=0;while(d.champComplementaire[c]){var a=e.validUpdate(d.champComplementaire[c]);if(!a.valid){f.valid=false}if(!d.champComplementaire[c].id.isEmpty()){f.champComplementaire[d.champComplementaire[c].id]=a}else{f.champComplementaire.push(a)}c++}}}else{f.valid=false;f.champComplementaire.valid=false;var b=new VRerreur();b.code=ERR_115_CODE;b.message=ERR_115_MSG;f.champComplementaire.erreurs.push(b)}return f}return g}}function AdherentValid(){this.validAjout=function(c){var d=new AdherentVR();if(!c.numero.checkLength(0,5)){d.valid=false;d.numero.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.numero.erreurs.push(a)}if(isNaN(parseInt(c.idCompte))){d.valid=false;d.compte.valid=false;var a=new VRerreur();a.code=ERR_354_CODE;a.message=ERR_354_MSG;d.compte.erreurs.push(a)}if(!c.compte.checkLength(0,30)){d.valid=false;d.compte.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.compte.erreurs.push(a)}if(!c.nom.checkLength(0,50)){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.nom.erreurs.push(a)}if(!c.prenom.checkLength(0,50)){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.prenom.erreurs.push(a)}if(!c.courrielPrincipal.checkLength(0,100)){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielPrincipal.erreurs.push(a)}if(!c.courrielSecondaire.checkLength(0,100)){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielSecondaire.erreurs.push(a)}if(!c.telephonePrincipal.checkLength(0,20)){d.valid=false;d.telephonePrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephonePrincipal.erreurs.push(a)}if(!c.telephoneSecondaire.checkLength(0,20)){d.valid=false;d.telephoneSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephoneSecondaire.erreurs.push(a)}if(!c.adresse.checkLength(0,300)){d.valid=false;d.adresse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.adresse.erreurs.push(a)}if(!c.codePostal.checkLength(0,10)){d.valid=false;d.codePostal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.codePostal.erreurs.push(a)}if(!c.ville.checkLength(0,100)){d.valid=false;d.ville.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.ville.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDate("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDateExist("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateNaissance.erreurs.push(a)}if(!c.dateAdhesion.checkDate("db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateAdhesion.erreurs.push(a)}if(!c.dateAdhesion.checkDateExist("db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateAdhesion.erreurs.push(a)}if(!c.commentaire.checkLength(0,500)){d.valid=false;d.commentaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.commentaire.erreurs.push(a)}if(c.nom.isEmpty()){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.nom.erreurs.push(a)}if(c.prenom.isEmpty()){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.prenom.erreurs.push(a)}if(c.dateAdhesion.isEmpty()){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.dateAdhesion.erreurs.push(a)}if(c.courrielPrincipal!=""&&!c.courrielPrincipal.checkCourriel()){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_224_CODE;a.message=ERR_224_MSG;d.courrielPrincipal.erreurs.push(a)}if(c.courrielSecondaire!=""&&!c.courrielSecondaire.checkCourriel()){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_224_CODE;a.message=ERR_224_MSG;d.courrielSecondaire.erreurs.push(a)}var b=getDateAujourdhuiDb();if(!dateEstPLusGrandeEgale(b,c.dateAdhesion,"db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateAdhesion.erreurs.push(a)}if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(c.dateAdhesion,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_225_CODE;a.message=ERR_225_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(b,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateNaissance.erreurs.push(a)}if(!isArray(c.modules)){d.valid=false;d.log.valid=false;var a=new VRerreur();a.code=ERR_115_CODE;a.message=ERR_115_MSG;d.log.erreurs.push(a)}return d};this.validDelete=function(b){var c=new AdherentVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(c){var e=this.validDelete(c);if(e.valid){var d=new AdherentVR();if(!c.numero.checkLength(0,5)){d.valid=false;d.numero.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.numero.erreurs.push(a)}if(isNaN(parseInt(c.idCompte))){d.valid=false;d.compte.valid=false;var a=new VRerreur();a.code=ERR_354_CODE;a.message=ERR_354_MSG;d.compte.erreurs.push(a)}if(!c.nom.checkLength(0,50)){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.nom.erreurs.push(a)}if(!c.prenom.checkLength(0,50)){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.prenom.erreurs.push(a)}if(!c.courrielPrincipal.checkLength(0,100)){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielPrincipal.erreurs.push(a)}if(!c.courrielSecondaire.checkLength(0,100)){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielSecondaire.erreurs.push(a)}if(!c.telephonePrincipal.checkLength(0,20)){d.valid=false;d.telephonePrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephonePrincipal.erreurs.push(a)}if(!c.telephoneSecondaire.checkLength(0,20)){d.valid=false;d.telephoneSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephoneSecondaire.erreurs.push(a)}if(!c.adresse.checkLength(0,300)){d.valid=false;d.adresse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.adresse.erreurs.push(a)}if(!c.codePostal.checkLength(0,10)){d.valid=false;d.codePostal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.codePostal.erreurs.push(a)}if(!c.ville.checkLength(0,100)){d.valid=false;d.ville.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.ville.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDate("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDateExist("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateNaissance.erreurs.push(a)}if(!c.dateAdhesion.checkDate("db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateAdhesion.erreurs.push(a)}if(!c.dateAdhesion.checkDateExist("db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateAdhesion.erreurs.push(a)}if(!c.commentaire.checkLength(0,500)){d.valid=false;d.commentaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.commentaire.erreurs.push(a)}if(c.nom.isEmpty()){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.nom.erreurs.push(a)}if(c.prenom.isEmpty()){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.prenom.erreurs.push(a)}if(c.dateAdhesion.isEmpty()){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.dateAdhesion.erreurs.push(a)}if(c.idCompte.isEmpty()){d.valid=false;d.compte.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.compte.erreurs.push(a)}if(c.courrielPrincipal!=""&&!c.courrielPrincipal.checkCourriel()){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_224_CODE;a.message=ERR_224_MSG;d.courrielPrincipal.erreurs.push(a)}if(c.courrielSecondaire!=""&&!c.courrielSecondaire.checkCourriel()){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_224_CODE;a.message=ERR_224_MSG;d.courrielSecondaire.erreurs.push(a)}var b=getDateAujourdhuiDb();if(!dateEstPLusGrandeEgale(b,c.dateAdhesion,"db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateAdhesion.erreurs.push(a)}if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(c.dateAdhesion,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_225_CODE;a.message=ERR_225_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(b,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateNaissance.erreurs.push(a)}if(!isArray(c.modules)){d.valid=false;d.log.valid=false;var a=new VRerreur();a.code=ERR_115_CODE;a.message=ERR_115_MSG;d.log.erreurs.push(a)}return d}return e};this.validUpdateInformation=function(c){var d=new AdherentVR();if(isNaN(parseInt(c.idAdherentPrincipal))){d.valid=false;d.idAdherentPrincipal.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;d.idAdherentPrincipal.erreurs.push(a)}if(!c.nom.checkLength(0,50)){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.nom.erreurs.push(a)}if(!c.prenom.checkLength(0,50)){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.prenom.erreurs.push(a)}if(!c.courrielPrincipal.checkLength(0,100)){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielPrincipal.erreurs.push(a)}if(!c.courrielSecondaire.checkLength(0,100)){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.courrielSecondaire.erreurs.push(a)}if(!c.telephonePrincipal.checkLength(0,20)){d.valid=false;d.telephonePrincipal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephonePrincipal.erreurs.push(a)}if(!c.telephoneSecondaire.checkLength(0,20)){d.valid=false;d.telephoneSecondaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.telephoneSecondaire.erreurs.push(a)}if(!c.adresse.checkLength(0,300)){d.valid=false;d.adresse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.adresse.erreurs.push(a)}if(!c.codePostal.checkLength(0,10)){d.valid=false;d.codePostal.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.codePostal.erreurs.push(a)}if(!c.ville.checkLength(0,100)){d.valid=false;d.ville.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.ville.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDate("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!c.dateNaissance.checkDateExist("db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateNaissance.erreurs.push(a)}if(!c.dateAdhesion.checkDate("db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;d.dateAdhesion.erreurs.push(a)}if(!c.dateAdhesion.checkDateExist("db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;d.dateAdhesion.erreurs.push(a)}if(!c.commentaire.checkLength(0,500)){d.valid=false;d.commentaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.commentaire.erreurs.push(a)}if(c.idAdherentPrincipal.isEmpty()){d.valid=false;d.idAdherentPrincipal.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.idAdherentPrincipal.erreurs.push(a)}if(c.nom.isEmpty()){d.valid=false;d.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.nom.erreurs.push(a)}if(c.prenom.isEmpty()){d.valid=false;d.prenom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.prenom.erreurs.push(a)}if(c.dateAdhesion.isEmpty()){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.dateAdhesion.erreurs.push(a)}if(c.courrielPrincipal!=""&&!c.courrielPrincipal.checkCourriel()){d.valid=false;d.courrielPrincipal.valid=false;var a=new VRerreur();a.code=ERR_224_CODE;a.message=ERR_224_MSG;d.courrielPrincipal.erreurs.push(a)}if(c.courrielSecondaire!=""&&!c.courrielSecondaire.checkCourriel()){d.valid=false;d.courrielSecondaire.valid=false;var a=new VRerreur();a.code=ERR_224_CODE;a.message=ERR_224_MSG;d.courrielSecondaire.erreurs.push(a)}var b=getDateAujourdhuiDb();if(!dateEstPLusGrandeEgale(b,c.dateAdhesion,"db")){d.valid=false;d.dateAdhesion.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateAdhesion.erreurs.push(a)}if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(c.dateAdhesion,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_225_CODE;a.message=ERR_225_MSG;d.dateNaissance.erreurs.push(a)}if(c.dateNaissance!=""&&!dateEstPLusGrandeEgale(b,c.dateNaissance,"db")){d.valid=false;d.dateNaissance.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;d.dateNaissance.erreurs.push(a)}return d}}function MarcheValid(){this.validAjout=function(e){var f=new MarcheVR();if(!e.nom.checkLength(0,100)){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.nom.erreurs.push(b)}if(!e.dateMarcheDebut.checkDate("db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!e.dateMarcheDebut.checkDateExist("db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!e.timeMarcheDebut.checkTime()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeMarcheDebut.erreurs.push(b)}if(!e.timeMarcheDebut.checkTimeExist()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeMarcheDebut.erreurs.push(b)}if(!e.timeMarcheFin.checkTime()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeMarcheFin.erreurs.push(b)}if(!e.timeMarcheFin.checkTimeExist()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeMarcheFin.erreurs.push(b)}if(!e.dateDebutReservation.checkDate("db")){f.valid=false;f.dateDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateDebutReservation.erreurs.push(b)}if(!e.dateDebutReservation.checkDateExist("db")){f.valid=false;f.dateDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateDebutReservation.erreurs.push(b)}if(!e.timeDebutReservation.checkTime()){f.valid=false;f.timeDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeDebutReservation.erreurs.push(b)}if(!e.timeDebutReservation.checkTimeExist()){f.valid=false;f.timeDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeDebutReservation.erreurs.push(b)}if(!e.dateFinReservation.checkDate("db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateFinReservation.erreurs.push(b)}if(!e.dateFinReservation.checkDateExist("db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateFinReservation.erreurs.push(b)}if(!e.timeFinReservation.checkTime()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeFinReservation.erreurs.push(b)}if(!e.timeFinReservation.checkTimeExist()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeFinReservation.erreurs.push(b)}if(!e.archive.checkLength(0,1)){f.valid=false;f.archive.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.archive.erreurs.push(b)}if(e.dateMarcheDebut.isEmpty()){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateMarcheDebut.erreurs.push(b)}if(e.timeMarcheDebut.isEmpty()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeMarcheDebut.erreurs.push(b)}if(e.timeMarcheFin.isEmpty()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeMarcheFin.erreurs.push(b)}if(e.dateDebutReservation.isEmpty()){f.valid=false;f.dateDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateDebutReservation.erreurs.push(b)}if(e.timeDebutReservation.isEmpty()){f.valid=false;f.timeDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeDebutReservation.erreurs.push(b)}if(e.dateFinReservation.isEmpty()){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateFinReservation.erreurs.push(b)}if(e.timeFinReservation.isEmpty()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeFinReservation.erreurs.push(b)}if(e.archive.isEmpty()){f.valid=false;f.archive.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.archive.erreurs.push(b)}if(!dateTimeEstPLusGrandeEgale(e.dateFinReservation+" "+e.timeFinReservation,e.dateDebutReservation+" "+e.timeDebutReservation,"db")){if(!dateEstPLusGrandeEgale(e.dateFinReservation,e.dateDebutReservation,"db")){f.valid=false;f.dateFinReservation.valid=false;f.dateDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_247_CODE;b.message=ERR_247_MSG;f.dateFinReservation.erreurs.push(b);f.dateDebutReservation.erreurs.push(b)}else{if(timeEstPLusGrandeEgale(e.timeDebutReservation,e.timeFinReservation)){f.valid=false;f.timeFinReservation.valid=false;f.timeDebutReservation.valid=false;var b=new VRerreur();b.code=ERR_248_CODE;b.message=ERR_248_MSG;f.timeFinReservation.erreurs.push(b);f.timeDebutReservation.erreurs.push(b)}}}if(!dateTimeEstPLusGrandeEgale(e.dateMarcheDebut+" "+e.timeMarcheDebut,e.dateFinReservation+" "+e.timeFinReservation,"db")){if(!dateEstPLusGrandeEgale(e.dateMarcheDebut,e.dateFinReservation,"db")){f.valid=false;f.dateMarcheDebut.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_202_CODE;b.message=ERR_202_MSG;f.dateMarcheDebut.erreurs.push(b);f.dateFinReservation.erreurs.push(b)}else{if(timeEstPLusGrandeEgale(e.timeFinReservation,e.timeMarcheDebut)){f.valid=false;f.timeMarcheDebut.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_203_CODE;b.message=ERR_203_MSG;f.timeMarcheDebut.erreurs.push(b);f.timeFinReservation.erreurs.push(b)}}}if(timeEstPLusGrandeEgale(e.timeMarcheDebut,e.timeMarcheFin)){f.valid=false;f.timeMarcheDebut.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_204_CODE;b.message=ERR_204_MSG;f.timeMarcheDebut.erreurs.push(b);f.timeMarcheFin.erreurs.push(b)}if(!dateEstPLusGrandeEgale(e.dateMarcheDebut,getDateAujourdhuiDb(),"db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_209_CODE;b.message=ERR_209_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!dateEstPLusGrandeEgale(e.dateFinReservation,getDateAujourdhuiDb(),"db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_209_CODE;b.message=ERR_209_MSG;f.dateFinReservation.erreurs.push(b)}if(!isArray(e.produits)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(!isArray(e.produitsAbonnement)){f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}if(f.valid){if(e.produits.length+e.produitsAbonnement.length>0){var a=new ProduitMarcheValid();var d=0;while(e.produits[d]){var c=a.validAjout(e.produits[d]);if(!c.valid){f.valid=false}f.produits[e.produits[d].idNom]=c;d++}var d=0;while(e.produitsAbonnement[d]){var c=a.validAjout(e.produitsAbonnement[d]);if(!c.valid){f.valid=false}f.produitsAbonnement[e.produitsAbonnement[d].idNom]=c;d++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_207_CODE;b.message=ERR_207_MSG;f.log.erreurs.push(b)}}return f};this.validUpdateInformation=function(b){var c=new MarcheVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.nom.checkLength(0,100)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.dateMarcheDebut.checkDate("db")){c.valid=false;c.dateMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateMarcheDebut.erreurs.push(a)}if(!b.dateMarcheDebut.checkDateExist("db")){c.valid=false;c.dateMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateMarcheDebut.erreurs.push(a)}if(!b.timeMarcheDebut.checkTime()){c.valid=false;c.timeMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_106_CODE;a.message=ERR_106_MSG;c.timeMarcheDebut.erreurs.push(a)}if(!b.timeMarcheDebut.checkTimeExist()){c.valid=false;c.timeMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_107_CODE;a.message=ERR_107_MSG;c.timeMarcheDebut.erreurs.push(a)}if(!b.timeMarcheFin.checkTime()){c.valid=false;c.timeMarcheFin.valid=false;var a=new VRerreur();a.code=ERR_106_CODE;a.message=ERR_106_MSG;c.timeMarcheFin.erreurs.push(a)}if(!b.timeMarcheFin.checkTimeExist()){c.valid=false;c.timeMarcheFin.valid=false;var a=new VRerreur();a.code=ERR_107_CODE;a.message=ERR_107_MSG;c.timeMarcheFin.erreurs.push(a)}if(!b.dateDebutReservation.checkDate("db")){c.valid=false;c.dateDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateDebutReservation.erreurs.push(a)}if(!b.dateDebutReservation.checkDateExist("db")){c.valid=false;c.dateDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateDebutReservation.erreurs.push(a)}if(!b.timeDebutReservation.checkTime()){c.valid=false;c.timeDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_106_CODE;a.message=ERR_106_MSG;c.timeDebutReservation.erreurs.push(a)}if(!b.timeDebutReservation.checkTimeExist()){c.valid=false;c.timeDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_107_CODE;a.message=ERR_107_MSG;c.timeDebutReservation.erreurs.push(a)}if(!b.dateFinReservation.checkDate("db")){c.valid=false;c.dateFinReservation.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateFinReservation.erreurs.push(a)}if(!b.dateFinReservation.checkDateExist("db")){c.valid=false;c.dateFinReservation.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateFinReservation.erreurs.push(a)}if(!b.timeFinReservation.checkTime()){c.valid=false;c.timeFinReservation.valid=false;var a=new VRerreur();a.code=ERR_106_CODE;a.message=ERR_106_MSG;c.timeFinReservation.erreurs.push(a)}if(!b.timeFinReservation.checkTimeExist()){c.valid=false;c.timeFinReservation.valid=false;var a=new VRerreur();a.code=ERR_107_CODE;a.message=ERR_107_MSG;c.timeFinReservation.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.dateMarcheDebut.isEmpty()){c.valid=false;c.dateMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateMarcheDebut.erreurs.push(a)}if(b.timeMarcheDebut.isEmpty()){c.valid=false;c.timeMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.timeMarcheDebut.erreurs.push(a)}if(b.timeMarcheFin.isEmpty()){c.valid=false;c.timeMarcheFin.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.timeMarcheFin.erreurs.push(a)}if(b.dateDebutReservation.isEmpty()){c.valid=false;c.dateDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateDebutReservation.erreurs.push(a)}if(b.timeDebutReservation.isEmpty()){c.valid=false;c.timeDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.timeDebutReservation.erreurs.push(a)}if(b.dateFinReservation.isEmpty()){c.valid=false;c.dateFinReservation.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateFinReservation.erreurs.push(a)}if(b.timeFinReservation.isEmpty()){c.valid=false;c.timeFinReservation.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.timeFinReservation.erreurs.push(a)}if(!dateTimeEstPLusGrandeEgale(b.dateFinReservation+" "+b.timeFinReservation,b.dateDebutReservation+" "+b.timeDebutReservation,"db")){if(!dateEstPLusGrandeEgale(b.dateFinReservation,b.dateDebutReservation,"db")){c.valid=false;c.dateFinReservation.valid=false;c.dateDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_247_CODE;a.message=ERR_247_MSG;c.dateFinReservation.erreurs.push(a);c.dateDebutReservation.erreurs.push(a)}else{if(timeEstPLusGrandeEgale(b.timeDebutReservation,b.timeFinReservation)){c.valid=false;c.timeFinReservation.valid=false;c.timeDebutReservation.valid=false;var a=new VRerreur();a.code=ERR_248_CODE;a.message=ERR_248_MSG;c.timeFinReservation.erreurs.push(a);c.timeDebutReservation.erreurs.push(a)}}}if(!dateTimeEstPLusGrandeEgale(b.dateMarcheDebut+" "+b.timeMarcheDebut,b.dateFinReservation+" "+b.timeFinReservation,"db")){if(!dateEstPLusGrandeEgale(b.dateMarcheDebut,b.dateFinReservation,"db")){c.valid=false;c.dateMarcheDebut.valid=false;c.dateFinReservation.valid=false;var a=new VRerreur();a.code=ERR_202_CODE;a.message=ERR_202_MSG;c.dateMarcheDebut.erreurs.push(a);c.dateFinReservation.erreurs.push(a)}else{if(timeEstPLusGrandeEgale(b.timeFinReservation,b.timeMarcheDebut)){c.valid=false;c.timeMarcheDebut.valid=false;c.timeFinReservation.valid=false;var a=new VRerreur();a.code=ERR_203_CODE;a.message=ERR_203_MSG;c.timeMarcheDebut.erreurs.push(a);c.timeFinReservation.erreurs.push(a)}}}if(timeEstPLusGrandeEgale(b.timeMarcheDebut,b.timeMarcheFin)){c.valid=false;c.timeMarcheDebut.valid=false;c.timeMarcheFin.valid=false;var a=new VRerreur();a.code=ERR_204_CODE;a.message=ERR_204_MSG;c.timeMarcheDebut.erreurs.push(a);c.timeMarcheFin.erreurs.push(a)}if(!dateEstPLusGrandeEgale(b.dateMarcheDebut,getDateAujourdhuiDb(),"db")){c.valid=false;c.dateMarcheDebut.valid=false;var a=new VRerreur();a.code=ERR_209_CODE;a.message=ERR_209_MSG;c.dateMarcheDebut.erreurs.push(a)}if(!dateEstPLusGrandeEgale(b.dateFinReservation,getDateAujourdhuiDb(),"db")){c.valid=false;c.dateFinReservation.valid=false;var a=new VRerreur();a.code=ERR_209_CODE;a.message=ERR_209_MSG;c.dateFinReservation.erreurs.push(a)}return c}}function ReservationCommandeValid(){this.validAjout=function(b){var c=new ReservationCommandeVR();if(!b.stoQuantite.checkLength(0,12)){c.valid=false;c.stoQuantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.stoQuantite.erreurs.push(a)}if(!b.stoQuantite.isFloat()){c.valid=false;c.stoQuantite.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.stoQuantite.erreurs.push(a)}if(!b.stoIdDetailCommande.checkLength(0,11)){c.valid=false;c.stoIdDetailCommande.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.stoIdDetailCommande.erreurs.push(a)}if(!b.stoIdDetailCommande.isFloat()){c.valid=false;c.stoIdDetailCommande.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.stoIdDetailCommande.erreurs.push(a)}if(b.stoQuantite.isEmpty()){c.valid=false;c.stoQuantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.stoQuantite.erreurs.push(a)}if(b.stoIdDetailCommande.isEmpty()){c.valid=false;c.stoIdDetailCommande.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.stoIdDetailCommande.erreurs.push(a)}return c};this.validDelete=function(b){var c=new ReservationCommandeVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new ReservationCommandeVR();if(!b.stoQuantite.checkLength(0,12)){c.valid=false;c.stoQuantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.stoQuantite.erreurs.push(a)}if(!b.stoQuantite.isFloat()){c.valid=false;c.stoQuantite.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.stoQuantite.erreurs.push(a)}if(!b.stoIdDetailCommande.checkLength(0,11)){c.valid=false;c.stoIdDetailCommande.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.stoIdDetailCommande.erreurs.push(a)}if(!b.stoIdDetailCommande.isFloat()){c.valid=false;c.stoIdDetailCommande.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.stoIdDetailCommande.erreurs.push(a)}if(b.stoQuantite.isEmpty()){c.valid=false;c.stoQuantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.stoQuantite.erreurs.push(a)}if(b.stoIdDetailCommande.isEmpty()){c.valid=false;c.stoIdDetailCommande.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.stoIdDetailCommande.erreurs.push(a)}return c}return d}}function CompteZeybuVirementValid(){this.validAjout=function(b){var c=new CompteZeybuAjoutVirementVR();if(!b.idCptDebit.checkLength(0,11)){c.valid=false;c.idCptDebit.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCptDebit.erreurs.push(a)}if(!b.idCptDebit.isInt()){c.valid=false;c.idCptDebit.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idCptDebit.erreurs.push(a)}if(!b.idCptCredit.checkLength(0,11)){c.valid=false;c.idCptCredit.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCptCredit.erreurs.push(a)}if(!b.idCptCredit.isInt()){c.valid=false;c.idCptCredit.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idCptCredit.erreurs.push(a)}if(!b.montant.checkLength(0,12)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montant.erreurs.push(a)}if(!b.montant.isFloat()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montant.erreurs.push(a)}if(!b.type.checkLength(0,1)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(!b.type.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.idCptDebit.isEmpty()){c.valid=false;c.idCptDebit.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCptDebit.erreurs.push(a)}if(b.idCptCredit.isEmpty()){c.valid=false;c.idCptCredit.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCptCredit.erreurs.push(a)}if(b.montant.isEmpty()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montant.erreurs.push(a)}if(b.montant<=0){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montant.erreurs.push(a)}if(b.type.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(b.type!=1&&b.type!=2){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_240_CODE;a.message=ERR_240_MSG;c.log.erreurs.push(a)}return c};this.validUpdate=function(b){var c=new CompteZeybuModifierVirementVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.montant.checkLength(0,12)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montant.erreurs.push(a)}if(!b.montant.isFloat()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montant.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.montant.isEmpty()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montant.erreurs.push(a)}if(b.montant<=0){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montant.erreurs.push(a)}return c};this.validDelete=function(b){var c=new CompteZeybuSupprimerVirementVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}return c}}function ExportBonReservationValid(){this.validAjout=function(b){var c=new ExportBonReservationVR();if(!b.id_commande.checkLength(0,11)){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id_commande.erreurs.push(a)}if(!b.id_commande.isInt()){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id_commande.erreurs.push(a)}if(!b.format.checkLength(0,1)){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.format.erreurs.push(a)}if(!b.format.isInt()){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.format.erreurs.push(a)}if(!b.idCompteFerme.checkLength(0,11)){c.valid=false;c.idCompteFerme.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCompteFerme.erreurs.push(a)}if(!b.idCompteFerme.isInt()){c.valid=false;c.idCompteFerme.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idCompteFerme.erreurs.push(a)}if(b.id_commande.isEmpty()){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id_commande.erreurs.push(a)}if(b.format.isEmpty()){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.format.erreurs.push(a)}if(b.idCompteFerme.isEmpty()){c.valid=false;c.idCompteFerme.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCompteFerme.erreurs.push(a)}return c}}function ProduitAchatAdherentValid(){this.validUpdate=function(b){var c=new ProduitAchatAdherentVR();if(isNaN(parseInt(b.id))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(b.prix!=""&&!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if((isNaN(b.quantite)||b.quantite==0||b.prix=="")&&(!isNaN(b.prix)&&b.prix!=0)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_214_CODE;a.message=ERR_214_MSG;c.quantite.erreurs.push(a)}if(b.quantite>=0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if((isNaN(b.prix)||b.prix==0||b.prix=="")&&(!isNaN(b.quantite)&&b.quantite!=0)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_213_CODE;a.message=ERR_213_MSG;c.prix.erreurs.push(a)}if(b.prix>=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c}}function CompteZeybuValid(){this.validRechercheListeOperation=function(b){var c=new RechercheListeOperationVR();if(b.dateDebut!=""&&!b.dateDebut.checkDate("db")){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateDebut.erreurs.push(a)}if(b.dateDebut!=""&&!b.dateDebut.checkDateExist("db")){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateDebut.erreurs.push(a)}if(b.dateFin!=""&&!b.dateFin.checkDate("db")){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_103_CODE;a.message=ERR_103_MSG;c.dateFin.erreurs.push(a)}if(b.dateFin!=""&&!b.dateFin.checkDateExist("db")){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_105_CODE;a.message=ERR_105_MSG;c.dateFin.erreurs.push(a)}if(b.idMarche!=""&&isNaN(parseInt(b.idMarche))){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.idMarche.erreurs.push(a)}if(b.idMarche!=""&&!b.idMarche.checkLength(0,11)){c.valid=false;c.idMarche.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idMarche.erreurs.push(a)}if(b.dateDebut!=""&&b.dateFin!=""&&!dateEstPLusGrandeEgale(b.dateFin,b.dateDebut,"db")){c.valid=false;c.dateDebut.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_230_CODE;a.message=ERR_230_MSG;c.dateDebut.erreurs.push(a);c.dateFin.erreurs.push(a)}if(b.dateDebut!=""&&b.dateFin==""){c.valid=false;c.dateFin.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateFin.erreurs.push(a)}if(b.dateDebut==""&&b.dateFin!=""){c.valid=false;c.dateDebut.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.dateDebut.erreurs.push(a)}return c}}function CommandeCompleteValid(){this.validAjout=function(e){var f=new CommandeCompleteVR();if(!e.numero.checkLength(0,11)){f.valid=false;f.numero.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.numero.erreurs.push(b)}if(!e.nom.checkLength(0,100)){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.nom.erreurs.push(b)}if(!e.dateMarcheDebut.checkDate("db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!e.dateMarcheDebut.checkDateExist("db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!e.timeMarcheDebut.checkTime()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeMarcheDebut.erreurs.push(b)}if(!e.timeMarcheDebut.checkTimeExist()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeMarcheDebut.erreurs.push(b)}if(!e.dateMarcheFin.checkDate("db")){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateMarcheFin.erreurs.push(b)}if(!e.dateMarcheFin.checkDateExist("db")){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateMarcheFin.erreurs.push(b)}if(!e.timeMarcheFin.checkTime()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeMarcheFin.erreurs.push(b)}if(!e.timeMarcheFin.checkTimeExist()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeMarcheFin.erreurs.push(b)}if(!e.dateFinReservation.checkDate("db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateFinReservation.erreurs.push(b)}if(!e.dateFinReservation.checkDateExist("db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateFinReservation.erreurs.push(b)}if(!e.timeFinReservation.checkTime()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeFinReservation.erreurs.push(b)}if(!e.timeFinReservation.checkTimeExist()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeFinReservation.erreurs.push(b)}if(!e.archive.checkLength(0,1)){f.valid=false;f.archive.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.archive.erreurs.push(b)}if(e.dateMarcheDebut.isEmpty()){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateMarcheDebut.erreurs.push(b)}if(e.timeMarcheDebut.isEmpty()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeMarcheDebut.erreurs.push(b)}if(e.dateMarcheFin.isEmpty()){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateMarcheFin.erreurs.push(b)}if(e.timeMarcheFin.isEmpty()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeMarcheFin.erreurs.push(b)}if(e.dateFinReservation.isEmpty()){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateFinReservation.erreurs.push(b)}if(e.timeFinReservation.isEmpty()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeFinReservation.erreurs.push(b)}if(e.archive.isEmpty()){f.valid=false;f.archive.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.archive.erreurs.push(b)}if(!dateTimeEstPLusGrandeEgale(e.dateMarcheDebut+" "+e.timeMarcheDebut,e.dateFinReservation+" "+e.timeFinReservation,"db")){if(!dateEstPLusGrandeEgale(e.dateMarcheDebut,e.dateFinReservation,"db")){f.valid=false;f.dateMarcheDebut.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_202_CODE;b.message=ERR_202_MSG;f.dateMarcheDebut.erreurs.push(b);f.dateFinReservation.erreurs.push(b)}else{if(timeEstPLusGrandeEgale(e.timeFinReservation,e.timeMarcheDebut)){f.valid=false;f.timeMarcheDebut.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_203_CODE;b.message=ERR_203_MSG;f.timeMarcheDebut.erreurs.push(b);f.timeFinReservation.erreurs.push(b)}}}if(timeEstPLusGrandeEgale(e.timeMarcheDebut,e.timeMarcheFin)){f.valid=false;f.timeMarcheDebut.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_204_CODE;b.message=ERR_204_MSG;f.timeMarcheDebut.erreurs.push(b);f.timeMarcheFin.erreurs.push(b)}if(!dateEstPLusGrandeEgale(e.dateMarcheDebut,getDateAujourdhuiDb(),"db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_209_CODE;b.message=ERR_209_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!dateEstPLusGrandeEgale(e.dateMarcheFin,getDateAujourdhuiDb(),"db")){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_209_CODE;b.message=ERR_209_MSG;f.dateMarcheFin.erreurs.push(b)}if(!dateEstPLusGrandeEgale(e.dateFinReservation,getDateAujourdhuiDb(),"db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_209_CODE;b.message=ERR_209_MSG;f.dateFinReservation.erreurs.push(b)}if(isArray(e.produits)){if(e.produits.length>0){var a=new ProduitCommandeValid();var d=0;while(e.produits[d]){var c=a.validAjout(e.produits[d]);if(!c.valid){f.valid=false}f.produits[e.produits[d].idNom]=c;d++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_207_CODE;b.message=ERR_207_MSG;f.log.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}return f};this.validAjoutProduit=function(a){var c=this.validDelete(a);if(c.valid){var b=new ProduitMarcheValid();return b.validAjout(a)}return c};this.validDelete=function(b){var c=new CommandeCompleteVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(e){var g=this.validDelete(e);if(g.valid){var f=new CommandeCompleteVR();if(!e.numero.checkLength(0,11)){f.valid=false;f.numero.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.numero.erreurs.push(b)}if(!e.nom.checkLength(0,100)){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.nom.erreurs.push(b)}if(!e.dateMarcheDebut.checkDate("db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!e.dateMarcheDebut.checkDateExist("db")){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateMarcheDebut.erreurs.push(b)}if(!e.timeMarcheDebut.checkTime()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeMarcheDebut.erreurs.push(b)}if(!e.timeMarcheDebut.checkTimeExist()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeMarcheDebut.erreurs.push(b)}if(!e.dateMarcheFin.checkDate("db")){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateMarcheFin.erreurs.push(b)}if(!e.dateMarcheFin.checkDateExist("db")){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateMarcheFin.erreurs.push(b)}if(!e.timeMarcheFin.checkTime()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeMarcheFin.erreurs.push(b)}if(!e.timeMarcheFin.checkTimeExist()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeMarcheFin.erreurs.push(b)}if(!e.dateFinReservation.checkDate("db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_103_CODE;b.message=ERR_103_MSG;f.dateFinReservation.erreurs.push(b)}if(!e.dateFinReservation.checkDateExist("db")){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_105_CODE;b.message=ERR_105_MSG;f.dateFinReservation.erreurs.push(b)}if(!e.timeFinReservation.checkTime()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_106_CODE;b.message=ERR_106_MSG;f.timeFinReservation.erreurs.push(b)}if(!e.timeFinReservation.checkTimeExist()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_107_CODE;b.message=ERR_107_MSG;f.timeFinReservation.erreurs.push(b)}if(!e.archive.checkLength(0,1)){f.valid=false;f.archive.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.archive.erreurs.push(b)}if(e.dateMarcheDebut.isEmpty()){f.valid=false;f.dateMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateMarcheDebut.erreurs.push(b)}if(e.timeMarcheDebut.isEmpty()){f.valid=false;f.timeMarcheDebut.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeMarcheDebut.erreurs.push(b)}if(e.dateMarcheFin.isEmpty()){f.valid=false;f.dateMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateMarcheFin.erreurs.push(b)}if(e.timeMarcheFin.isEmpty()){f.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeMarcheFin.erreurs.push(b)}if(e.dateFinReservation.isEmpty()){f.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.dateFinReservation.erreurs.push(b)}if(e.timeFinReservation.isEmpty()){f.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.timeFinReservation.erreurs.push(b)}if(e.archive.isEmpty()){f.valid=false;f.archive.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.archive.erreurs.push(b)}if(!dateTimeEstPLusGrandeEgale(e.dateMarcheDebut+" "+e.timeMarcheDebut,e.dateFinReservation+" "+e.timeFinReservation,"db")){if(!dateEstPLusGrandeEgale(e.dateMarcheDebut,e.dateFinReservation,"db")){f.valid=false;f.dateMarcheDebut.valid=false;f.dateFinReservation.valid=false;var b=new VRerreur();b.code=ERR_202_CODE;b.message=ERR_202_MSG;f.dateMarcheDebut.erreurs.push(b);f.dateFinReservation.erreurs.push(b)}else{if(timeEstPLusGrandeEgale(e.timeFinReservation,e.timeMarcheDebut)){f.valid=false;f.timeMarcheDebut.valid=false;f.timeFinReservation.valid=false;var b=new VRerreur();b.code=ERR_203_CODE;b.message=ERR_203_MSG;f.timeMarcheDebut.erreurs.push(b);f.timeFinReservation.erreurs.push(b)}}}if(timeEstPLusGrandeEgale(e.timeMarcheDebut,e.timeMarcheFin)){f.valid=false;f.timeMarcheDebut.valid=false;f.timeMarcheFin.valid=false;var b=new VRerreur();b.code=ERR_204_CODE;b.message=ERR_204_MSG;f.timeMarcheDebut.erreurs.push(b);f.timeMarcheFin.erreurs.push(b)}if(isArray(e.produits)){if(e.produits.length>0){var a=new ProduitCommandeValid();var d=0;while(e.produits[d]){var c=a.validAjout(e.produits[d]);if(!c.valid){f.valid=false}f.produits[e.produits[d].idNom]=c;d++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_207_CODE;b.message=ERR_207_MSG;f.log.erreurs.push(b)}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_111_CODE;b.message=ERR_111_MSG;f.log.erreurs.push(b)}return f}return g}}function StockQuantiteValid(){this.validDelete=function(b){var c=new StockQuantiteVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new StockQuantiteVR();if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.quantiteSolidaire.checkLength(0,12)){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantiteSolidaire.erreurs.push(a)}if(!b.quantiteSolidaire.isFloat()){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.quantiteSolidaire.isEmpty()){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantiteSolidaire.erreurs.push(a)}return c}return d}}function ModeleLotValid(){this.validAjout=function(b){var c=new ModeleLotVR();if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.unite.checkLength(0,20)){c.valid=false;c.unite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.unite.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.unite.isEmpty()){c.valid=false;c.unite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.unite.erreurs.push(a)}if(b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.prix.erreurs.push(a)}if(parseFloat(b.quantite)>9999999999.99){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(parseFloat(b.prix)>9999999999.99){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(parseFloat(b.quantite)<=0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(parseFloat(b.prix)<=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c};this.validUpdate=function(b){var c=new ModeleLotVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(!b.unite.checkLength(0,20)){c.valid=false;c.unite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.unite.erreurs.push(a)}if(!b.prix.checkLength(0,12)){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(!b.prix.isFloat()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.prix.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}if(b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.unite.isEmpty()){c.valid=false;c.unite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.unite.erreurs.push(a)}if(b.prix.isEmpty()){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.prix.erreurs.push(a)}if(parseFloat(b.quantite)>9999999999.99){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(parseFloat(b.prix)>9999999999.99){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.prix.erreurs.push(a)}if(parseInt(b.id)<=0){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.id.erreurs.push(a)}if(parseFloat(b.quantite)<=0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(parseFloat(b.prix)<=0){c.valid=false;c.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.prix.erreurs.push(a)}return c};this.validUpdateAvecReservation=function(c,b){var d=new ModeleLotVR();if(!c.id.checkLength(0,11)){d.valid=false;d.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.id.erreurs.push(a)}if(!c.id.isInt()){d.valid=false;d.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;d.id.erreurs.push(a)}if(!c.quantite.checkLength(0,12)){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.quantite.erreurs.push(a)}if(!c.quantite.isFloat()){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;d.quantite.erreurs.push(a)}if(!c.unite.checkLength(0,20)){d.valid=false;d.unite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;d.unite.erreurs.push(a)}if(!c.prix.checkLength(0,12)){d.valid=false;d.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.prix.erreurs.push(a)}if(!c.prix.isFloat()){d.valid=false;d.prix.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;d.prix.erreurs.push(a)}if(c.id.isEmpty()){d.valid=false;d.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.id.erreurs.push(a)}if(c.quantite.isEmpty()){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.quantite.erreurs.push(a)}if(c.unite.isEmpty()){d.valid=false;d.unite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.unite.erreurs.push(a)}if(c.prix.isEmpty()){d.valid=false;d.prix.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;d.prix.erreurs.push(a)}if(parseFloat(c.quantite)>9999999999.99){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.quantite.erreurs.push(a)}if(parseFloat(c.prix)>9999999999.99){d.valid=false;d.prix.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;d.prix.erreurs.push(a)}if(parseInt(c.id)<=0){d.valid=false;d.id.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;d.id.erreurs.push(a)}if(parseFloat(c.quantite)<=0){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;d.quantite.erreurs.push(a)}if(parseFloat(c.prix)<=0){d.valid=false;d.prix.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;d.prix.erreurs.push(a)}if(parseFloat(c.quantite)>parseFloat(b)){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_257_CODE;a.message=ERR_257_MSG;d.quantite.erreurs.push(a)}else{if(parseFloat(b)%parseFloat(c.quantite)!=0){d.valid=false;d.quantite.valid=false;var a=new VRerreur();a.code=ERR_256_CODE;a.message=ERR_256_MSG;d.quantite.erreurs.push(a)}}return d}}function ExportListeReservationValid(){this.validAjout=function(b){var c=new ExportListeReservationVR();if(!b.id_commande.checkLength(0,11)){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id_commande.erreurs.push(a)}if(!b.id_commande.isInt()){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id_commande.erreurs.push(a)}if(!b.format.checkLength(0,1)){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.format.erreurs.push(a)}if(!b.format.isInt()){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.format.erreurs.push(a)}if(b.fonction.isEmpty()){c.valid=false;c.pParam.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.pParam.erreurs.push(a)}if(b.id_commande.isEmpty()){c.valid=false;c.id_commande.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id_commande.erreurs.push(a)}if(b.id_produits.isEmpty()){c.valid=false;c.id_produits.valid=false;var a=new VRerreur();a.code=ERR_233_CODE;a.message=ERR_233_MSG;c.id_produits.erreurs.push(a)}if(b.format.isEmpty()){c.valid=false;c.format.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.format.erreurs.push(a)}return c}}function ProduitDetailAchatValid(){this.validAjout=function(b){var c=new ProduitDetailAchatVR();if(isNaN(parseInt(b.idNomProduit))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idStock!=""&&isNaN(parseInt(b.idStock))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idDetailOperation!=""&&isNaN(parseInt(b.idDetailOperation))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idStockSolidaire!=""&&isNaN(parseInt(b.idStockSolidaire))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.idDetailOperationSolidaire!=""&&isNaN(parseInt(b.idDetailOperationSolidaire))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.checkLength(0,12)){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&!b.quantite.isFloat()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantite.erreurs.push(a)}if(b.unite!=""&&!b.unite.checkLength(0,20)){c.valid=false;c.unite.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.unite.erreurs.push(a)}if(b.quantiteSolidaire!=""&&!b.quantiteSolidaire.checkLength(0,12)){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.quantiteSolidaire!=""&&!b.quantiteSolidaire.isFloat()){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.uniteSolidaire!=""&&!b.uniteSolidaire.checkLength(0,20)){c.valid=false;c.uniteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.uniteSolidaire.erreurs.push(a)}if(b.montant!=""&&!b.montant.checkLength(0,12)){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montant.erreurs.push(a)}if(b.montant!=""&&!b.montant.isFloat()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montant.erreurs.push(a)}if(b.montantSolidaire!=""&&!b.montantSolidaire.checkLength(0,12)){c.valid=false;c.montantSolidaire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.montantSolidaire.erreurs.push(a)}if(b.montantSolidaire!=""&&!b.montantSolidaire.isFloat()){c.valid=false;c.montantSolidaire.valid=false;var a=new VRerreur();a.code=ERR_109_CODE;a.message=ERR_109_MSG;c.montantSolidaire.erreurs.push(a)}if(b.quantite!=""&&b.idDetailCommande!=""&&!b.idDetailCommande.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.quantite!=""&&b.idDetailCommande!=""&&!b.idDetailCommande.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.quantite!=""&&b.idModeleLot!=""&&!b.idModeleLot.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.quantite!=""&&b.idModeleLot!=""&&!b.idModeleLot.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.idDetailCommandeSolidaire!=""&&!b.idDetailCommandeSolidaire.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.idDetailCommandeSolidaire!=""&&!b.idDetailCommandeSolidaire.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.idModeleLotSolidaire!=""&&!b.idModeleLotSolidaire.checkLength(0,11)){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.log.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.idModeleLotSolidaire!=""&&!b.idModeleLotSolidaire.isInt()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.log.erreurs.push(a)}if(b.idNomProduit==""){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(b.montant!=""&&b.quantite.isEmpty()){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantite.erreurs.push(a)}if(b.quantite!=""&&b.montant.isEmpty()){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montant.erreurs.push(a)}if(b.montantSolidaire!=""&&b.quantiteSolidaire.isEmpty()){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.montantSolidaire.isEmpty()){c.valid=false;c.montantSolidaire.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.montantSolidaire.erreurs.push(a)}if(b.quantite!=""&&b.quantite>=0){c.valid=false;c.quantite.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantite.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.quantiteSolidaire>=0){c.valid=false;c.quantiteSolidaire.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.quantiteSolidaire.erreurs.push(a)}if(b.montant!=""&&b.montant>=0){c.valid=false;c.montant.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montant.erreurs.push(a)}if(b.montantSolidaire!=""&&b.montantSolidaire>=0){c.valid=false;c.montantSolidaire.valid=false;var a=new VRerreur();a.code=ERR_215_CODE;a.message=ERR_215_MSG;c.montantSolidaire.erreurs.push(a)}if(b.quantite!=""&&b.idDetailCommande.isEmpty()&&b.idModeleLot.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}if(b.quantiteSolidaire!=""&&b.idDetailCommandeSolidaire.isEmpty()&&b.idModeleLotSolidaire.isEmpty()){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.log.erreurs.push(a)}return c}}function NomProduitValid(){this.validAjout=function(b){var c=new NomProduitVR();if(!b.nom.checkLength(0,50)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.description.checkLength(0,500)){c.valid=false;c.description.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.description.erreurs.push(a)}if(!b.idCategorie.checkLength(0,11)){c.valid=false;c.idCategorie.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCategorie.erreurs.push(a)}if(!b.idCategorie.isInt()){c.valid=false;c.idCategorie.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idCategorie.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}if(b.idCategorie.isEmpty()){c.valid=false;c.idCategorie.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCategorie.erreurs.push(a)}return c};this.validDelete=function(b){var c=new NomProduitVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new NomProduitVR();if(!b.nom.checkLength(0,50)){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.nom.erreurs.push(a)}if(!b.description.checkLength(0,500)){c.valid=false;c.description.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.description.erreurs.push(a)}if(!b.idCategorie.checkLength(0,11)){c.valid=false;c.idCategorie.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.idCategorie.erreurs.push(a)}if(!b.idCategorie.isInt()){c.valid=false;c.idCategorie.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.idCategorie.erreurs.push(a)}if(b.nom.isEmpty()){c.valid=false;c.nom.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.nom.erreurs.push(a)}if(b.idCategorie.isEmpty()){c.valid=false;c.idCategorie.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.idCategorie.erreurs.push(a)}return c}return d}}function ChampComplementaireValid(){this.validUpdate=function(b){var c=new ChampComplementaireVR();if(isNaN(parseInt(b.id))){c.valid=false;c.log.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.log.erreurs.push(a)}if(!b.obligatoire.checkLength(0,1)){c.valid=false;c.obligatoire.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.obligatoire.erreurs.push(a)}if(!b.obligatoire.isInt()){c.valid=false;c.obligatoire.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.obligatoire.erreurs.push(a)}if(!b.valeur.checkLength(0,50)){c.valid=false;c.valeur.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.valeur.erreurs.push(a)}if(b.obligatoire.isEmpty()){c.valid=false;c.obligatoire.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.obligatoire.erreurs.push(a)}if(b.obligatoire==1&&b.valeur.isEmpty()){c.valid=false;c.valeur.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.valeur.erreurs.push(a)}return c}}function IdentificationValid(){this.validAjout=function(b){var c=new IdentificationVR();if(!b.login.checkLength(0,20)){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.login.erreurs.push(a)}if(!b.pass.checkLength(0,100)){c.valid=false;c.pass.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.pass.erreurs.push(a)}if(b.login.isEmpty()){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.login.erreurs.push(a)}if(b.pass.isEmpty()){c.valid=false;c.pass.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.pass.erreurs.push(a)}return c};this.validDelete=function(b){var c=new IdentificationVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var d=this.validDelete(b);if(d.valid){var c=new IdentificationVR();if(!b.login.checkLength(0,20)){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.login.erreurs.push(a)}if(!b.pass.checkLength(0,100)){c.valid=false;c.pass.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.pass.erreurs.push(a)}if(b.login.isEmpty()){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.login.erreurs.push(a)}if(b.pass.isEmpty()){c.valid=false;c.pass.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.pass.erreurs.push(a)}return c}return d}}function ProduitCommandeValid(){this.validAjout=function(d,f){var g=new ProduitCommandeVR();if(!d.idNom.checkLength(0,11)){g.valid=false;g.idNom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.idNom.erreurs.push(b)}if(!d.idNom.isInt()){g.valid=false;g.idNom.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;g.idNom.erreurs.push(b)}if(!d.idProducteur.checkLength(0,11)){g.valid=false;g.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.idProducteur.erreurs.push(b)}if(!d.idProducteur.isInt()){g.valid=false;g.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;g.idProducteur.erreurs.push(b)}if(!d.nom.checkLength(0,50)){g.valid=false;g.nom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.nom.erreurs.push(b)}if(!d.idCategorie.checkLength(0,11)){g.valid=false;g.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.idCategorie.erreurs.push(b)}if(d.idCategorie!=""&&!d.idCategorie.isInt()){g.valid=false;g.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;g.idCategorie.erreurs.push(b)}if(!d.categorie.checkLength(0,50)){g.valid=false;g.categorie.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.categorie.erreurs.push(b)}if(!d.unite.checkLength(0,20)){g.valid=false;g.unite.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.unite.erreurs.push(b)}if(!d.qteMaxCommande.checkLength(0,12)){g.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.qteMaxCommande.erreurs.push(b)}if(!d.qteMaxCommande.isFloat()){g.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;g.qteMaxCommande.erreurs.push(b)}if(!d.qteRestante.checkLength(0,12)){g.valid=false;g.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.qteRestante.erreurs.push(b)}if(!d.qteRestante.isFloat()){g.valid=false;g.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;g.qteRestante.erreurs.push(b)}if(d.idNom.isEmpty()){g.valid=false;g.idNom.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.idNom.erreurs.push(b)}if(d.idProducteur.isEmpty()){g.valid=false;g.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.idProducteur.erreurs.push(b)}if(d.unite.isEmpty()){g.valid=false;g.unite.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.unite.erreurs.push(b)}if(d.qteMaxCommande.isEmpty()){g.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.qteMaxCommande.erreurs.push(b)}if(d.qteRestante.isEmpty()){g.valid=false;g.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;g.qteRestante.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)>9999999999.99){g.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)>9999999999.99){g.valid=false;g.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;g.qteRestante.erreurs.push(b)}if(d.idNom<1){g.valid=false;g.idNom.valid=false;var b=new VRerreur();b.code=ERR_233_CODE;b.message=ERR_233_MSG;g.idNom.erreurs.push(b)}if(d.idProducteur<1){g.valid=false;g.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_232_CODE;b.message=ERR_232_MSG;g.idProducteur.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)<=0){g.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;g.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)<=0){g.valid=false;g.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;g.qteRestante.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)>parseFloat(d.qteRestante)){g.valid=false;g.qteRestante.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_205_CODE;b.message=ERR_205_MSG;g.qteRestante.erreurs.push(b);g.qteMaxCommande.erreurs.push(b)}if(f!="simple"){if(isArray(d.lots)){var e=new DetailCommandeValid();var c=0,h=0;while(d.lots[c]){var a=e.validAjout(d.lots[c]);if(!a.valid){g.valid=false}if(parseFloat(d.lots[c].taille)>parseFloat(d.qteMaxCommande)){g.valid=false;a.valid=false;a.taille.valid=false;var b=new VRerreur();b.code=ERR_206_CODE;b.message=ERR_206_MSG;a.taille.erreurs.push(b)}if(parseFloat(d.lots[c].taille)<h){h=parseFloat(d.lots[c].taille)}g.lots.push(a);c++}if(h>parseFloat(d.qteMaxCommande)){g.valid=false;g.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_241_CODE;b.message=ERR_241_MSG;g.qteMaxCommande.erreurs.push(b)}}else{g.valid=false;g.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;g.log.erreurs.push(b)}}return g};this.validDelete=function(b){var c=new ProduitCommandeVR();if(isNaN(parseInt(b.id))){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_104_CODE;a.message=ERR_104_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(d){var g=this.validDelete(d);if(g.valid){var f=new ProduitCommandeVR();if(!d.idNom.checkLength(0,11)){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idNom.erreurs.push(b)}if(!d.idNom.isInt()){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idNom.erreurs.push(b)}if(!d.idProducteur.checkLength(0,11)){f.valid=false;f.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idProducteur.erreurs.push(b)}if(!d.idProducteur.isInt()){f.valid=false;f.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idProducteur.erreurs.push(b)}if(!d.nom.checkLength(0,50)){f.valid=false;f.nom.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.nom.erreurs.push(b)}if(!d.idCategorie.checkLength(0,11)){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.idCategorie.erreurs.push(b)}if(d.idCategorie!=""&&!d.idCategorie.isInt()){f.valid=false;f.idCategorie.valid=false;var b=new VRerreur();b.code=ERR_108_CODE;b.message=ERR_108_MSG;f.idCategorie.erreurs.push(b)}if(!d.categorie.checkLength(0,50)){f.valid=false;f.categorie.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.categorie.erreurs.push(b)}if(!d.unite.checkLength(0,20)){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.unite.erreurs.push(b)}if(!d.qteMaxCommande.checkLength(0,12)){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteMaxCommande.erreurs.push(b)}if(!d.qteMaxCommande.isFloat()){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.qteMaxCommande.erreurs.push(b)}if(!d.qteRestante.checkLength(0,12)){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_101_CODE;b.message=ERR_101_MSG;f.qteRestante.erreurs.push(b)}if(!d.qteRestante.isFloat()){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_109_CODE;b.message=ERR_109_MSG;f.qteRestante.erreurs.push(b)}if(d.idNom.isEmpty()){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idNom.erreurs.push(b)}if(d.idProducteur.isEmpty()){f.valid=false;f.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.idProducteur.erreurs.push(b)}if(d.unite.isEmpty()){f.valid=false;f.unite.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.unite.erreurs.push(b)}if(d.qteMaxCommande.isEmpty()){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.qteMaxCommande.erreurs.push(b)}if(d.qteRestante.isEmpty()){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_201_CODE;b.message=ERR_201_MSG;f.qteRestante.erreurs.push(b)}if(d.idNom<1){f.valid=false;f.idNom.valid=false;var b=new VRerreur();b.code=ERR_233_CODE;b.message=ERR_233_MSG;f.idNom.erreurs.push(b)}if(d.idProducteur<1){f.valid=false;f.idProducteur.valid=false;var b=new VRerreur();b.code=ERR_232_CODE;b.message=ERR_232_MSG;f.idProducteur.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)<=0){f.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.qteMaxCommande.erreurs.push(b)}if(parseFloat(d.qteRestante)<=0){f.valid=false;f.qteRestante.valid=false;var b=new VRerreur();b.code=ERR_215_CODE;b.message=ERR_215_MSG;f.qteRestante.erreurs.push(b)}if(parseFloat(d.qteMaxCommande)>parseFloat(d.qteRestante)){f.valid=false;f.qteRestante.valid=false;f.qteMaxCommande.valid=false;var b=new VRerreur();b.code=ERR_205_CODE;b.message=ERR_205_MSG;f.qteRestante.erreurs.push(b);f.qteMaxCommande.erreurs.push(b)}if(isArray(d.lots)){var e=new DetailCommandeValid();var c=0;while(d.lots[c]){var a=e.validAjout(d.lots[c]);if(!a.valid){f.valid=false}if(parseFloat(d.lots[c].taille)>parseFloat(d.qteMaxCommande)){f.valid=false;a.valid=false;a.taille.valid=false;var b=new VRerreur();b.code=ERR_206_CODE;b.message=ERR_206_MSG;a.taille.erreurs.push(b)}f.lots.push(a);c++}}else{f.valid=false;f.log.valid=false;var b=new VRerreur();b.code=ERR_110_CODE;b.message=ERR_110_MSG;f.log.erreurs.push(b)}return f}return g}}function CompteSpecialValid(){this.validAjout=function(b){var c=new CompteSpecialVR();if(!b.login.checkLength(0,20)){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.login.erreurs.push(a)}if(!b.motPasse.checkLength(0,100)){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasse.erreurs.push(a)}if(!b.motPasseConfirm.checkLength(0,100)){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasseConfirm.erreurs.push(a)}if(!b.type.checkLength(0,1)){c.valid=false;c.type.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.type.erreurs.push(a)}if(!b.type.isInt()){c.valid=false;c.type.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.type.erreurs.push(a)}if(b.login.isEmpty()){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.login.erreurs.push(a)}if(b.motPasse.isEmpty()){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasse.erreurs.push(a)}if(b.motPasseConfirm.isEmpty()){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.type.isEmpty()){c.valid=false;c.type.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.type.erreurs.push(a)}if(b.motPasse!==b.motPasseConfirm){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_223_CODE;a.message=ERR_223_MSG;c.motPasse.erreurs.push(a)}if(b.type<2||b.type>4){c.valid=false;c.type.valid=false;var a=new VRerreur();a.code=ERR_246_CODE;a.message=ERR_246_MSG;c.type.erreurs.push(a)}return c};this.validDelete=function(b){var c=new CompteSpecialVR();if(!b.id.checkLength(0,11)){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.id.erreurs.push(a)}if(!b.id.isInt()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_108_CODE;a.message=ERR_108_MSG;c.id.erreurs.push(a)}if(b.id.isEmpty()){c.valid=false;c.id.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.id.erreurs.push(a)}return c};this.validUpdate=function(b){var c=this.validDelete(b);if(c.valid){if(!b.login.checkLength(0,20)){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.login.erreurs.push(a)}if(b.login.isEmpty()){c.valid=false;c.login.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.login.erreurs.push(a)}}return c};this.validUpdatePass=function(b){var c=this.validDelete(b);if(c.valid){if(!b.motPasse.checkLength(0,100)){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasse.erreurs.push(a)}if(!b.motPasseConfirm.checkLength(0,100)){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_101_CODE;a.message=ERR_101_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.motPasse.isEmpty()){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasse.erreurs.push(a)}if(b.motPasseConfirm.isEmpty()){c.valid=false;c.motPasseConfirm.valid=false;var a=new VRerreur();a.code=ERR_201_CODE;a.message=ERR_201_MSG;c.motPasseConfirm.erreurs.push(a)}if(b.motPasse!==b.motPasseConfirm){c.valid=false;c.motPasse.valid=false;var a=new VRerreur();a.code=ERR_223_CODE;a.message=ERR_223_MSG;c.motPasse.erreurs.push(a)}}return c}}function TypePaiementServiceTemplate(){this.champComplementaire='<!-- BEGIN champComplementaire --><tr class="champ-complementaire"><td>{champComplementaire.chCpLabel}</td><td><input {champComplementaire.attr} type="text" value="{champComplementaire.valeur}" class="com-input-text ui-widget-content ui-corner-all" id="{prefixe}champComplementaire{champComplementaire.id}valeur" data-id-champ-complementaire="{champComplementaire.id}" maxlength="50" size="15"/></td></tr><!-- END champComplementaire -->';this.champComplementaireAffiche='<!-- BEGIN champComplementaire --><tr class="champ-complementaire"><td>{champComplementaire.chCpLabel}</td><td>{champComplementaire.valeur}</td></tr><!-- END champComplementaire -->'}function IdentificationTemplate(){this.connexion='<div id="formulaire_identification_ifb" title="Connexion à Zeybux" ><form id="identification-form" action="./index.php" method="post"><table><tr><td>N° d\'adhérent</td><td><input class="com-input-text ui-widget-content ui-corner-all" type="text" name="login" id="login"/></td></tr><tr><td>Mot de Passe</td><td><input class="com-input-text ui-widget-content ui-corner-all" type="password" name="pass" id="pass"/></td></tr></table></form></div>';this.debutMenu='<div id="menu_int"><ul id="menu_liste" class="ui-corner-tl ui-corner-br">';this.finMenu="</ul></div>";this.deconnexion='<span id="lien-deconnexion" class="ui-widget-header ui-corner-bl"><a href="./index.php?m=Identification&amp;v=Deconnexion" ><span class="com-float-left ui-icon ui-icon-power"></span>Déconnexion</a></span>';this.administration='<span id="lien-administration" class="btn-menu com-cursor-pointer ui-widget-header ui-corner-tl"><span class="com-float-left ui-icon ui-icon-gear"></span>Administration</span>';this.module='<!-- BEGIN modules --><li><span class="com-cursor-pointer ui-widget-header menu-lien btn-menu" id="menu-{modules.moduleNom}-{modules.nom}">{modules.label}</span></li><!-- END modules -->';this.admin='<div id="contenu"><div class="com-widget-window ui-widget ui-widget-content ui-corner-all"><div class="com-widget-header ui-widget ui-widget-header ui-corner-all">Administration</div><div><ul><!-- BEGIN modules --><li><span id="menu-{modules.moduleNom}-{modules.nom}" >{modules.label}</span><ul><!-- BEGIN vues --><li><a id="menu-{modules.moduleNom}-{modules.vues.nom}" href="./index.php?m={modules.moduleNom}&amp;v={modules.vues.nom}">{modules.vues.label}</a></li><br/><!-- END vues --></ul></li><!-- END modules --></ul></div></div></div>';this.infoNavIncompatible='<div id="liste-naviguateur" class="info-identification-nav-incompatible ui-widget ui-widget-content ui-state-highlight com-center ui-corner-all" ><div id="msg-nav-incompatible" class="com-float-left">Votre naviguateur n\'est pas compatible avec la version complète du zeybux.<br/>Ceci est la version minimale du zeybux.<br/>Vous pouvez utiliser l\'un des naviguateur suivants pour profiter de l\'ensemble du site :</div><div id="naviguateur-1" class="com-float-left"><a href="http://www.mozilla.com/fr/firefox/"><img alt="Mozilla Firefox" src="./images/firefox-logo.png"/><br/>Mozilla Firefox</a></div><div class="com-float-left"><a href="http://www.google.com/chrome/"><img alt="Google Chrome" src="./images/chrome-logo.png"/><br/>Google Chrome</a></div></div>';this.chargementModule='<div id="contenu"><div id="formulaire_identification_int" class="ui-widget formulaire_identification ui-widget-content ui-widget-content-transparent ui-corner-all" ><div id="titre_fenetre" class="ui-widget ui-widget-header ui-corner-all">Chargement du Zeybux</div><div id="chargement-module-progressbar"></div></div></div>'}function CoreTemplate(){this.debutContenu='<div id="contenu">';this.finContenu="</div>"}function MenuVue(a){this.construct=function(b){var c=this;$.post("./index.php?m=Identification&v=Menu",function(d){Infobulle.init();if(d){if(d.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}c.afficher(d,b)}else{Infobulle.generer(d,"")}}},"json")};this.afficher=function(d,b){var c=this;var e=new IdentificationTemplate();$("#menu_int").replaceWith($(c.genererMenu(d.menu)));$("#site").append(c.affectButton($(e.deconnexion)));if(d.admin){$("#site").append(c.affectAdministration($(e.administration)))}b.homePage()};this.affectButton=function(b){return $(b).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})};this.genererMenu=function(c){var d=new IdentificationTemplate();var b=d.debutMenu;b+=d.module.template(c);b+=d.finMenu;b=$(b);b.find(".menu-lien").first().addClass("ui-corner-tl");b.find(".menu-lien").last().addClass("ui-corner-br");b.find(".menu-lien").hover(function(){b.find(".menu-lien").removeClass("ui-state-hover");$(this).addClass("ui-state-hover")},function(){b.find(".menu-lien").removeClass("ui-state-hover")});b=this.affectVues(b);return b};this.affectAdministration=function(b){b.click(function(){AdministrationVue()});b=this.affectButton(b);return b};this.affectVues=function(b){if(b){b.find("#menu-MonCompte-MonCompte").click(function(){MonCompteVue();return false});b.find("#menu-Commande-MesAchats").click(function(){MesAchatsVue();return false});b.find("#menu-Commande-MonMarche").click(function(){MonMarcheVue();return false});b.find("#menu-Caisse-CaisseListeMarche").click(function(){CaisseListeCommandeVue();return false});b.find("#menu-CompteSolidaire-CompteSolidaire").click(function(){CompteSolidaireVue();return false});b.find("#menu-CompteSolidaire-ListeAdherent").click(function(){CompteSolidaireListeAdherentVue();return false});return b}return null};this.construct(a)}function AdministrationVue(a){this.construct=function(b){$.history({vue:function(){AdministrationVue()}});var c=this;$.post("./index.php?m=Identification&v=Administration",function(d){Infobulle.init();if(d){if(d.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}c.afficher(d);gCommunVue.majMenu("administration")}else{Infobulle.generer(d,"")}}},"json")};this.afficher=function(b){var c=this;var e=new IdentificationTemplate();var d=e.admin;$("#contenu").replaceWith(c.affect($(d.template(b.menu))))};this.affect=function(b){b=this.affectVues(b);return b};this.affectVues=function(b){if(b){b.find("#menu-GestionAdherents-ListeAdherent").click(function(){ListeAdherentVue();return false});b.find("#menu-GestionCommande-ListeCommande").click(function(){GestionListeCommandeVue();return false});b.find("#menu-GestionCommande-StockProduitListeFerme").click(function(){StockProduitListeFermeVue();return false});b.find("#menu-GestionCommande-Facture").click(function(){FactureVue();return false});b.find("#menu-GestionCommande-Achat").click(function(){AchatVue();return false});b.find("#menu-GestionProducteur-ListeFerme").click(function(){ListeFermeVue();return false});b.find("#menu-CompteZeybu-CompteZeybu").click(function(){CompteZeybuVue();return false});b.find("#menu-CompteZeybu-Virements").click(function(){VirementZeybuVue();return false});b.find("#menu-CompteZeybu-ListeVirement").click(function(){ListeVirementZeybuVue();return false});b.find("#menu-CompteZeybu-SuiviPaiement").click(function(){SuiviPaiementVue();return false});b.find("#menu-RechargementCompte-RechargerCompte").click(function(){RechargerCompteVue();return false});b.find("#menu-GestionCaisse-GestionCaisse").click(function(){GestionCaisseVue();return false});b.find("#menu-GestionProduit-GestionCategorie").click(function(){GestionCategorieVue();return false});b.find("#menu-GestionProduit-GestionCaracteristique").click(function(){GestionCaracteristiqueVue();return false});b.find("#menu-GestionComptesSpeciaux-ListeCompte").click(function(){ListeComptesSpeciauxVue();return false});b.find("#menu-GestionAbonnement-ListeProduit").click(function(){ListeProduitVue();return false});b.find("#menu-GestionAbonnement-ListeAbonne").click(function(){ListeAbonneVue();return false});b.find("#menu-Caisse-ListeMarche").click(function(){CaisseListeCommandeVue();return false});b.find("#menu-Caisse-CaissePermanente").click(function(){CaisseMarcheCommandeVue({id_commande:-1});return false});b.find("#menu-Parametrage-Banque").click(function(){ListeBanqueVue();return false});return b}return null};this.construct(a)}function IdentificationVue(a){this.mType=0;this.mModules=[];this.construct=function(b){if(b&&b.vr){Infobulle.generer(b.vr,"")}this.afficher()};this.afficher=function(){this.affect()};this.affect=function(){this.affectIdentifier();gCommunVue.comHoverBtn();$("#login").focus()};this.affectIdentifier=function(){var b=this;$("#identification-form").submit(function(){b.identifier($(this));return false})};this.identifier=function(e){var b=new IdentificationVO();b={fonction:"identifier",login:e.find(":input[name=login]").val(),pass:e.find(":input[name=pass]").val()};var c=new IdentificationValid();var g=c.validAjout(b);Infobulle.init();if(g.valid){var d=this;var f=new IdentificationTemplate();$(".formulaire_identification").toggle();$.post("./index.php?m=Identification&v=Identification","pParam="+$.toJSON(b),function(h){Infobulle.init();if(h){if(h.valid){d.mType=parseInt(h.type);d.mModules=h.modules;gIdConnexion=h.idConnexion;$("#contenu").replaceWith(d.affectChargement($(f.chargementModule)));d.chargerModule(0)}else{$(".formulaire_identification").toggle();Infobulle.generer(h,"")}}},"json")}else{Infobulle.generer(g)}};this.affectChargement=function(b){b.find("#chargement-module-progressbar").progressbar({value:1});return b};this.chargerModule=function(d){if(this.mModules[d]){var e=this;var c=d+1;if(this.mModules.length==c){var b=parseFloat(c)/parseFloat(this.mModules.length)*100;$("#chargement-module-progressbar").progressbar({value:b});$.getScript("./js/package/zeybux-"+e.mModules[d]+"-min-20131229213445.js",function(){e.initAction()})}else{var b=parseFloat(c)/parseFloat(this.mModules.length)*100;$("#chargement-module-progressbar").progressbar({value:b});$.getScript("./js/package/zeybux-"+e.mModules[d]+"-min-20131229213445.js",function(){e.chargerModule(c)})}}};this.initAction=function(){$(document).ajaxStart(function(){$("#loading").fadeIn(gTempsTransition)});$(document).ajaxStop(function(){$("#loading").fadeOut(gTempsTransition)});$(document).bind("keypress keydown keyup",function(b){if(b.charCode===0&&(b.keyCode===116||(b.which===82&&b.ctrlKey))){return false}});$(document).keyup(function(b){if(b.charCode===0&&(b.which===116||(b.which===82&&b.ctrlKey))){var c=$(".__historyFrame").contents().attr($.browser.msie?"URL":"location").toString().split("#")[1];$.history.cursor=parseFloat(c)||0;if(typeof($.history.callback)=="function"){$.history._locked=true;$.history.callback($.history.stack[c],c);$.history._locked=false}}});this.lancement()};this.lancement=function(){switch(this.mType){case 1:MenuVue({homePage:function(){MonCompteVue()}});break;case 2:MenuVue({homePage:function(){AdministrationVue()}});break;case 3:MenuVue({homePage:function(){CaisseListeCommandeVue()}});break;case 4:MenuVue({homePage:function(){CompteSolidaireVue()}});break;default:var c=new TemplateVR();c.valid=false;c.log.valid=false;var b=new VRerreur();b.code=ERR_222_CODE;b.message=ERR_222_MSG;c.log.erreurs.push(b);Infobulle.generer(c,"");break}};this.construct(a)}function AccueilVue(a){this.construct=function(b){if(b&&b.vr){Infobulle.generer(b.vr,"")}this.afficher()};this.afficher=function(){if($.browser.msie){var c=new IdentificationTemplate();$("noscript").replaceWith(c.infoNavIncompatible)}else{var b=this;$.getScript("./js/zeybux-configuration-min-20131229213445.js",function(){b.init();IdentificationVue()})}};this.init=function(){this.initObj();this.initAction()};this.initObj=function(){TemplateData=new TemplateData();Infobulle=new Infobulles();gCommunVue=new CommunVue();gIdConnexion=null};this.initAction=function(){$("#widget_message_information").click(function(){$(this).delay(gTempsTransition).fadeOut(gTempsTransitionUnique)});$.history.callback=function(d,c){var b={vue:function(){return false}};b=$.extend(b,d);if(typeof(d)=="undefined"){return false}else{$(".ui-dialog").remove();b.vue()}}};this.construct(a)}function TypePaiementService(){this.affect=function(b,c,a){if(a==undefined){a=""}b=this.affectListeBanque(b,c,a);b=this.affectNumeric(b,a);return b};this.affectNumeric=function(b,a){b.find("#"+a+"champComplementaire3valeur").numeric({nbDecimal:0});return b};this.affectListeBanque=function(c,d,a){if(c.find("#"+a+"champComplementaire2valeur").length==1){function b(g){var j=$(g).val(),k=new RegExp("^"+$.ui.autocomplete.escapeRegex(j)+"$","i"),h=false;$(d).each(function(){if(this.nom.match(k)){this.selected=h=true;return false}});if(!h){$(g).attr("id-banque","");var l=new OperationDetailVR();l.valid=false;var f=new ChampComplementaireVR();f.valid=false;f.valeur.valid=false;var e=new VRerreur();e.code=ERR_261_CODE;e.message=ERR_261_MSG;f.valeur.erreurs.push(e);l.champComplementaire[2]=f;Infobulle.generer(l,"");return false}}c.find("#"+a+"champComplementaire2valeur").autocomplete({minLength:0,source:function(f,e){var g=new RegExp("^"+$.ui.autocomplete.escapeRegex(f.term),"i");e($.grep(d,function(h){return g.test(h.nom)||g.test(h.nomCourt)}))},focus:function(e,f){Infobulle.init();$("#"+a+"champComplementaire2valeur").val(htmlDecode(f.item.nom));$("#"+a+"champComplementaire2valeur").attr("id-banque",f.item.id);return false},select:function(e,f){Infobulle.init();$("#"+a+"champComplementaire2valeur").val(htmlDecode(f.item.nom));$("#"+a+"champComplementaire2valeur").attr("id-banque",f.item.id);return false},change:function(e,f){Infobulle.init();if(!f.item){return b(this)}}}).data("ui-autocomplete")._renderItem=function(e,f){return $("<li>").data("item.autocomplete",f).append("<a>"+f.nomCourt+" : "+f.nom+"<br>"+f.description+"</a>").appendTo(e)}}return c};this.getChampComplementaire=function(c,a){if(a==undefined){a=""}var b=[];$(c).each(function(){var e=new ChampComplementaireVO();e.id=this.id;e.obligatoire=this.obligatoire;switch(parseInt(this.id)){case 2:var d=$("#"+a+"champComplementaire"+this.id+"valeur").attr("id-banque");e.valeur=(d!=undefined)?d:"";break;default:e.valeur=$("#"+a+"champComplementaire"+this.id+"valeur").val();break}b[this.id]=e});return b};this.getFormChampcomplementaire=function(d,g,c,b){if(b==undefined){b=""}var f=$.extend(true,{},d);var a=[];$(g).each(function(){a[this.id]=this});$.each(f,function(){if(this.id!=undefined){switch(parseInt(this.id)){case 2:if(a[this.valeur]){this.attr='id-banque="'+this.valeur+'"';this.valeur=a[this.valeur].nom}else{this.attr="";this.valeur=""}break;default:this.attr="";break}if(this.tppCpVisible!=1){this.valeur=""}}});lTypePaiementServiceTemplate=new TypePaiementServiceTemplate();var e="";if(c==undefined){e=lTypePaiementServiceTemplate.champComplementaire}else{e=lTypePaiementServiceTemplate.champComplementaireAffiche}return e.template({champComplementaire:f,prefixe:b})}}function CommunVue(){this.comDelete=function(a){a.find(".com-delete").click(function(){$(this).parent().parent().remove()});return a};this.comNumeric=function(b,a){if($(b).length!=0){b.find(".com-numeric").numeric(a)}else{$("body").find(".com-numeric").numeric(a)}return b};this.comLienDatepicker=function(d,a,b){$.datepicker.setDefaults($.datepicker.regional.fr);var c=b.find("#"+d+",#"+a).datepicker({changeMonth:true,changeYear:true,onSelect:function(g){var h=this.id==d?"minDate":"maxDate";var e=$(this).data("datepicker");var f=$.datepicker.parseDate(e.settings.dateFormat||$.datepicker._defaults.dateFormat,g,e.settings);c.not(this).datepicker("option",h,f)}});return b};this.lienDatepickerMarche=function(d,c,a,b){b.find("#"+d).datepicker({changeMonth:true,changeYear:true,onSelect:function(g){var e=$(this).data("datepicker");var f=$.datepicker.parseDate(e.settings.dateFormat||$.datepicker._defaults.dateFormat,g,e.settings);$("#"+c).datepicker("option","minDate",f)}});b.find("#"+c).datepicker({changeMonth:true,changeYear:true,onSelect:function(g){var e=$(this).data("datepicker");var f=$.datepicker.parseDate(e.settings.dateFormat||$.datepicker._defaults.dateFormat,g,e.settings);$("#"+d).datepicker("option","maxDate",f);$("#"+a).datepicker("option","minDate",f)}});b.find("#"+a).datepicker({changeMonth:true,changeYear:true,onSelect:function(g){var e=$(this).data("datepicker");var f=$.datepicker.parseDate(e.settings.dateFormat||$.datepicker._defaults.dateFormat,g,e.settings);$("#"+c).datepicker("option","maxDate",f)}});return b};this.comDatepicker=function(b,a){$.datepicker.setDefaults($.datepicker.regional.fr);a.find("#"+b).datepicker({changeMonth:true,changeYear:true});return a};this.majMenu=function(a,b){var c="#menu-"+a+"-"+b;if(a=="administration"){c="#lien-administration"}$(".btn-menu").removeClass("ui-state-active");$(c).addClass("ui-state-active")};this.comHoverBtn=function(a){if(a){a.find(".com-button:not(.ui-state-disabled),.com-btn-header:not(.ui-state-disabled),.com-btn-hover:not(.ui-state-disabled),.com-btn-header-multiples:not(.ui-state-disabled)").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-active")}).mouseup(function(){$(this).removeClass("ui-state-active")});return a}else{$(".com-button:not(.ui-state-disabled),.com-btn-header:not(.ui-state-disabled),.com-btn-hover:not(.ui-state-disabled),.com-btn-header-multiples:not(.ui-state-disabled)").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-active")}).mouseup(function(){$(this).removeClass("ui-state-active")})}}}var TemplateData;var Infobulle={};var gCommunVue={};$(document).ready(function(){AccueilVue()});function CaisseVue(a){this.mParam={};this.mSolde=0;this.mIdCompte=0;this.mTypePaiement=[];this.mBanques=[];this.mAdherent={};this.mLots=[];this.mLotAchat=[];this.mFocusRechargement=0;this.mCategorie=[];this.mNomCategorie=[];this.mAchat={};this.mTotalAchatInit=0;this.mAchatInitial=null;this.mTypePaiementSelect=0;this.afficheChCpAutorise=true;this.mModule="Caisse";this.mIdRequete="";this.mCompteurIdProduit=0;this.mModeEdition=0;this.construct=function(b){$.history({vue:function(){CaisseVue(b)}});this.mParam=b;var c=this;b.fonction="infoAchat";if(b.id_adherent&&b.id_adherent==0){this.mIdCompte=-3}this.mModule=b.module;$.post("./index.php?m="+this.mModule+"&v=CaisseMarcheCommande","pParam="+$.toJSON(b),function(e){Infobulle.init();if(e){if(e.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}c.mIdRequete=e.idRequete;c.mTypePaiement=e.typePaiement;c.mBanques=e.banques;if(b.id_adherent!=0){c.mIdCompte=e.adherent.adhIdCompte;c.mAdherent=e.adherent;c.mSolde=parseFloat(e.adherent.cptSolde)}else{e.adherent={}}e.adherent.rechargementMontant="";e.adherent.rechargementChampComplementaire="";if(e.achats.rechargement!=null&&e.achats.rechargement.id&&e.achats.rechargement.id!=null){c.mSolde=(parseFloat(c.mSolde)-parseFloat(e.achats.rechargement.montant)).toFixed(2);e.adherent.rechargementMontant=e.achats.rechargement.montant.nombreFormate(2,",","");c.mTypePaiementSelect=e.achats.rechargement.typePaiement;var d=new TypePaiementService();var g=[];if(c.mTypePaiement[e.achats.rechargement.typePaiement]){$(c.mTypePaiement[e.achats.rechargement.typePaiement].champComplementaire).each(function(){var h=e.achats.rechargement.champComplementaire[this.id];h.id=this.id;h.tppCpVisible=1;h.chCpLabel=this.label;g.push(h)})}e.adherent.champComplementaire=d.getFormChampcomplementaire(g,c.mBanques,undefined,"rechargement")}e.adherent.total=0;e.adherent.totalAchat=0;e.adherent.totalAchatSolidaire=0;$.each(e.lots,function(){$.each(this.lots,function(){this.tailleAffiche=this.taille.nombreFormate(2,","," ");this.selected="";this.mLotPrixUnitaire=(parseFloat(this.prix)/parseFloat(this.taille)).toFixed(2).nombreFormate(2,","," ")})});c.mLots=e.lots;$.each(e.stock,function(){var h=false;c.mNomCategorie[this.cproId]={cproNom:this.cproNom};this.visible="ui-helper-hidden";$.each(this.produits,function(){c.mCompteurIdProduit--;this.id=c.mCompteurIdProduit;if(this.montant!=null){c.mTotalAchatInit=(parseFloat(c.mTotalAchatInit)+parseFloat(this.montant*-1)).toFixed(2);this.quantiteAchat=(this.quantite*-1).nombreFormate(2,",","");this.montantAchat=(this.montant*-1).nombreFormate(2,",","");e.adherent.totalAchat=(parseFloat(e.adherent.totalAchat)+parseFloat(this.montant*-1)).toFixed(2);h=true;var j=(this.idDetailCommande!=0)?this.idDetailCommande:this.idModeleLot;if(c.mLotAchat[this.id]){c.mLotAchat[this.id].normal=j}else{c.mLotAchat[this.id]={normal:j,solidaire:0}}if(this.idStock==null){this.idStock=0;this.idDetailOperation=0}}else{this.quantiteAchat="";this.montantAchat="";this.idStock=0;this.idDetailOperation=0}if(this.montantSolidaire!=null){c.mTotalAchatInit=(parseFloat(c.mTotalAchatInit)+parseFloat(this.montantSolidaire*-1)).toFixed(2);this.quantiteAchatSolidaire=(this.quantiteSolidaire*-1).nombreFormate(2,",","");this.montantAchatSolidaire=(this.montantSolidaire*-1).nombreFormate(2,",","");e.adherent.totalAchatSolidaire=(parseFloat(e.adherent.totalAchatSolidaire)+parseFloat(this.montantSolidaire*-1)).toFixed(2);h=true;var j=(this.idDetailCommandeSolidaire!=0)?this.idDetailCommandeSolidaire:this.idModeleLotSolidaire;if(c.mLotAchat[this.id]){c.mLotAchat[this.id].solidaire=j}else{c.mLotAchat[this.id]={normal:0,solidaire:j}}if(this.idStockSolidaire==null){this.idStockSolidaire=0;this.idDetailOperationSolidaire=0}}else{this.quantiteAchatSolidaire="";this.montantAchatSolidaire="";this.idStockSolidaire=0;this.idDetailOperationSolidaire=0}});if(h){this.visible=""}});e.adherent.total=(parseFloat(e.adherent.totalAchat)+parseFloat(e.adherent.totalAchatSolidaire)).toFixed(2);if((e.achats.produits&&e.achats.produits[0]&&e.achats.produits[0].cproId!=null)||(e.achats.rechargement!=null&&e.achats.rechargement.id!=null)){if(e.achats!=null){if(e.achats.operationAchat!=null){var f=[];for(i in e.achats.operationAchat.champComplementaire){if(e.achats.operationAchat.champComplementaire[i].opeId!=null){e.achats.operationAchat.champComplementaire[i].obligatoire=0;e.achats.operationAchat.champComplementaire[i].id=i;f[i]=e.achats.operationAchat.champComplementaire[i]}}e.achats.operationAchat.champComplementaire=f}if(e.achats.operationAchatSolidaire!=null){var f=[];for(i in e.achats.operationAchatSolidaire.champComplementaire){if(e.achats.operationAchatSolidaire.champComplementaire[i].opeId!=null){e.achats.operationAchatSolidaire.champComplementaire[i].obligatoire=0;e.achats.operationAchatSolidaire.champComplementaire[i].id=i;f[i]=e.achats.operationAchatSolidaire.champComplementaire[i]}}e.achats.operationAchatSolidaire.champComplementaire=f}if(e.achats.rechargement!=null&&e.achats.rechargement.id!=null){var f=[];for(i in e.achats.rechargement.champComplementaire){if(e.achats.rechargement.champComplementaire[i].opeId!=null){e.achats.rechargement.champComplementaire[i].obligatoire=0;e.achats.rechargement.champComplementaire[i].id=i;f[i]=e.achats.rechargement.champComplementaire[i]}}e.achats.rechargement.champComplementaire=f}else{e.achats.rechargement=null}}c.mAchatInitial=e.achats;c.mModeEdition=1;c.afficher(e,c.recapitulatifAchat)}else{c.afficher(e)}}else{Infobulle.generer(e,"")}}},"json")};this.afficher=function(e,f){var c=new CaisseTemplate();var d={categories:e.stock,sigleMonetaire:gSigleMonetaire};e.adherent.sigleMonetaire=gSigleMonetaire;e.adherent.typePaiement=e.typePaiement;e.adherent.total=e.adherent.total.nombreFormate(2,","," ");e.adherent.totalAchat=e.adherent.totalAchat.nombreFormate(2,","," ");e.adherent.totalAchatSolidaire=e.adherent.totalAchatSolidaire.nombreFormate(2,","," ");if(this.mParam.id_adherent!=0){e.adherent.adhSoldeEtatClass="";if(parseFloat(e.adherent.cptSolde)<=0){e.adherent.adhSoldeEtatClass="com-nombre-negatif"}e.adherent.adhSolde=e.adherent.cptSolde.nombreFormate(2,","," ");e.adherent.identite=c.achatMarcheIdentiteAdherent.template(e.adherent);e.adherent.etatCompte=c.achatMarcheEtatCompte.template(e.adherent);e.adherent.labelRecharger=c.achatMarcheLabelRechargement}else{e.adherent.identite=c.achatMarcheIdentiteInvite;e.adherent.etatCompte=c.achatMarcheEtatCompteInvite;e.adherent.labelRecharger=c.achatMarcheLabelPaiement}d.infoAdherent=c.achatInfoAdherent.template(e.adherent);var b="";b=c.achatHorsMarcheFormulaire.template(d);$("#contenu").replaceWith(this.affect($(b)));if(f){f()}};this.affect=function(c){c=this.affectAfficheLot(c);c=this.affectCalculPrix(c);c=this.affectPositionInfoAdherent(c);c=this.affectMajSolde(c);c=this.affectAfficheFormulaireRechargement(c);c=this.affectSelectTypePaiement(c);var b=new TypePaiementService();c=b.affect(c,this.mBanques);c=this.affectValider(c);c=this.affectModifier(c);c=this.affectToggleTableauCategorie(c);c=this.affectRecherche(c);c=this.affectRetour(c);c=this.affectEnregistrer(c);c=this.affectSupprimer(c);c=gCommunVue.comNumeric(c);c=gCommunVue.comHoverBtn(c);return c};this.affectRecherche=function(b){var c=this;b.find("#input-rechercher").keyup(function(){c.recherche(this.value)});b.find("#icon-annuler-recherche").click(function(){$("#input-rechercher").val("");c.recherche("")});return b};this.recherche=function(c){var b=this;if(c==""){b.afficheCategorieNonVide()}else{$(".tableau-produit").show()}$.uiTableFilter($(".tableau-produit"),c)};this.afficheCategorieNonVide=function(){var b=this;$(".ligne-categorie-btn-toggle span").addClass("ui-icon-triangle-1-s").removeClass("ui-icon-triangle-1-n");$(".tableau-produit").hide();$(".ligne-produit").each(function(){var f=$(this).data("id-produit");var e=$(this).data("id-categorie");var d=new ProduitAchatVO();var c=new ProduitAchatVO();d=b.qteEtPrixAchat(f,"",d);c=b.qteEtPrixAchat(f,"Solidaire",c);if(d.quantite!=""||d.prix!=""||c.quantite!=""||c.prix!=""){$("#btn-toggle-categorie-"+e+" span").removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-n");$("#tableau-produit-"+e).show()}})};this.affectToggleTableauCategorie=function(b){b.find(".ligne-categorie").click(function(){var c=$(this).data("id-categorie");$("#btn-toggle-categorie-"+c+" span").toggleClass("ui-icon-triangle-1-s").toggleClass("ui-icon-triangle-1-n");$("#tableau-produit-"+c).toggle()});return b};this.affectAfficheLot=function(c){var d=this;var b=new CaisseTemplate();c.find(".produit-quantite, .produit-quantite-solidaire, .produit-prix, .produit-prix-solidaire").focus(function(){var m=$(this).data("id-produit");var j=$(this).data("id-nom-produit");var g=String($(this).data("unite"));var o=$(this).data("type");if($("#select-"+j+o).length==0){var l=d.mLots[j+g].lots;var f=0;var p=0;var k={};var e=[];for(i in l){if(l[i].id){if(f==0){f=i;k=l[i]}e.push(l[i]);p++}}e.sort(function(r,q){return r.taille.localeCompare(q.taille)});var h={nproId:j,lots:e,unite:g};h.prixUnitaire=k.mLotPrixUnitaire;if(p==1){h.lotAffiche=b.achatMarcheAfficheLot.template({id:k.id,tailleAffiche:k.tailleAffiche,unite:g,})}else{if(d.mLotAchat[m]){var n=0;if(o==""){n=d.mLotAchat[m].normal}else{n=d.mLotAchat[m].solidaire}$(h.lots).each(function(){if(this.id==n){h.prixUnitaire=this.mLotPrixUnitaire;this.selected='selected="selected"'}else{this.selected=""}})}h.lotAffiche=b.achatMarcheSelectLot.template($.extend({type:o},h))}$("#cellule-lot-produit").html(d.affectChangeLot($(h.lotAffiche)));h.sigleMonetaire=gSigleMonetaire;$("#cellule-lot-produit-prix-unitaire").html(b.achatMarchePrixUnitaire.template(h));$(".ligne-lot-produit").show()}}).blur(function(){var f=$(this).data("id-nom-produit");var e=String($(this).data("unite"));var g=0;for(i in d.mLots[f+e].lots){g++}if(g==1){$(".ligne-lot-produit").hide()}}).keyup(function(){var k=$(this).data("id-produit");var g=$(this).data("id-nom-produit");var f=String($(this).data("unite"));var e=$(this).data("type");var l=0;var j=0;var h=0;for(i in d.mLots[g+f].lots){if(h==0){h=i}j++}if(j==1){l=h}else{l=$("#select-"+g+e).val()}if(d.mLotAchat[k]){if(e==""){d.mLotAchat[k].normal=l}else{d.mLotAchat[k].solidaire=l}}else{if(e==""){d.mLotAchat[k]={normal:l,solidaire:0}}else{d.mLotAchat[k]={normal:0,solidaire:l}}}});return c};this.affectCalculPrix=function(b){var c=this;b.find(".produit-quantite, .produit-quantite-solidaire").keyup(function(){c.calculPrix($(this).data("id-produit"),$(this).data("id-nom-produit"),$(this).data("type"),$(this).val(),String($(this).data("unite")))});return b};this.calculPrix=function(c,l,d,g,e){var h={};var f={};var b=0;var k=0;for(i in this.mLots[l+e].lots){if(b==0){f=this.mLots[l+e].lots[i]}k++}if(k==1){h=f}else{h=this.mLots[l+e].lots[$("#select-"+l+d).val()]}g=parseFloat(g.numberFrToDb());var j="";if(!isNaN(g)){j=(parseFloat(g)*parseFloat(h.prix)/parseFloat(h.taille)).toFixed(2).nombreFormate(2,",","")}$("#produits"+c+"montant"+d).val(j)};this.affectChangeLot=function(b){var c=this;b.find(".select-lot").change(function(){var f=$(this).data("id-nom-produit");var e=String($(this).data("unite"));var d=$(this).data("type");var g=$(this).val();$("#produits"+d+f+"quantite, #produits"+f+"montant"+d).val("");$("#prix-unitaire-"+f).text(c.mLots[f+e].lots[g].mLotPrixUnitaire)});return b};this.affectPositionInfoAdherent=function(c){var d=null;var b=c.find("#info-adherent-widget").first();var e=c.find(".tableau-liste-produit");$(window).scroll(function(){var f=$(this).scrollTop();if(!d){d=setTimeout(function(){d=null;if(b.css("position")!=="fixed"&&b.offset().top<$(document).scrollTop()){e.css("margin-top","200");b.css({"z-index":999,position:"fixed",top:0,width:e.width(),"box-shadow":"0 0 20px #555"}).removeClass("ui-corner-all").addClass("ui-corner-bottom")}else{if($(document).scrollTop()<=e.offset().top){e.css("margin-top","");b.css({position:"","z-index":"",width:"","box-shadow":""}).removeClass("ui-corner-bottom").addClass("ui-corner-all")}}},100)}});return c};this.affectMajSolde=function(b){var c=this;b.find(".produit-quantite, .produit-quantite-solidaire, .produit-prix, .produit-prix-solidaire, #rechargementmontant").keyup(function(){var f=(parseFloat(c.majTotal(""))+parseFloat(c.majTotal("-solidaire"))).toFixed(2);$("#total").text(f.nombreFormate(2,","," "));var e=parseFloat($("#rechargementmontant").val().numberFrToDb());if(isNaN(e)){e=0}var d=(parseFloat(c.mSolde)-f+parseFloat(c.mTotalAchatInit)+e).toFixed(2);$("#solde").text(d.nombreFormate(2,","," "));if(d<=0){$("#solde, #solde-sigle").addClass("com-nombre-negatif")}else{$("#solde, #solde-sigle").removeClass("com-nombre-negatif")}});return b};this.majTotal=function(b){var c=0;$(".produit-prix"+b).each(function(){var d=parseFloat($(this).val().numberFrToDb());if(!isNaN(d)){c=(parseFloat(c)+d).toFixed(2)}});$("#total-achat"+b).text(c.nombreFormate(2,","," "));return parseFloat(c)};this.affectAfficheFormulaireRechargement=function(c){var d=this;var b=c.find("#cellule-recharger");c.find("#rechargementmontant, #rechargementtypePaiement").focus(function(){d.mFocusRechargement++;if(d.afficheChCpAutorise){$("#select-typePaiement").show();b.removeClass("ui-corner-all").addClass("ui-corner-top")}}).blur(function(){d.mFocusRechargement--;if(d.mFocusRechargement==0){$("#select-typePaiement").hide();b.removeClass("ui-corner-top").addClass("ui-corner-all")}});c.find("#ligne-rechargement").hover(function(){d.mFocusRechargement++;if(d.afficheChCpAutorise){$("#select-typePaiement").show();b.removeClass("ui-corner-all").addClass("ui-corner-top")}},function(){d.mFocusRechargement--;if(d.mFocusRechargement==0){$("#select-typePaiement").hide();b.removeClass("ui-corner-top").addClass("ui-corner-all")}});return c};this.affectAfficheFormulaireRechargementChampComplementaire=function(c){var d=this;var b=$("#cellule-recharger");c.find(":input").focus(function(){d.mFocusRechargement++;if(d.afficheChCpAutorise){$("#select-typePaiement").show();b.removeClass("ui-corner-all").addClass("ui-corner-top")}}).blur(function(){d.mFocusRechargement--;if(d.mFocusRechargement==0){$("#select-typePaiement").hide();b.removeClass("ui-corner-top").addClass("ui-corner-all")}});return c};this.affectSelectTypePaiement=function(b){var c=this;b.find(":input[name=typepaiement]").change(function(){c.changerTypePaiement($(this))});b.find(":input[name=typepaiement] option[value='"+c.mTypePaiementSelect+"']").prop("selected",true);return b};this.changerTypePaiement=function(e){var d=e.val();if(!this.mTypePaiement[d]||(this.mTypePaiement[d]&&this.mTypePaiement[d].champComplementaire.length==0)){$(".champ-complementaire").remove()}else{var b=new CaisseTemplate();var c=new TypePaiementService();$("#ligne-operation").after(this.affectChampComplementaire(c.affect($(b.champComplementaire.template(this.mTypePaiement[d])),this.mBanques,"rechargement")))}};this.affectChampComplementaire=function(b){b=this.affectAfficheFormulaireRechargementChampComplementaire(b);return b};this.affectValider=function(b){var c=this;b.find("#btn-valider").click(function(){c.recapitulatifAchat()});return b};this.recapitulatifAchat=function(){var e=this;var l=new AchatVO();var n=[];var f=false;var g=0;var b=0;$(".ligne-produit").each(function(){var z=$(this).data("id-produit");var x=$(this).data("id-nom-produit");var u=String($(this).data("unite"));var w=$(this).data("id-categorie");var v=new ProduitDetailAchatVO();v.id=z;v.idNomProduit=x;v.idStock=$(this).data("id-stock");v.idStockSolidaire=$(this).data("id-stock-solidaire");v.idDetailOperation=$(this).data("id-detail-operation");v.idDetailOperationSolidaire=$(this).data("id-detail-operation-solidaire");if(e.mLotAchat[z]){if(e.mLots[x+u].type=="modele"){v.idModeleLot=e.mLotAchat[z].normal;v.idModeleLotSolidaire=e.mLotAchat[z].solidaire}else{v.idDetailCommande=e.mLotAchat[z].normal;v.idDetailCommandeSolidaire=e.mLotAchat[z].solidaire}}var A=parseFloat($("#produits"+z+"quantite").val().numberFrToDb()).toFixed(2);if(!isNaN(A)){v.quantite=(A*-1).toFixed(2)}var y=parseFloat($("#produits"+z+"montant").val().numberFrToDb()).toFixed(2);if(!isNaN(y)){v.montant=(y*-1).toFixed(2);g=(parseFloat(g)+parseFloat(y*-1)).toFixed(2)}A=parseFloat($("#produits"+z+"quantiteSolidaire").val().numberFrToDb()).toFixed(2);if(!isNaN(A)){v.quantiteSolidaire=(A*-1).toFixed(2)}y=parseFloat($("#produits"+z+"montantSolidaire").val().numberFrToDb()).toFixed(2);if(!isNaN(y)){v.montantSolidaire=(y*-1).toFixed(2);b=(parseFloat(b)+parseFloat(y*-1)).toFixed(2)}if(v.quantite!=""||v.montant!=""||v.quantiteSolidaire!=""||v.montantSolidaire!=""){l.produits.push(v);f=true;if(!n[w]){n[w]={cproNom:e.mNomCategorie[w].cproNom,produits:[]}}n[w].produits[x]={nom:e.mLots[x+u].nom,quantite:"",montant:"",quantiteSolidaire:"",montantSolidaire:"",unite:"",uniteSolidaire:"",sigleMonetaire:"",sigleMonetaireSolidaire:""};if(v.quantite!=""){n[w].produits[x].quantite=(v.quantite*-1).nombreFormate(2,","," ");n[w].produits[x].unite=u;n[w].produits[x].montant=(v.montant*-1).nombreFormate(2,","," ");n[w].produits[x].sigleMonetaire=gSigleMonetaire}if(v.quantiteSolidaire!=""){n[w].produits[x].quantiteSolidaire=(v.quantiteSolidaire*-1).nombreFormate(2,","," ");n[w].produits[x].uniteSolidaire=u;n[w].produits[x].montantSolidaire=(v.montantSolidaire*-1).nombreFormate(2,","," ");n[w].produits[x].sigleMonetaireSolidaire=gSigleMonetaire}}});if(this.mAchatInitial!=null){if(this.mAchatInitial.operationAchat!=null){l.operationAchat=this.mAchatInitial.operationAchat}if(this.mAchatInitial.operationAchatSolidaire!=null){l.operationAchatSolidaire=this.mAchatInitial.operationAchatSolidaire}if(this.mAchatInitial.rechargement!=null){l.rechargement=this.mAchatInitial.rechargement}}if(g<0){if(l.operationAchat==""){var o=new OperationDetailVO();o.montant=g;o.typePaiement=7;o.idCompte=this.mIdCompte;if(this.mParam.id_commande>0){var t=new ChampComplementaireVO();t.id=1;t.obligatoire=0;t.valeur=this.mParam.id_commande;o.champComplementaire[1]=t}var t=new ChampComplementaireVO();t.id=15;t.obligatoire=1;t.valeur=this.mIdRequete;o.champComplementaire[15]=t;l.operationAchat=o}else{l.operationAchat.montant=g}}if(b<0){if(l.operationAchatSolidaire==""){var o=new OperationDetailVO();o.montant=b;o.typePaiement=8;o.idCompte=this.mIdCompte;if(this.mParam.id_commande>0){var t=new ChampComplementaireVO();t.id=1;t.obligatoire=0;t.valeur=this.mParam.id_commande;o.champComplementaire[1]=t}var t=new ChampComplementaireVO();t.id=15;t.obligatoire=1;t.valeur=this.mIdRequete;o.champComplementaire[15]=t;l.operationAchatSolidaire=o}else{l.operationAchatSolidaire.montant=b}}var r=$(":input[name=montant-rechargement]").val().numberFrToDb();var k=0;var h="";if(r==""){r=0}if(!isNaN(r)){r=parseFloat(r);k=r}k=k.nombreFormate(2,","," ");if(r>0){var d=$(":input[name=typepaiement]").val();if(d!=0){h=$(":input[name=typepaiement]").selectedTexts()}var s=[];if(this.mTypePaiement[d]){var m=new TypePaiementService();s=m.getChampComplementaire(this.mTypePaiement[d].champComplementaire,"rechargement");if(this.mParam.id_commande>0){var t=new ChampComplementaireVO();t.id=1;t.obligatoire=0;t.valeur=this.mParam.id_commande;s[1]=t}var t=new ChampComplementaireVO();t.id=15;t.obligatoire=1;t.valeur=this.mIdRequete;s[15]=t}if(l.rechargement==""){l.rechargement=new OperationDetailVO();l.rechargement.idCompte=this.mIdCompte}l.rechargement.typePaiement=d;l.rechargement.champComplementaire=s;l.rechargement.montant=r}else{if(r==0&&l.rechargement!=""){l.rechargement.montant=0}}var c=new AchatValid();var j=c.validAjout(l);$("#input-rechercher").val("");e.recherche("");if(this.mParam.vr&&this.mParam.vr!=null){this.mParam.vr=null}else{Infobulle.init()}if(j.valid){n.sort(function(v,u){return v.cproNom.localeCompare(u.cproNom)});$.each(n,function(){if(this.cproNom){this.produits.sort(function(v,u){return v.nom.localeCompare(u.nom)})}});var p=new CaisseTemplate();if(f){$("#formulaire-produit").hide().before(p.achatHorsMarcheDetailAchat.template({categories:n}))}else{$("#formulaire-produit").hide()}$(".ligne-lot-produit").hide();$("#rechargement-affiche").text(k);if(l.rechargement==""||(l.rechargement!=""&&l.rechargement.montant<=0)){this.afficheChCpAutorise=false}var q={typePaiementAffiche:h};var m=new TypePaiementService();var t=[];if(this.mTypePaiement[l.rechargement.typePaiement]){$(this.mTypePaiement[l.rechargement.typePaiement].champComplementaire).each(function(){var u=$.extend(true,{},l.rechargement.champComplementaire[this.id]);u.id=this.id;u.tppCpVisible=1;u.chCpLabel=this.label;t.push(u)})}q.champComplementaireAffiche=m.getFormChampcomplementaire(t,this.mBanques,true);$("#form-select-typePaiement").hide().after(p.champComplementaireAffiche.template(q));$(".form-produit, #btn-valider, #btn-modifier, #recherche-produit").toggle();if(this.mModeEdition==1){this.mModeEdition=0;if(this.mModule=="GestionCommande"){$("#btn-supprimer").show()}}else{$("#btn-enregistrer").show()}this.mAchat=l}else{Infobulle.generer(j,"")}};this.qteEtPrixAchat=function(d,b,e){var f=parseFloat($("#produits"+d+"quantite"+b).val().numberFrToDb());if(!isNaN(f)){e.quantite=f*-1}var c=parseFloat($("#produits"+d+"montant"+b).val().numberFrToDb());if(!isNaN(c)){e.prix=c*-1}return e};this.affectModifier=function(b){var c=this;b.find("#btn-modifier").click(function(){c.modifier()});return b};this.modifier=function(){$("#btn-enregistrer, #btn-supprimer").hide();$(".form-produit, #btn-valider, #btn-modifier, #recherche-produit").toggle();$("#formulaire-produit, #form-select-typePaiement").show();$("#formulaire-produit-detail, #affiche-select-typePaiement").remove();this.afficheChCpAutorise=true};this.affectRetour=function(b){var c=this;b.find("#lien-retour").click(function(){if(c.mModule=="Caisse"){CaisseMarcheCommandeVue({id_commande:c.mParam.id_commande})}else{if(c.mParam.retour){if(c.mParam.retour=="Achat"){AchatVue({idMarche:c.mParam.id_commande})}else{if(c.mParam.retour=="AchatMarche"){ListeAchatMarcheVue({id_marche:c.mParam.id_commande})}}}}});return b};this.affectEnregistrer=function(b){var c=this;b.find("#btn-enregistrer").click(function(){c.enregistrerAchat()});return b};this.enregistrerAchat=function(){var c=this;var b=this.mAchat;b.fonction="acheter";$.post("./index.php?m="+this.mModule+"&v=CaisseMarcheCommande","pParam="+$.toJSON(b),function(e){if(e){if(e.valid){var d=new CaisseTemplate();if(c.mModule=="Caisse"){$("#contenu").replaceWith(c.affectRetour($(d.achatCommandeSucces)))}else{if(c.mParam.retour){c.mParam.id=e.idAchat;c.mParam.vr=new TemplateVR(false,new VRelement(false,[new VRerreur(ERR_314_CODE,ERR_314_MSG)]));CaisseVue(c.mParam)}}}else{c.modifier();Infobulle.generer(e,"")}}},"json")};this.affectSupprimer=function(b){var c=this;b.find("#btn-supprimer").click(function(){var d=new CaisseTemplate();$(d.dialogSuppressionAchat).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:600,buttons:{Supprimer:function(){var f=$(this);var e={id:c.mParam.id,fonction:"supprimer"};$.post("./index.php?m=GestionCommande&v=CaisseMarcheCommande","pParam="+$.toJSON(e),function(g){if(g){if(g.valid){var h=new TemplateVR(false,new VRelement(false,[new VRerreur(ERR_315_CODE,ERR_315_MSG)]));if(c.mParam.retour=="Achat"){AchatVue({idMarche:c.mParam.id_commande,vr:h})}else{if(c.mParam.retour=="AchatMarche"){ListeAchatMarcheVue({id_marche:c.mParam.id_commande,vr:h})}}f.dialog("close")}else{Infobulle.generer(g,"")}}},"json")},Annuler:function(){$(this).dialog("close")}},close:function(e,f){$(this).remove()}})});return b};this.construct(a)};