function CompteZeybuTemplate(){this.InfoCompte='<div id="contenu"><div class="com-widget-window ui-widget ui-widget-content ui-corner-all"><div class="com-widget-header ui-widget ui-widget-header ui-corner-all">Le Compte du Zeybu</div><table id="table-info-solde-zeybu"><thead><tr class="ui-widget ui-widget-header"><th id="td-solde-zeybu-total" class="com-table-th">Solde Total : {soldeTotal} {sigleMonetaire}</th><th id="td-solde-zeybu-caisse" class="com-table-th">Montant en Caisse : {soldeCaisse} {sigleMonetaire}</th><th id="td-solde-zeybu-banque" class="com-table-th">Montant en Banque : {soldeBanque} {sigleMonetaire}</th><th id="td-solde-zeybu-banque" class="com-table-th">Solde EAU : {soldeSolidaire} {sigleMonetaire}</th></tr></thead></table><div><div id="content-nav-liste-operation" class="ui-helper-clearfix ui-state-default ui-corner-all"><form>	<span id="icone-nav-liste-operation-w" class="prev ui-helper-hidden ui-state-default ui-corner-all com-button" ><span class="ui-icon ui-icon-circle-arrow-w"></span></span>	<span id="page-compteur">Page : <span type="text" class="pagedisplay"></span></span>	<span id="icone-nav-liste-operation-e" class="next ui-state-default ui-corner-all com-button" ><span class="ui-icon ui-icon-circle-arrow-e"></span></span>	<input type="hidden" class="pagesize" value="30"></form></div><table id="table-operation" class="com-table"><thead><tr class="ui-widget ui-widget-header" ><th class="com-table-th">Date</th><th class="com-table-th">Compte</th><th class="com-table-th">Libellé</th><th class="com-table-th">Type de paiement</th><th class="com-table-th">Débit</th><th class="com-table-th">Crédit</th></tr></thead><tbody><!-- BEGIN operation --><tr><td class="com-table-td td-date ">{operation.opeDate}</td><td class="com-table-td td-date ">{operation.cptLabel}</td><td class="com-table-td td-libelle">{operation.opeLibelle}</td><td class="com-table-td td-type-paiement">{operation.tppType}</td><td class="com-table-td td-montant">{operation.debit}</td><td class="com-table-td td-montant">{operation.credit}</td></tr><!-- END operation --></tbody></table></div></div></div>';this.listeOperationVide='<div id="contenu"><div class="com-widget-window ui-widget ui-widget-content ui-corner-all"><div class="com-widget-header ui-widget ui-widget-header ui-corner-all">Le Compte du Zeybu</div><table id="table-info-solde-zeybu"><thead><tr class="ui-widget ui-widget-header"><th id="td-solde-zeybu-total" class="com-table-th">Solde Total : {soldeTotal} {sigleMonetaire}</th><th id="td-solde-zeybu-caisse" class="com-table-th">Montant en Caisse : {soldeCaisse} {sigleMonetaire}</th><th id="td-solde-zeybu-banque" class="com-table-th">Montant en Banque : {soldeBanque} {sigleMonetaire}</th></tr></thead></table><p id="texte-liste-vide">Aucune Opération effectuée.</p></div></div>';this.listeAdherent='<div id="contenu" class="ui-helper-reset"><div id="virements"><ul><li><a href="#virement-solidaire">Virement Solidaire</a></li><li><a href="#virement-adherent">Virement Adherent</a></li><li><a href="#virement-producteur">Virement Producteur</a></li></ul><div id="virement-solidaire"><div class="com-center"><button id="btn-virement-solidaire" class="ui-state-default ui-corner-all com-button com-center"> Compte Zeybu vers Compte Solidaire</button></div><div class="com-center"><button id="btn-virement-solidaire-inverse" class="ui-state-default ui-corner-all com-button com-center"> Compte Solidaire vers Compte Zeybu</button></div></div><div id="virement-adherent"><div id="liste-adh-recherche" class="recherche com-widget-header ui-widget ui-widget-header ui-corner-all"><form id="filter-form-adherent"><div><span class="conteneur-icon com-float-left ui-widget-content ui-corner-left" title="Chercher"><span class="ui-icon ui-icon-search"></span></span><input class="com-input-text ui-widget-content ui-corner-right filter" name="filter-adherent" id="filter-adherent" value="" maxlength="30" size="15" type="text" /></div></form></div><table class="com-table table-adherent"><thead><tr class="ui-widget ui-widget-header"><th class="com-table-th com-underline-hover liste-adh-th-num com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th com-underline-hover com-cursor-pointer"><span class="ui-icon span-icon"></span>Compte</th><th class="com-table-th com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Nom</th><th class="com-table-th com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Prénom</th><th class="com-table-th com-underline-hover com-cursor-pointer"></th><th class="com-table-th com-underline-hover com-cursor-pointer"></th></tr></thead><tbody><!-- BEGIN listeAdherent --><tr class="com-cursor-pointer compte-ligne-adherent" id-adherent="{listeAdherent.adhId}"><td class="com-table-td"><span class="ui-helper-hidden">{listeAdherent.adhIdTri}</span>{listeAdherent.adhNumero}</td><td class="com-table-td">{listeAdherent.cptLabel}</td><td class="com-table-td">{listeAdherent.adhNom}</td><td class="com-table-td">{listeAdherent.adhPrenom}</td><td class="com-table-td com-center"><button class="btn-virement ui-state-default ui-corner-all com-button com-center">Zeybu vers {listeAdherent.cptLabel}</button></td><td class="com-table-td com-center"><button class="btn-virement-inverse ui-state-default ui-corner-all com-button com-center">{listeAdherent.cptLabel} vers Zeybu</button></td></tr><!-- END listeAdherent --></tbody></table></div><div id="virement-producteur"><div id="liste-prdt-recherche" class="recherche com-widget-header ui-widget ui-widget-header ui-corner-all"><form id="filter-form-producteur"><div><span class="conteneur-icon com-float-left ui-widget-content ui-corner-left" title="Chercher"><span class="ui-icon ui-icon-search"></span></span><input class="com-input-text ui-widget-content ui-corner-right filter" name="filter-producteur" id="filter-producteur" value="" maxlength="30" size="15" type="text" /></div></form></div><table class="com-table table-producteur"><thead><tr class="ui-widget ui-widget-header"><th class="com-table-th com-underline-hover liste-adh-th-num com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th com-underline-hover com-cursor-pointer"><span class="ui-icon span-icon"></span>Compte</th><th class="com-table-th com-underline-hover liste-adh-th-nom com-cursor-pointer"><span class="ui-icon span-icon"></span>Nom</th><th class="com-table-th com-underline-hover com-cursor-pointer"></th><th class="com-table-th com-underline-hover com-cursor-pointer"></th></tr></thead><tbody><!-- BEGIN listeProducteur --><tr class="com-cursor-pointer compte-ligne-producteur" id-producteur="{listeProducteur.ferId}"><td class="com-table-td"><span class="ui-helper-hidden">{listeProducteur.ferIdTri}</span>{listeProducteur.ferNumero}</td><td class="com-table-td">{listeProducteur.cptLabel}</td><td class="com-table-td">{listeProducteur.ferNom}</td><td class="com-table-td com-center"><button class="btn-virement ui-state-default ui-corner-all com-button com-center">Zeybu vers {listeProducteur.cptLabel}</button></td><td class="com-table-td com-center"><button class="btn-virement-inverse ui-state-default ui-corner-all com-button com-center">{listeProducteur.cptLabel} vers Zeybu</button></td></tr><!-- END listeProducteur --></tbody></table></div></div></div>';this.listeAdherentVide='<div id="virement-adherent"><p id="texte-liste-vide">Aucun adhérent dans la base.</p></div>';this.listeProducteurVide='<div id="virement-producteur"><p id="texte-liste-vide">Aucun producteur dans la base.</p></div>';this.dialogVirementSolidaire='<div id="dialog-ajout-virement" title="Virement Solidaire"><form><table class="com-table-100"><tr>Du compte : {cptDebit} vers le compte : {cptCredit}</tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant <input class="com-numeric com-input-text ui-widget-content ui-corner-all" type="text" name="montant" maxlength="12" id="montant"/> {sigleMonetaire}</td></tr></table></form></div>';this.dialogAjoutVirement='<div id="dialog-ajout-virement" title="Virement"><form><table class="com-table-100"><tr>Du compte : {cptDebit} vers le compte : {cptCredit}</tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant <input class="com-numeric com-input-text ui-widget-content ui-corner-all" type="text" name="montant" maxlength="12" id="montant"/> {sigleMonetaire}</td></tr></table></form></div>';this.listeVirement='<div id="contenu"><div class="com-widget-window ui-widget ui-widget-content ui-corner-all"><div class="com-widget-header ui-widget ui-widget-header ui-corner-all">Liste des virements</div><div><div id="content-nav-liste-operation" class="ui-helper-clearfix ui-state-default ui-corner-all"><form>	<span id="icone-nav-liste-operation-w" class="prev ui-helper-hidden ui-state-default ui-corner-all com-button" ><span class="ui-icon ui-icon-circle-arrow-w"></span></span>	<span id="page-compteur">Page : <span type="text" class="pagedisplay"></span></span>	<span id="icone-nav-liste-operation-e" class="next ui-state-default ui-corner-all com-button" ><span class="ui-icon ui-icon-circle-arrow-e"></span></span>	<input type="hidden" class="pagesize" value="20"></form></div><table id="table-operation" class="com-table"><thead><tr class="ui-widget ui-widget-header" ><th class="com-table-th">Date</th><th class="com-table-th">Compte</th><th class="com-table-th">Débit</th><th class="com-table-th">Crédit</th><th class="com-table-th"></th><th class="com-table-th"></th></tr></thead><tbody><!-- BEGIN operation --><tr><td class="com-table-td td-date "><span class="ui-helper-hidden id-operation">{operation.opeId}</span>{operation.opeDate}</td><td class="com-table-td cpt-label">{operation.cptLabel}</td><td class="com-table-td td-montant">{operation.debit}</td><td class="com-table-td td-montant">{operation.credit}</td><td class="com-table-td td-edt" id="td-edt-{operation.opeId}"></td><td class="com-table-td td-edt" id="td-sup-{operation.opeId}"></td></tr><!-- END operation --></tbody></table></div></div></div>';this.listeVirementVide='<div id="contenu"><div class="com-widget-window ui-widget ui-widget-content ui-corner-all"><div class="com-widget-header ui-widget ui-widget-header ui-corner-all">Liste des virements</div><p id="texte-liste-vide">Aucun Virement effectué.</p></div></div>';this.montantDebit='<span class="montant">{debit}</span> {sigleMonetaire}';this.montantCredit='<span class="montant">{credit}</span> {sigleMonetaire}';this.btnEdt='<span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-edt-modifier" title="Modifier"><span class="ui-icon ui-icon-pencil"></span>';this.btnSup='<span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-edt-supprimer" title="Supprimer"><span class="ui-icon ui-icon-closethick"></span>';this.dialogModifVirement='<div id="dialog-ajout-virement" title="Virement Solidaire"><form><table class="com-table-100"><tr><td>N° de compte : {label}</td></tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant <input class="com-numeric com-input-text ui-widget-content ui-corner-all" type="text" name="montant" maxlength="12" id="montant" value="{montant}" /> {sigleMonetaire}</td></tr></table></form></div>';this.dialogSupVirement='<div id="dialog-ajout-virement" title="Supprimer un Virement"><form><table class="com-table-100"><tr><td>N° de compte : {label}</td></tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant {montant} {sigleMonetaire}</td></tr></table></form></div>';this.listePaiement='<div id="contenu" class="ui-helper-reset"><div id="listePaiement"><ul><li><a href="#cheque-adherent" id="li-cheque-adherent">Chèques Adhérent</a></li><li><a href="#espece-adherent" id="li-espece-adherent">Espèces Adhérent</a></li><li><a href="#cheque-ferme" id="li-cheque-ferme">Chèques Ferme</a></li><li><a href="#espece-ferme" id="li-espece-ferme">Espèces Ferme</a></li></ul><div id="cheque-adherent"><div>Total : {totalChequeAdherent} {sigleMonetaire}</div><div id="liste-adh-recherche" class="recherche com-widget-header ui-widget ui-widget-header ui-corner-all"><form id="filter-form-cheque-adherent"><div><span class="conteneur-icon com-float-left ui-widget-content ui-corner-left" title="Chercher"><span class="ui-icon ui-icon-search"></span></span><input class="com-input-text ui-widget-content ui-corner-right filter" name="filter-cheque-adherent" id="filter-cheque-adherent" value="" maxlength="30" size="15" type="text" /></div></form></div><table class="com-table table-cheque-adherent"><thead><tr class="ui-widget ui-widget-header"><th class="com-table-th-debut com-underline-hover td-date com-cursor-pointer"><span class="ui-icon span-icon"></span>Date</th><th class="com-table-th-med com-underline-hover liste-adh-th-num com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th-med com-underline-hover com-cursor-pointer tab-cell-compte"><span class="ui-icon span-icon"></span>Compte</th><th class="com-table-th-med com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Nom</th><th class="com-table-th-med com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Prénom</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-montant"><span class="ui-icon span-icon"></span>Montant</th><th class="com-table-th-med com-underline-hover com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-edt"></th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-edt"></th><th class="com-table-th-fin com-underline-hover com-cursor-pointer td-edt"></th></tr></thead><tbody><!-- BEGIN listeChequeAdherent --><tr class="com-cursor-pointer compte-ligne-adherent"><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeAdherent.opeDateTri}</span>{listeChequeAdherent.opeDate}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeAdherent.adhIdTri}</span>{listeChequeAdherent.adhNumero}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeAdherent.cptIdTri}</span>{listeChequeAdherent.cptLabel}</td><td class="com-table-td">{listeChequeAdherent.adhNom}</td><td class="com-table-td">{listeChequeAdherent.adhPrenom}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeAdherent.opeMontant}</span>{listeChequeAdherent.opeMontantAffichage} {sigleMonetaire}</td><td class="com-table-td">{listeChequeAdherent.opeTypePaiementChampComplementaire}</td><td class="com-table-td-med com-center"><button class="btn-valid ui-state-default ui-corner-all com-button com-center" id-operation="{listeChequeAdherent.opeId}">Ok</button></td><td class="com-table-td-med td-edt"><span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-modifier" type="1" id-operation="{listeChequeAdherent.opeId}" title="Modifier"><span class="ui-icon ui-icon-pencil"></span></span></td><td class="com-table-td-fin td-edt"><span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-supprimer"  id-operation="{listeChequeAdherent.opeId}" title="Supprimer"><span class="ui-icon ui-icon-trash"></span></span></td></tr><!-- END listeChequeAdherent --></tbody></table></div><div id="espece-adherent"><div>Total : {totalEspeceAdherent} {sigleMonetaire}</div><div id="liste-prdt-recherche" class="recherche com-widget-header ui-widget ui-widget-header ui-corner-all"><form id="filter-form-espece-adherent"><div><span class="conteneur-icon com-float-left ui-widget-content ui-corner-left" title="Chercher"><span class="ui-icon ui-icon-search"></span></span><input class="com-input-text ui-widget-content ui-corner-right filter" name="filter-espece-adherent" id="filter-espece-adherent" value="" maxlength="30" size="15" type="text" /></div></form></div><table class="com-table table-espece-adherent"><thead><tr class="ui-widget ui-widget-header"><th class="com-table-th-debut com-underline-hover td-date com-cursor-pointer"><span class="ui-icon span-icon"></span>Date</th><th class="com-table-th-med com-underline-hover liste-adh-th-num com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th-med com-underline-hover com-cursor-pointer tab-cell-compte"><span class="ui-icon span-icon"></span>Compte</th><th class="com-table-th-med com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Nom</th><th class="com-table-th-med com-underline-hover com-cursor-pointer"><span class="ui-icon span-icon"></span>Prénom</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-montant"><span class="ui-icon span-icon"></span>Montant</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-edt"></th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-edt"></th><th class="com-table-th-fin com-underline-hover com-cursor-pointer td-edt"></th></tr></thead><tbody><!-- BEGIN listeEspeceAdherent --><tr class="com-cursor-pointer compte-ligne-producteur"><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceAdherent.opeDateTri}</span>{listeEspeceAdherent.opeDate}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceAdherent.adhIdTri}</span>{listeEspeceAdherent.adhNumero}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceAdherent.cptIdTri}</span>{listeEspeceAdherent.cptLabel}</td><td class="com-table-td">{listeEspeceAdherent.adhNom}</td><td class="com-table-td">{listeEspeceAdherent.adhPrenom}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceAdherent.opeMontant}</span>{listeEspeceAdherent.opeMontantAffichage} {sigleMonetaire}</td><td class="com-table-td-med com-center"><button class="btn-valid ui-state-default ui-corner-all com-button com-center" id-operation="{listeEspeceAdherent.opeId}">Ok</button></td><td class="com-table-td-med td-edt"><span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-modifier" type="2" id-operation="{listeEspeceAdherent.opeId}" title="Modifier"><span class="ui-icon ui-icon-pencil"></span></span></td><td class="com-table-td-fin td-edt"><span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-supprimer"  id-operation="{listeEspeceAdherent.opeId}" title="Supprimer"><span class="ui-icon ui-icon-trash"></span></span></td></tr><!-- END listeEspeceAdherent --></tbody></table></div><div id="cheque-ferme"><div>Total : {totalChequeFerme} {sigleMonetaire}</div><div id="liste-adh-recherche" class="recherche com-widget-header ui-widget ui-widget-header ui-corner-all"><form id="filter-form-cheque-ferme"><div><span class="conteneur-icon com-float-left ui-widget-content ui-corner-left" title="Chercher"><span class="ui-icon ui-icon-search"></span></span><input class="com-input-text ui-widget-content ui-corner-right filter" name="filter-cheque-ferme" id="filter-cheque-ferme" value="" maxlength="30" size="15" type="text" /></div></form></div><table class="com-table table-cheque-ferme"><thead><tr class="ui-widget ui-widget-header"><th class="com-table-th-debut com-underline-hover td-date com-cursor-pointer"><span class="ui-icon span-icon"></span>Date</th><th class="com-table-th-med com-underline-hover liste-adh-th-num com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th-med com-underline-hover com-cursor-pointer tab-cell-compte"><span class="ui-icon span-icon"></span>Compte</th><th class="com-table-th-med com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Nom</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-montant"><span class="ui-icon span-icon"></span>Montant</th><th class="com-table-th-med com-underline-hover com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-edt"></th><th class="com-table-th-fin com-underline-hover com-cursor-pointer td-edt"></th></tr></thead><tbody><!-- BEGIN listeChequeFerme --><tr class="com-cursor-pointer compte-ligne-adherent"><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeFerme.opeDateTri}</span>{listeChequeFerme.opeDate}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeFerme.ferIdTri}</span>{listeChequeFerme.ferNumero}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeFerme.cptIdTri}</span>{listeChequeFerme.cptLabel}</td><td class="com-table-td">{listeChequeFerme.ferNom}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeChequeFerme.opeMontant}</span>{listeChequeFerme.opeMontantAffichage} {sigleMonetaire}</td><td class="com-table-td">{listeChequeFerme.opeTypePaiementChampComplementaire}</td><td class="com-table-td-med com-center"><button class="btn-valid ui-state-default ui-corner-all com-button com-center" id-operation="{listeChequeFerme.opeId}">Ok</button></td><td class="com-table-td-fin td-edt"><span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-modifier" type="1" id-operation="{listeChequeFerme.opeId}" title="Modifier"><span class="ui-icon ui-icon-pencil"></span></span></td></tr><!-- END listeChequeFerme --></tbody></table></div><div id="espece-ferme"><div>Total : {totalEspeceFerme} {sigleMonetaire}</div><div id="liste-prdt-recherche" class="recherche com-widget-header ui-widget ui-widget-header ui-corner-all"><form id="filter-form-espece-ferme"><div><span class="conteneur-icon com-float-left ui-widget-content ui-corner-left" title="Chercher"><span class="ui-icon ui-icon-search"></span></span><input class="com-input-text ui-widget-content ui-corner-right filter" name="filter-espece-ferme" id="filter-espece-ferme" value="" maxlength="30" size="15" type="text" /></div></form></div><table class="com-table table-espece-ferme"><thead><tr class="ui-widget ui-widget-header"><th class="com-table-th-debut com-underline-hover td-date com-cursor-pointer"><span class="ui-icon span-icon"></span>Date</th><th class="com-table-th-med com-underline-hover liste-adh-th-num com-cursor-pointer"><span class="ui-icon span-icon"></span>N°</th><th class="com-table-th-med com-underline-hover com-cursor-pointer tab-cell-compte"><span class="ui-icon span-icon"></span>Compte</th><th class="com-table-th-med com-underline-hover liste-adh-th-nom  com-cursor-pointer"><span class="ui-icon span-icon"></span>Nom</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-montant"><span class="ui-icon span-icon"></span>Montant</th><th class="com-table-th-med com-underline-hover com-cursor-pointer td-edt"></th><th class="com-table-th-fin com-underline-hover com-cursor-pointer td-edt"></th></tr></thead><tbody><!-- BEGIN listeEspeceFerme --><tr class="com-cursor-pointer compte-ligne-producteur"><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceFerme.opeDateTri}</span>{listeEspeceFerme.opeDate}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceFerme.ferIdTri}</span>{listeEspeceFerme.ferNumero}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceFerme.cptIdTri}</span>{listeEspeceFerme.cptLabel}</td><td class="com-table-td">{listeEspeceFerme.ferNom}</td><td class="com-table-td"><span class="ui-helper-hidden">{listeEspeceFerme.opeMontant}</span>{listeEspeceFerme.opeMontantAffichage} {sigleMonetaire}</td><td class="com-table-td-med com-center"><button class="btn-valid ui-state-default ui-corner-all com-button com-center" id-operation="{listeEspeceFerme.opeId}">Ok</button></td><td class="com-table-td-fin td-edt"><span class="com-cursor-pointer com-btn-header ui-widget-content ui-corner-all btn-modifier" type="2" id-operation="{listeEspeceFerme.opeId}" title="Modifier"><span class="ui-icon ui-icon-pencil"></span></span></td></tr><!-- END listeEspeceFerme --></tbody></table></div></div></div>';this.listePaiementVide='<div id="{id}" class="com-center">Aucun paiement en attente.</div>';this.dialogValiderPaiement='<div id="dialog-valider-paiement" title="Valider le paiement"><form><table class="com-table-100"><tr><td>N° de compte : {cptLabel}</td></tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant : {opeMontantAffichage} {sigleMonetaire}</td></tr></table></form></div>';this.dialogSupprimerPaiement='<div id="dialog-supprimer-paiement" title="Supprimer le paiement"><form><table class="com-table-100"><tr><td>Voulez-vous supprimer le paiement ?</td></tr><tr><td>N° de compte : {cptLabel}</td></tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant : {opeMontantAffichage} {sigleMonetaire}</td></tr></table></form></div>';this.dialogModifierPaiementCheque='<div id="dialog-modifier-paiement" title="Modifier le paiement"><form><table class="com-table-100"><tr><td>N° de compte : {cptLabel}</td></tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant <input type="text" class="com-numeric com-input-text ui-widget-content ui-corner-all" value="{opeMontantAffichage}" name="montant" id="montant" maxlength="12" size="5"/> {sigleMonetaire}<td class="com-table-form-td montant-virement">N° <input type="text" value="{opeTypePaiementChampComplementaire}" class="com-input-text ui-widget-content ui-corner-all"  name="champComplementaire" id="champComplementaire" maxlength="50" size="15"/></td><td class="com-table-form-td montant-virement">Banque <input type="text" value="{opeBanque}" class="com-input-text ui-widget-content ui-corner-all"  name="champ-complementaire-banque" id="idBanque" id-banque="{opeIdBanque}" maxlength="50" size="15"/></td></tr></table></form></div>';this.dialogModifierPaiementEspece='<div id="dialog-modifier-paiement" title="Modifier le paiement"><form><table class="com-table-100"><tr><td>N° de compte : {cptLabel}</td></tr><tr class="com-center" ><td class="com-table-form-td montant-virement">Montant <input type="text" class="com-numeric com-input-text ui-widget-content ui-corner-all" value="{opeMontantAffichage}" name="montant" id="montant" maxlength="12" size="3"/> {sigleMonetaire}</td></tr></table></form></div>'}function SuiviPaiementVue(a){this.mListeOperation=[];this.mSelectedTabs=0;this.mBanques=[];this.mBanquesTriId=[];this.construct=function(b){$.history({vue:function(){SuiviPaiementVue(b)}});var c=this;var d={fonction:"afficher"};if(b&&b.selectedTabs){this.mSelectedTabs=b.selectedTabs}$.post("./index.php?m=CompteZeybu&v=SuiviPaiement","pParam="+$.toJSON(d),function(e){Infobulle.init();if(e){if(e.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}$(e.banques).each(function(){c.mBanquesTriId[this.id]=this});c.mBanques=e.banques;c.afficher(e)}else{Infobulle.generer(e,"")}}},"json")};this.afficher=function(i){var g=this;var b=0;$.each(i.listeEspeceAdherent,function(){if(this.opeId){this.opeDateTri=this.opeDate.extractDbDate().replace("-","");this.opeDate=this.opeDate.extractDbDate().dateDbToFr();this.opeMontantAffichage=this.opeMontant.nombreFormate(2,","," ");this.adhIdTri=this.adhNumero.replace("Z","");this.cptIdTri=this.cptLabel.replace("C","");b+=parseFloat(this.opeMontant);g.mListeOperation[this.opeId]=this}});var f=0;$.each(i.listeChequeAdherent,function(){if(this.opeId){this.opeDateTri=this.opeDate.extractDbDate().replace("-","");this.opeDate=this.opeDate.extractDbDate().dateDbToFr();this.opeMontantAffichage=this.opeMontant.nombreFormate(2,","," ");this.adhIdTri=this.adhNumero.replace("Z","");this.cptIdTri=this.cptLabel.replace("C","");f+=parseFloat(this.opeMontant);g.mListeOperation[this.opeId]=this}});var j=0;$.each(i.listeEspeceFerme,function(){if(this.opeId){this.opeDateTri=this.opeDate.extractDbDate().replace("-","");this.opeDate=this.opeDate.extractDbDate().dateDbToFr();this.opeMontantAffichage=this.opeMontant.nombreFormate(2,","," ");this.ferIdTri=this.ferNumero.replace("F","");this.cptIdTri=this.cptLabel.replace("C","");j+=parseFloat(this.opeMontant);g.mListeOperation[this.opeId]=this}});var h=0;$.each(i.listeChequeFerme,function(){if(this.opeId){this.opeDateTri=this.opeDate.extractDbDate().replace("-","");this.opeDate=this.opeDate.extractDbDate().dateDbToFr();this.opeMontantAffichage=this.opeMontant.nombreFormate(2,","," ");this.ferIdTri=this.ferNumero.replace("F","");this.cptIdTri=this.cptLabel.replace("C","");h+=parseFloat(this.opeMontant);g.mListeOperation[this.opeId]=this}});i.sigleMonetaire=gSigleMonetaire;i.totalEspeceAdherent=b.nombreFormate(2,","," ");i.totalChequeAdherent=f.nombreFormate(2,","," ");i.totalEspeceFerme=j.nombreFormate(2,","," ");i.totalChequeFerme=h.nombreFormate(2,","," ");var c=new CompteZeybuTemplate();var d=c.listePaiement;var e=$(d.template(i));if(i.listeChequeAdherent.length<=0||i.listeChequeAdherent[0].adhId==null){e.find("#cheque-adherent").replaceWith(c.listePaiementVide.template({id:"cheque-adherent"}))}if(i.listeEspeceAdherent.length<=0||i.listeEspeceAdherent[0].adhId==null){e.find("#espece-adherent").replaceWith(c.listePaiementVide.template({id:"espece-adherent"}))}if(i.listeChequeFerme.length<=0||i.listeChequeFerme[0].ferId==null){e.find("#cheque-ferme").replaceWith(c.listePaiementVide.template({id:"cheque-ferme"}))}if(i.listeEspeceFerme.length<=0||i.listeEspeceFerme[0].ferId==null){e.find("#espece-ferme").replaceWith(c.listePaiementVide.template({id:"espece-ferme"}))}$("#contenu").replaceWith(g.affect(e))};this.affect=function(b){b=this.affectTri(b);b=this.affectRecherche(b);b=this.affectTabs(b);b=this.affectValiderPaiement(b);b=this.affectModifierPaiement(b);b=this.affectSupprimerPaiement(b);b=gCommunVue.comHoverBtn(b);return b};this.affectTabs=function(b){var c=this;b.find("#listePaiement").tabs({selected:c.mSelectedTabs});b.find("#li-cheque-adherent,#li-espece-adherent,#li-cheque-ferme,#li-espece-ferme").click(function(){c.mSelectedTabs=$("#listePaiement").tabs("option","selected")});return b};this.affectTri=function(b){b.find(".table-cheque-adherent").tablesorter({sortList:[[0,0]],headers:{7:{sorter:false}}});b.find(".table-espece-adherent").tablesorter({sortList:[[0,0]],headers:{6:{sorter:false}}});b.find(".table-cheque-ferme").tablesorter({sortList:[[0,0]],headers:{7:{sorter:false}}});b.find(".table-espece-ferme").tablesorter({sortList:[[0,0]],headers:{6:{sorter:false}}});return b};this.affectRecherche=function(b){b.find("#filter-cheque-adherent").keyup(function(){$.uiTableFilter($(".table-cheque-adherent"),this.value)});b.find("#filter-espece-adherent").keyup(function(){$.uiTableFilter($(".table-espece-adherent"),this.value)});b.find("#filter-cheque-ferme").keyup(function(){$.uiTableFilter($(".table-cheque-ferme"),this.value)});b.find("#filter-espece-ferme").keyup(function(){$.uiTableFilter($(".table-espece-ferme"),this.value)});b.find("#filter-form-cheque-adherent, #filter-form-espece-adherent, #filter-form-cheque-ferme, #filter-form-espece-ferme").submit(function(){return false});return b};this.affectValiderPaiement=function(b){var c=this;b.find(".btn-valid").click(function(){c.dialogValiderPaiement($(this).attr("id-operation"))});return b};this.dialogValiderPaiement=function(e){var d=this;var b=this.mListeOperation[e];b.sigleMonetaire=gSigleMonetaire;var c=new CompteZeybuTemplate();$(c.dialogValiderPaiement.template(b)).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:450,buttons:{Valider:function(){d.validerPaiement(e,this)},Annuler:function(){$(this).dialog("close")}},close:function(f,g){$(this).remove()}})};this.validerPaiement=function(e,b){var d=this;var c={id:e,fonction:"valider"};$.post("./index.php?m=CompteZeybu&v=SuiviPaiement","pParam="+$.toJSON(c),function(g){Infobulle.init();if(g){if(g.valid){var h=new TemplateVR();h.valid=false;h.log.valid=false;var f=new VRerreur();f.code=ERR_351_CODE;f.message=ERR_351_MSG;h.log.erreurs.push(f);$(b).dialog("close");d.construct({vr:h,selectedTabs:d.mSelectedTabs})}else{Infobulle.generer(g,"")}}},"json")};this.affectModifierPaiement=function(b){var c=this;b.find(".btn-modifier").click(function(){c.dialogModifierPaiement($(this).attr("id-operation"),$(this).attr("type"))});return b};this.dialogModifierPaiement=function(g,c){var e=this;var b=this.mListeOperation[g];b.sigleMonetaire=gSigleMonetaire;var f={nom:""};if(this.mBanquesTriId[b.opeIdBanque]){f=this.mBanquesTriId[b.opeIdBanque]}b.opeBanque=f.nom;var d=new CompteZeybuTemplate();var h="";if(c==1){h=d.dialogModifierPaiementCheque}else{h=d.dialogModifierPaiementEspece}var i=$(e.affectDialog($(h.template(b)))).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:700,buttons:{Valider:function(){e.modifierPaiement(g,c,this)},Annuler:function(){$(this).dialog("close")}},close:function(j,k){$(this).remove()}});i.find("form").submit(function(){e.modifierPaiement(g,c,i);return false})};this.modifierPaiement=function(g,d,b){var f=this;var c=new RechargementCompteVO();c.id=g;c.fonction="modifier";c.montant=$(b).find("#montant").val().numberFrToDb();if(d==1){c.champComplementaireObligatoire=1;c.champComplementaire=$(b).find("#champComplementaire").val();if($("#idBanque").val()!=""){c.idBanque=$("#idBanque").attr("id-banque")}c.typePaiement=2}else{c.typePaiement=1;c.champComplementaireObligatoire=0}var e=new RechargementCompteValid();var h=e.validAjout(c);Infobulle.init();if(h.valid){$.post("./index.php?m=CompteZeybu&v=SuiviPaiement","pParam="+$.toJSON(c),function(j){Infobulle.init();if(j){if(j.valid){var k=new TemplateVR();k.valid=false;k.log.valid=false;var i=new VRerreur();i.code=ERR_352_CODE;i.message=ERR_352_MSG;k.log.erreurs.push(i);$(b).dialog("close");f.construct({vr:k,selectedTabs:f.mSelectedTabs})}else{Infobulle.generer(j,"")}}},"json")}else{Infobulle.generer(h,"")}};this.affectDialog=function(b){b=gCommunVue.comNumeric(b);b=this.affectListeBanque(b);return b};this.affectListeBanque=function(c){var d=this;if(c.find("#idBanque").length==1){function b(f){var h=$(f).val(),i=new RegExp("^"+$.ui.autocomplete.escapeRegex(h)+"$","i"),g=false;$(d.mBanques).each(function(){if($(this).text().match(i)){this.selected=g=true;return false}});if(!g){$(f).attr("id-banque","");var j=new RechargementCompteVR();j.valid=false;j.idBanque.valid=false;var e=new VRerreur();e.code=ERR_261_CODE;e.message=ERR_261_MSG;j.idBanque.erreurs.push(e);Infobulle.generer(j,"");return false}}c.find("#idBanque").autocomplete({minLength:0,source:function(f,e){var g=new RegExp("^"+$.ui.autocomplete.escapeRegex(f.term),"i");e($.grep(d.mBanques,function(h){return g.test(h.nom)||g.test(h.nomCourt)}))},focus:function(e,f){Infobulle.init();$("#idBanque").val(htmlDecode(f.item.nom));return false},select:function(e,f){Infobulle.init();$("#idBanque").val(htmlDecode(f.item.nom));$("#idBanque").attr("id-banque",f.item.id);return false},change:function(e,f){Infobulle.init();if(!f.item){return b(this)}}}).data("autocomplete")._renderItem=function(e,f){return $("<li>").data("item.autocomplete",f).append("<a>"+f.nomCourt+" : "+f.nom+"<br>"+f.description+"</a>").appendTo(e)}}return c};this.affectSupprimerPaiement=function(b){var c=this;b.find(".btn-supprimer").click(function(){c.dialogSupprimerPaiement($(this).attr("id-operation"))});return b};this.dialogSupprimerPaiement=function(e){var d=this;var b=this.mListeOperation[e];b.sigleMonetaire=gSigleMonetaire;var c=new CompteZeybuTemplate();$(c.dialogSupprimerPaiement.template(b)).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:450,buttons:{Supprimer:function(){d.supprimerPaiement(e,this)},Annuler:function(){$(this).dialog("close")}},close:function(f,g){$(this).remove()}})};this.supprimerPaiement=function(e,b){var d=this;var c={id:e,fonction:"supprimer"};$.post("./index.php?m=CompteZeybu&v=SuiviPaiement","pParam="+$.toJSON(c),function(g){Infobulle.init();if(g){if(g.valid){var h=new TemplateVR();h.valid=false;h.log.valid=false;var f=new VRerreur();f.code=ERR_353_CODE;f.message=ERR_353_MSG;h.log.erreurs.push(f);$(b).dialog("close");d.construct({vr:h,selectedTabs:d.mSelectedTabs})}else{Infobulle.generer(g,"")}}},"json")};this.construct(a)}function CompteZeybuVue(a){this.construct=function(b){$.history({vue:function(){CompteZeybuVue(b)}});var c=this;$.post("./index.php?m=CompteZeybu&v=CompteZeybu",function(d){Infobulle.init();if(d){if(d.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}c.afficher(d)}else{Infobulle.generer(d,"")}}},"json")};this.afficher=function(e){var d=this;if(e.soldeTotal!=null){e.soldeTotal=e.soldeTotal.nombreFormate(2,","," ")}else{e.soldeTotal="0".nombreFormate(2,","," ")}if(e.soldeCaisse!=null){e.soldeCaisse=e.soldeCaisse.nombreFormate(2,","," ")}else{e.soldeCaisse="0".nombreFormate(2,","," ")}if(e.soldeBanque!=null){e.soldeBanque=e.soldeBanque.nombreFormate(2,","," ")}else{e.soldeBanque="0".nombreFormate(2,","," ")}if(e.soldeSolidaire!=null){e.soldeSolidaire=e.soldeSolidaire.nombreFormate(2,","," ")}else{e.soldeSolidaire="0".nombreFormate(2,","," ")}e.sigleMonetaire=gSigleMonetaire;$(e.operation).each(function(){if(this.opeDate!=null){this.opeDate=this.opeDate.extractDbDate().dateDbToFr();if(this.tppType==null){this.tppType=""}if(this.opeMontant<0){this.debit=(this.opeMontant*-1).nombreFormate(2,","," ")+" "+gSigleMonetaire;this.credit=""}else{this.debit="";this.credit=this.opeMontant.nombreFormate(2,","," ")+" "+gSigleMonetaire}}});var c=new CompteZeybuTemplate();if(e.operation.length>0&&e.operation[0].opeId!=null){var f=c.InfoCompte;var b=$(f.template(e));if(e.operation.length<31){b=this.masquerPagination(b)}else{b=this.paginnation(b)}$("#contenu").replaceWith(d.affect(b))}else{var f=c.listeOperationVide;$("#contenu").replaceWith(f.template(e))}};this.affect=function(b){b=gCommunVue.comHoverBtn(b);return b};this.paginnation=function(b){b.find("#table-operation").tablesorter({headers:{0:{sorter:false},1:{sorter:false},2:{sorter:false},3:{sorter:false},4:{sorter:false}}}).tablesorterPager({container:b.find("#content-nav-liste-operation"),positionFixed:false,size:30});return b};this.masquerPagination=function(b){b.find("#content-nav-liste-operation").hide();return b};this.construct(a)}function ListeVirementZeybuVue(a){this.modifVirement=[];this.construct=function(b){$.history({vue:function(){ListeVirementZeybuVue(b)}});var c=this;var d={fonction:"listeVirement"};$.post("./index.php?m=CompteZeybu&v=Virements","pParam="+$.toJSON(d),function(e){Infobulle.init();if(e){if(e.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}c.afficher(e)}else{Infobulle.generer(e,"")}}},"json")};this.afficher=function(e){var d=this;var c=new CompteZeybuTemplate();e.sigleMonetaire=gSigleMonetaire;$(e.operation).each(function(){if(this.opeDate!=null){d.modifVirement.push(this.opeId);this.opeDate=this.opeDate.extractDbDate().dateDbToFr();var g={};g.sigleMonetaire=gSigleMonetaire;if(this.opeMontant<0){g.debit=(this.opeMontant*-1).nombreFormate(2,","," ");this.debit=c.montantDebit.template(g);this.credit=""}else{this.debit="";g.credit=this.opeMontant.nombreFormate(2,","," ");this.credit=c.montantCredit.template(g)}}});if(e.operation.length>0&&e.operation[0].opeId!=null){var f=c.listeVirement;var b=$(f.template(e));if(e.operation.length<21){b=this.masquerPagination(b)}else{b=this.paginnation(b)}$("#contenu").replaceWith(d.affect(b))}else{$("#contenu").replaceWith(c.listeVirementVide)}};this.affect=function(b){b=this.ajoutModification(b);b=this.affectModification(b);b=this.affectSuppression(b);b=gCommunVue.comHoverBtn(b);return b};this.paginnation=function(b){b.find("#table-operation").tablesorter({headers:{0:{sorter:false},1:{sorter:false},2:{sorter:false},3:{sorter:false},4:{sorter:false},5:{sorter:false}}}).tablesorterPager({container:b.find("#content-nav-liste-operation"),positionFixed:false,size:20});return b};this.masquerPagination=function(b){b.find("#content-nav-liste-operation").hide();return b};this.ajoutModification=function(b){var c=new CompteZeybuTemplate();$(this.modifVirement).each(function(){b.find("#td-edt-"+this).html(c.btnEdt);b.find("#td-sup-"+this).html(c.btnSup)});return b};this.affectModification=function(b){var c=this;b.find(".btn-edt-modifier").click(function(){var g=$(this).parents("tr").find(".id-operation").text();var e=new CompteZeybuTemplate();var f=e.dialogModifVirement;var d={};d.label=$(this).parents("tr").find(".cpt-label").text();d.montant=$(this).parents("tr").find(".montant").text();d.sigleMonetaire=gSigleMonetaire;var h=$(c.affectDialog($(f.template(d)))).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:450,buttons:{Valider:function(){c.modifierVirement(this,g)},Annuler:function(){$(this).dialog("close")}},close:function(i,j){$(this).remove()}});h.find("form").submit(function(){c.modifierVirement(h,g);return false})});return b};this.modifierVirement=function(b,d){var f=this;var c=new CompteZeybuModifierVirementVO();c.id=d;c.montant=$(b).find(":input[name=montant]").val().numberFrToDb();var e=new CompteZeybuVirementValid();var h=e.validUpdate(c);Infobulle.init();if(h.valid){c.fonction="modifier";var g=this;$.post("./index.php?m=CompteZeybu&v=Virements","pParam="+$.toJSON(c),function(j){Infobulle.init();if(j){if(j.valid){var l=new TemplateVR();l.valid=false;l.log.valid=false;var i=new VRerreur();i.code=ERR_308_CODE;i.message=ERR_308_MSG;l.log.erreurs.push(i);var k={vr:l};f.construct(k);$(b).dialog("close")}else{Infobulle.generer(j,"")}}},"json")}else{Infobulle.generer(h,"")}};this.affectDialog=function(b){b=gCommunVue.comNumeric(b);return b};this.affectSuppression=function(b){var c=this;b.find(".btn-edt-supprimer").click(function(){var g=$(this).parents("tr").find(".id-operation").text();var e=new CompteZeybuTemplate();var f=e.dialogSupVirement;var d={};d.label=$(this).parents("tr").find(".cpt-label").text();d.montant=$(this).parents("tr").find(".montant").text();d.sigleMonetaire=gSigleMonetaire;var h=$(f.template(d)).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:450,buttons:{Valider:function(){c.supprimerVirement(this,g)},Annuler:function(){$(this).dialog("close")}},close:function(i,j){$(this).remove()}});h.find("form").submit(function(){c.supprimerVirement(h,g);return false})});return b};this.supprimerVirement=function(b,d){var f=this;var c=new CompteZeybuSupprimerVirementVO();c.id=d;var e=new CompteZeybuVirementValid();var h=e.validDelete(c);Infobulle.init();if(h.valid){c.fonction="supprimer";var g=this;$.post("./index.php?m=CompteZeybu&v=Virements","pParam="+$.toJSON(c),function(j){Infobulle.init();if(j){if(j.valid){var l=new TemplateVR();l.valid=false;l.log.valid=false;var i=new VRerreur();i.code=ERR_309_CODE;i.message=ERR_309_MSG;l.log.erreurs.push(i);var k={vr:l};f.construct(k);$(b).dialog("close")}else{Infobulle.generer(j,"")}}},"json")}else{Infobulle.generer(h,"")}};this.construct(a)}function VirementZeybuVue(a){this.listeAdherent=[];this.listeProducteur=[];this.construct=function(b){$.history({vue:function(){VirementZeybuVue(b)}});var c=this;var d={fonction:"afficher"};$.post("./index.php?m=CompteZeybu&v=Virements","pParam="+$.toJSON(d),function(e){Infobulle.init();if(e){if(e.valid){if(b&&b.vr){Infobulle.generer(b.vr,"")}$(e.listeAdherent).each(function(){c.listeAdherent[this.adhId]=this});$(e.listeProducteur).each(function(){c.listeProducteur[this.ferId]=this});c.solde=e.solde;c.afficher(e)}else{Infobulle.generer(e,"")}}},"json")};this.afficher=function(e){var d=this;$.each(e.listeAdherent,function(){this.adhIdTri=this.adhNumero.replace("Z","")});$.each(e.listeProducteur,function(){this.ferIdTri=this.ferNumero.replace("F","")});var c=new CompteZeybuTemplate();var f=c.listeAdherent;var b=$(f.template(e));if(e.listeAdherent.length<=0||e.listeAdherent[0].adhId==null){b.find("#virement-adherent").replaceWith(c.listeAdherentVide)}if(e.listeProducteur.length<=0||e.listeProducteur[0].ferId==null){b.find("#virement-producteur").replaceWith(c.listeProducteurVide)}$("#contenu").replaceWith(d.affect(b))};this.affect=function(b){b=this.affectTri(b);b=this.affectRecherche(b);b=this.affectTabs(b);b=gCommunVue.comHoverBtn(b);b=this.affectVirementSolidaire(b);b=this.affectVirement(b);return b};this.affectTabs=function(b){b.find("#virements").tabs();return b};this.affectTri=function(b){b.find(".table-adherent").tablesorter({sortList:[[0,0]],headers:{4:{sorter:false},5:{sorter:false}}});b.find(".table-producteur").tablesorter({sortList:[[0,0]],headers:{3:{sorter:false},4:{sorter:false}}});return b};this.affectRecherche=function(b){b.find("#filter-producteur").keyup(function(){$.uiTableFilter($(".table-producteur"),this.value)});b.find("#filter-adherent").keyup(function(){$.uiTableFilter($(".table-adherent"),this.value)});b.find("#filter-form-producteur, #filter-form-adherent").submit(function(){return false});return b};this.affectVirementSolidaire=function(b){var c=this;b.find("#btn-virement-solidaire").click(function(){c.virementSolidaire(1)});b.find("#btn-virement-solidaire-inverse").click(function(){c.virementSolidaire(2)});return b};this.virementSolidaire=function(c){var e=this;var d=new CompteZeybuTemplate();var f=d.dialogVirementSolidaire;var b={};b.sigleMonetaire=gSigleMonetaire;b.type=2;if(c==1){b.cptDebit="Zeybu";b.cptCredit="Solidaire";b.idCptDebit=-1;b.idCptCredit=-2}else{b.cptDebit="Solidaire";b.cptCredit="Zeybu";b.idCptDebit=-2;b.idCptCredit=-1}var g=$(this.affectDialog($(f.template(b)))).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:450,buttons:{Valider:function(){e.envoyerVirement(this,b)},Annuler:function(){$(this).dialog("close")}},close:function(h,i){$(this).remove()}});g.find("form").submit(function(){e.envoyerVirement(g,b);return false})};this.affectVirement=function(b){var c=this;b.find(".compte-ligne-adherent").each(function(){var d=$(this).attr("id-adherent");$(this).find(".btn-virement").click(function(){var e={};e.type=1;e.cptDebit="Zeybu";e.cptCredit=c.listeAdherent[d].cptLabel;e.idCptDebit=-1;e.idCptCredit=c.listeAdherent[d].adhIdCompte;c.virement(e)});$(this).find(".btn-virement-inverse").click(function(){var e={};e.type=1;e.cptDebit=c.listeAdherent[d].cptLabel;e.cptCredit="Zeybu";e.idCptDebit=c.listeAdherent[d].adhIdCompte;e.idCptCredit=-1;c.virement(e)})});b.find(".compte-ligne-producteur").each(function(){var d=$(this).attr("id-producteur");$(this).find(".btn-virement").click(function(){var e={};e.type=1;e.cptDebit="Zeybu";e.cptCredit=c.listeProducteur[d].cptLabel;e.idCptDebit=-1;e.idCptCredit=c.listeProducteur[d].ferIdCompte;c.virement(e)});$(this).find(".btn-virement-inverse").click(function(){var e={};e.type=1;e.cptDebit=c.listeProducteur[d].cptLabel;e.cptCredit="Zeybu";e.idCptDebit=c.listeProducteur[d].ferIdCompte;e.idCptCredit=-1;c.virement(e)})});return b};this.virement=function(b){var d=this;var c=new CompteZeybuTemplate();var e=c.dialogAjoutVirement;b.sigleMonetaire=gSigleMonetaire;var f=$(this.affectDialog($(e.template(b)))).dialog({autoOpen:true,modal:true,draggable:false,resizable:false,width:450,buttons:{Valider:function(){d.envoyerVirement(this,b)},Annuler:function(){$(this).dialog("close")}},close:function(g,h){$(this).remove()}});f.find("form").submit(function(){d.envoyerVirement(f,b);return false})};this.affectDialog=function(b){b=gCommunVue.comNumeric(b);return b};this.envoyerVirement=function(b,e){var c=new CompteZeybuAjoutVirementVO();c.idCptDebit=e.idCptDebit;c.idCptCredit=e.idCptCredit;c.type=e.type;c.montant=$(b).find(":input[name=montant]").val().numberFrToDb();var d=new CompteZeybuVirementValid();var g=d.validAjout(c);Infobulle.init();if(g.valid){c.fonction="ajout";var f=this;$.post("./index.php?m=CompteZeybu&v=Virements","pParam="+$.toJSON(c),function(i){Infobulle.init();if(i){if(i.valid){var j=new TemplateVR();j.valid=false;j.log.valid=false;var h=new VRerreur();h.code=ERR_307_CODE;h.message=ERR_307_MSG;j.log.erreurs.push(h);Infobulle.generer(j,"");$(b).dialog("close")}else{Infobulle.generer(i,"")}}},"json")}else{Infobulle.generer(g,"")}};this.construct(a)};